function WB(e, t) {
    var n = ["Worksheets", "SheetNames"]
      , i = "CustomDocumentProperties"
      , r = [];
    return e && zi(e).forEach(function(s) {
        if (Object.prototype.hasOwnProperty.call(e, s)) {
            for (var o = 0; o < t0.length; ++o)
                if (s == t0[o][1])
                    return;
            for (o = 0; o < ju.length; ++o)
                if (s == ju[o][1])
                    return;
            for (o = 0; o < n.length; ++o)
                if (s == n[o])
                    return;
            var a = e[s]
              , c = "string";
            typeof a == "number" ? (c = "float",
            a = String(a)) : a === !0 || a === !1 ? (c = "boolean",
            a = a ? "1" : "0") : a = String(a),
            r.push(Pe(Zx(s), a, {
                "dt:dt": c
            }))
        }
    }),
    t && zi(t).forEach(function(s) {
        if (Object.prototype.hasOwnProperty.call(t, s) && !(e && Object.prototype.hasOwnProperty.call(e, s))) {
            var o = t[s]
              , a = "string";
            typeof o == "number" ? (a = "float",
            o = String(o)) : o === !0 || o === !1 ? (a = "boolean",
            o = o ? "1" : "0") : o instanceof Date ? (a = "dateTime.tz",
            o = o.toISOString()) : o = String(o),
            r.push(Pe(Zx(s), o, {
                "dt:dt": a
            }))
        }
    }),
    "<" + i + ' xmlns="' + Ss.o + '">' + r.join("") + "</" + i + ">"
}
function $B(e) {
    var t = typeof e == "string" ? new Date(Date.parse(e)) : e
      , n = t.getTime() / 1e3 + 11644473600
      , i = n % Math.pow(2, 32)
      , r = (n - i) / Math.pow(2, 32);
    i *= 1e7,
    r *= 1e7;
    var s = i / Math.pow(2, 32) | 0;
    s > 0 && (i = i % Math.pow(2, 32),
    r += s);
    var o = ce(8);
    return o.write_shift(4, i),
    o.write_shift(4, r),
    o
}
function fw(e, t) {
    var n = ce(4)
      , i = ce(4);
    switch (n.write_shift(4, e == 80 ? 31 : e),
    e) {
    case 3:
        i.write_shift(-4, t);
        break;
    case 5:
        i = ce(8),
        i.write_shift(8, t, "f");
        break;
    case 11:
        i.write_shift(4, t ? 1 : 0);
        break;
    case 64:
        i = $B(t);
        break;
    case 31:
    case 80:
        for (i = ce(4 + 2 * (t.length + 1) + (t.length % 2 ? 0 : 2)),
        i.write_shift(4, t.length + 1),
        i.write_shift(0, t, "dbcs"); i.l != i.length; )
            i.write_shift(1, 0);
        break;
    default:
        throw new Error("TypedPropertyValue unrecognized type " + e + " " + t)
    }
    return $i([n, i])
}
var pC = ["CodePage", "Thumbnail", "_PID_LINKBASE", "_PID_HLINKS", "SystemIdentifier", "FMTID"];
function jB(e) {
    switch (typeof e) {
    case "boolean":
        return 11;
    case "number":
        return (e | 0) == e ? 3 : 5;
    case "string":
        return 31;
    case "object":
        if (e instanceof Date)
            return 64;
        break
    }
    return -1
}
function pw(e, t, n) {
    var i = ce(8)
      , r = []
      , s = []
      , o = 8
      , a = 0
      , c = ce(8)
      , l = ce(8);
    if (c.write_shift(4, 2),
    c.write_shift(4, 1200),
    l.write_shift(4, 1),
    s.push(c),
    r.push(l),
    o += 8 + c.length,
    !t) {
        l = ce(8),
        l.write_shift(4, 0),
        r.unshift(l);
        var u = [ce(4)];
        for (u[0].write_shift(4, e.length),
        a = 0; a < e.length; ++a) {
            var h = e[a][0];
            for (c = ce(8 + 2 * (h.length + 1) + (h.length % 2 ? 0 : 2)),
            c.write_shift(4, a + 2),
            c.write_shift(4, h.length + 1),
            c.write_shift(0, h, "dbcs"); c.l != c.length; )
                c.write_shift(1, 0);
            u.push(c)
        }
        c = $i(u),
        s.unshift(c),
        o += 8 + c.length
    }
    for (a = 0; a < e.length; ++a)
        if (!(t && !t[e[a][0]]) && !(pC.indexOf(e[a][0]) > -1 || hC.indexOf(e[a][0]) > -1) && e[a][1] != null) {
            var d = e[a][1]
              , f = 0;
            if (t) {
                f = +t[e[a][0]];
                var g = n[f];
                if (g.p == "version" && typeof d == "string") {
                    var p = d.split(".");
                    d = (+p[0] << 16) + (+p[1] || 0)
                }
                c = fw(g.t, d)
            } else {
                var v = jB(d);
                v == -1 && (v = 31,
                d = String(d)),
                c = fw(v, d)
            }
            s.push(c),
            l = ce(8),
            l.write_shift(4, t ? f : 2 + a),
            r.push(l),
            o += 8 + c.length
        }
    var b = 8 * (s.length + 1);
    for (a = 0; a < s.length; ++a)
        r[a].write_shift(4, b),
        b += s[a].length;
    return i.write_shift(4, o),
    i.write_shift(4, s.length),
    $i([i].concat(r).concat(s))
}
function gw(e, t, n, i, r, s) {
    var o = ce(r ? 68 : 48)
      , a = [o];
    o.write_shift(2, 65534),
    o.write_shift(2, 0),
    o.write_shift(4, 842412599),
    o.write_shift(16, nn.utils.consts.HEADER_CLSID, "hex"),
    o.write_shift(4, r ? 2 : 1),
    o.write_shift(16, t, "hex"),
    o.write_shift(4, r ? 68 : 48);
    var c = pw(e, n, i);
    if (a.push(c),
    r) {
        var l = pw(r, null, null);
        o.write_shift(16, s, "hex"),
        o.write_shift(4, 68 + c.length),
        a.push(l)
    }
    return $i(a)
}
function qB(e, t) {
    t || (t = ce(e));
    for (var n = 0; n < e; ++n)
        t.write_shift(1, 0);
    return t
}
function zB(e, t) {
    return e.read_shift(t) === 1
}
function Mr(e, t) {
    return t || (t = ce(2)),
    t.write_shift(2, +!!e),
    t
}
function gC(e) {
    return e.read_shift(2, "u")
}
function Ls(e, t) {
    return t || (t = ce(2)),
    t.write_shift(2, e),
    t
}
function mC(e, t, n) {
    return n || (n = ce(2)),
    n.write_shift(1, t == "e" ? +e : +!!e),
    n.write_shift(1, t == "e" ? 1 : 0),
    n
}
function vC(e, t, n) {
    var i = e.read_shift(n && n.biff >= 12 ? 2 : 1)
      , r = "sbcs-cont"
      , s = e0;
    if (n && n.biff >= 8 && (e0 = 1200),
    !n || n.biff == 8) {
        var o = e.read_shift(1);
        o && (r = "dbcs-cont")
    } else
        n.biff == 12 && (r = "wstr");
    n.biff >= 2 && n.biff <= 5 && (r = "cpstr");
    var a = i ? e.read_shift(i, r) : "";
    return e0 = s,
    a
}
function XB(e) {
    var t = e.t || ""
      , n = 1
      , i = ce(3 + (n > 1 ? 2 : 0));
    i.write_shift(2, t.length),
    i.write_shift(1, (n > 1 ? 8 : 0) | 1),
    n > 1 && i.write_shift(2, n);
    var r = ce(2 * t.length);
    r.write_shift(2 * t.length, t, "utf16le");
    var s = [i, r];
    return $i(s)
}
function KB(e, t, n) {
    var i;
    if (n) {
        if (n.biff >= 2 && n.biff <= 5)
            return e.read_shift(t, "cpstr");
        if (n.biff >= 12)
            return e.read_shift(t, "dbcs-cont")
    }
    var r = e.read_shift(1);
    return r === 0 ? i = e.read_shift(t, "sbcs-cont") : i = e.read_shift(t, "dbcs-cont"),
    i
}
function YB(e, t, n) {
    var i = e.read_shift(n && n.biff == 2 ? 1 : 2);
    return i === 0 ? (e.l++,
    "") : KB(e, i, n)
}
function QB(e, t, n) {
    if (n.biff > 5)
        return YB(e, t, n);
    var i = e.read_shift(1);
    return i === 0 ? (e.l++,
    "") : e.read_shift(i, n.biff <= 4 || !e.lens ? "cpstr" : "sbcs-cont")
}
function _C(e, t, n) {
    return n || (n = ce(3 + 2 * e.length)),
    n.write_shift(2, e.length),
    n.write_shift(1, 1),
    n.write_shift(31, e, "utf16le"),
    n
}
function mw(e, t) {
    t || (t = ce(6 + e.length * 2)),
    t.write_shift(4, 1 + e.length);
    for (var n = 0; n < e.length; ++n)
        t.write_shift(2, e.charCodeAt(n));
    return t.write_shift(2, 0),
    t
}
function JB(e) {
    var t = ce(512)
      , n = 0
      , i = e.Target;
    i.slice(0, 7) == "file://" && (i = i.slice(7));
    var r = i.indexOf("#")
      , s = r > -1 ? 31 : 23;
    switch (i.charAt(0)) {
    case "#":
        s = 28;
        break;
    case ".":
        s &= -3;
        break
    }
    t.write_shift(4, 2),
    t.write_shift(4, s);
    var o = [8, 6815827, 6619237, 4849780, 83];
    for (n = 0; n < o.length; ++n)
        t.write_shift(4, o[n]);
    if (s == 28)
        i = i.slice(1),
        mw(i, t);
    else if (s & 2) {
        for (o = "e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),
        n = 0; n < o.length; ++n)
            t.write_shift(1, parseInt(o[n], 16));
        var a = r > -1 ? i.slice(0, r) : i;
        for (t.write_shift(4, 2 * (a.length + 1)),
        n = 0; n < a.length; ++n)
            t.write_shift(2, a.charCodeAt(n));
        t.write_shift(2, 0),
        s & 8 && mw(r > -1 ? i.slice(r + 1) : "", t)
    } else {
        for (o = "03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),
        n = 0; n < o.length; ++n)
            t.write_shift(1, parseInt(o[n], 16));
        for (var c = 0; i.slice(c * 3, c * 3 + 3) == "../" || i.slice(c * 3, c * 3 + 3) == "..\\"; )
            ++c;
        for (t.write_shift(2, c),
        t.write_shift(4, i.length - 3 * c + 1),
        n = 0; n < i.length - 3 * c; ++n)
            t.write_shift(1, i.charCodeAt(n + 3 * c) & 255);
        for (t.write_shift(1, 0),
        t.write_shift(2, 65535),
        t.write_shift(2, 57005),
        n = 0; n < 6; ++n)
            t.write_shift(4, 0)
    }
    return t.slice(0, t.l)
}
function r0(e, t, n, i) {
    return i || (i = ce(6)),
    i.write_shift(2, e),
    i.write_shift(2, t),
    i.write_shift(2, n || 0),
    i
}
function ZB(e, t, n) {
    var i = n.biff > 8 ? 4 : 2
      , r = e.read_shift(i)
      , s = e.read_shift(i, "i")
      , o = e.read_shift(i, "i");
    return [r, s, o]
}
function eU(e) {
    var t = e.read_shift(2)
      , n = e.read_shift(2)
      , i = e.read_shift(2)
      , r = e.read_shift(2);
    return {
        s: {
            c: i,
            r: t
        },
        e: {
            c: r,
            r: n
        }
    }
}
function yC(e, t) {
    return t || (t = ce(8)),
    t.write_shift(2, e.s.r),
    t.write_shift(2, e.e.r),
    t.write_shift(2, e.s.c),
    t.write_shift(2, e.e.c),
    t
}
function B7(e, t, n) {
    var i = 1536
      , r = 16;
    switch (n.bookType) {
    case "biff8":
        break;
    case "biff5":
        i = 1280,
        r = 8;
        break;
    case "biff4":
        i = 4,
        r = 6;
        break;
    case "biff3":
        i = 3,
        r = 6;
        break;
    case "biff2":
        i = 2,
        r = 4;
        break;
    case "xla":
        break;
    default:
        throw new Error("unsupported BIFF version")
    }
    var s = ce(r);
    return s.write_shift(2, i),
    s.write_shift(2, t),
    r > 4 && s.write_shift(2, 29282),
    r > 6 && s.write_shift(2, 1997),
    r > 8 && (s.write_shift(2, 49161),
    s.write_shift(2, 1),
    s.write_shift(2, 1798),
    s.write_shift(2, 0)),
    s
}
function tU(e, t) {
    var n = !t || t.biff == 8
      , i = ce(n ? 112 : 54);
    for (i.write_shift(t.biff == 8 ? 2 : 1, 7),
    n && i.write_shift(1, 0),
    i.write_shift(4, 859007059),
    i.write_shift(4, 5458548 | (n ? 0 : 536870912)); i.l < i.length; )
        i.write_shift(1, n ? 0 : 32);
    return i
}
function nU(e, t) {
    var n = !t || t.biff >= 8 ? 2 : 1
      , i = ce(8 + n * e.name.length);
    i.write_shift(4, e.pos),
    i.write_shift(1, e.hs || 0),
    i.write_shift(1, e.dt),
    i.write_shift(1, e.name.length),
    t.biff >= 8 && i.write_shift(1, 1),
    i.write_shift(n * e.name.length, e.name, t.biff < 8 ? "sbcs" : "utf16le");
    var r = i.slice(0, i.l);
    return r.l = i.l,
    r
}
function iU(e, t) {
    var n = ce(8);
    n.write_shift(4, e.Count),
    n.write_shift(4, e.Unique);
    for (var i = [], r = 0; r < e.length; ++r)
        i[r] = XB(e[r], t);
    var s = $i([n].concat(i));
    return s.parts = [n.length].concat(i.map(function(o) {
        return o.length
    })),
    s
}
function rU() {
    var e = ce(18);
    return e.write_shift(2, 0),
    e.write_shift(2, 0),
    e.write_shift(2, 29280),
    e.write_shift(2, 17600),
    e.write_shift(2, 56),
    e.write_shift(2, 0),
    e.write_shift(2, 0),
    e.write_shift(2, 1),
    e.write_shift(2, 500),
    e
}
function sU(e) {
    var t = ce(18)
      , n = 1718;
    return e && e.RTL && (n |= 64),
    t.write_shift(2, n),
    t.write_shift(4, 0),
    t.write_shift(4, 64),
    t.write_shift(4, 0),
    t.write_shift(4, 0),
    t
}
function oU(e, t) {
    var n = e.name || "Arial"
      , i = t && t.biff == 5
      , r = i ? 15 + n.length : 16 + 2 * n.length
      , s = ce(r);
    return s.write_shift(2, (e.sz || 12) * 20),
    s.write_shift(4, 0),
    s.write_shift(2, 400),
    s.write_shift(4, 0),
    s.write_shift(2, 0),
    s.write_shift(1, n.length),
    i || s.write_shift(1, 1),
    s.write_shift((i ? 1 : 2) * n.length, n, i ? "sbcs" : "utf16le"),
    s
}
function aU(e, t, n, i) {
    var r = ce(10);
    return r0(e, t, i, r),
    r.write_shift(4, n),
    r
}
function cU(e, t, n, i, r) {
    var s = !r || r.biff == 8
      , o = ce(8 + +s + (1 + s) * n.length);
    return r0(e, t, i, o),
    o.write_shift(2, n.length),
    s && o.write_shift(1, 1),
    o.write_shift((1 + s) * n.length, n, s ? "utf16le" : "sbcs"),
    o
}
function lU(e, t, n, i) {
    var r = n && n.biff == 5;
    i || (i = ce(r ? 3 + t.length : 5 + 2 * t.length)),
    i.write_shift(2, e),
    i.write_shift(r ? 1 : 2, t.length),
    r || i.write_shift(1, 1),
    i.write_shift((r ? 1 : 2) * t.length, t, r ? "sbcs" : "utf16le");
    var s = i.length > i.l ? i.slice(0, i.l) : i;
    return s.l == null && (s.l = s.length),
    s
}
function uU(e, t) {
    var n = t.biff == 8 || !t.biff ? 4 : 2
      , i = ce(2 * n + 6);
    return i.write_shift(n, e.s.r),
    i.write_shift(n, e.e.r + 1),
    i.write_shift(2, e.s.c),
    i.write_shift(2, e.e.c + 1),
    i.write_shift(2, 0),
    i
}
function vw(e, t, n, i) {
    var r = n && n.biff == 5;
    i || (i = ce(r ? 16 : 20)),
    i.write_shift(2, 0),
    e.style ? (i.write_shift(2, e.numFmtId || 0),
    i.write_shift(2, 65524)) : (i.write_shift(2, e.numFmtId || 0),
    i.write_shift(2, t << 4));
    var s = 0;
    return e.numFmtId > 0 && r && (s |= 1024),
    i.write_shift(4, s),
    i.write_shift(4, 0),
    r || i.write_shift(4, 0),
    i.write_shift(2, 0),
    i
}
function hU(e) {
    var t = ce(8);
    return t.write_shift(4, 0),
    t.write_shift(2, e[0] ? e[0] + 1 : 0),
    t.write_shift(2, e[1] ? e[1] + 1 : 0),
    t
}
function dU(e, t, n, i, r, s) {
    var o = ce(8);
    return r0(e, t, i, o),
    mC(n, s, o),
    o
}
function fU(e, t, n, i) {
    var r = ce(14);
    return r0(e, t, i, r),
    i0(n, r),
    r
}
function pU(e, t, n) {
    if (n.biff < 8)
        return gU(e, t, n);
    for (var i = [], r = e.l + t, s = e.read_shift(n.biff > 8 ? 4 : 2); s-- !== 0; )
        i.push(ZB(e, n.biff > 8 ? 12 : 6, n));
    if (e.l != r)
        throw new Error("Bad ExternSheet: " + e.l + " != " + r);
    return i
}
function gU(e, t, n) {
    e[e.l + 1] == 3 && e[e.l]++;
    var i = vC(e, t, n);
    return i.charCodeAt(0) == 3 ? i.slice(1) : i
}
function mU(e) {
    var t = ce(2 + e.length * 8);
    t.write_shift(2, e.length);
    for (var n = 0; n < e.length; ++n)
        yC(e[n], t);
    return t
}
function vU(e) {
    var t = ce(24)
      , n = Ii(e[0]);
    t.write_shift(2, n.r),
    t.write_shift(2, n.r),
    t.write_shift(2, n.c),
    t.write_shift(2, n.c);
    for (var i = "d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "), r = 0; r < 16; ++r)
        t.write_shift(1, parseInt(i[r], 16));
    return $i([t, JB(e[1])])
}
function _U(e) {
    var t = e[1].Tooltip
      , n = ce(10 + 2 * (t.length + 1));
    n.write_shift(2, 2048);
    var i = Ii(e[0]);
    n.write_shift(2, i.r),
    n.write_shift(2, i.r),
    n.write_shift(2, i.c),
    n.write_shift(2, i.c);
    for (var r = 0; r < t.length; ++r)
        n.write_shift(2, t.charCodeAt(r));
    return n.write_shift(2, 0),
    n
}
function yU(e) {
    return e || (e = ce(4)),
    e.write_shift(2, 1),
    e.write_shift(2, 1),
    e
}
function bU(e, t, n) {
    if (!n.cellStyles)
        return Zo(e, t);
    var i = n && n.biff >= 12 ? 4 : 2
      , r = e.read_shift(i)
      , s = e.read_shift(i)
      , o = e.read_shift(i)
      , a = e.read_shift(i)
      , c = e.read_shift(2);
    i == 2 && (e.l += 2);
    var l = {
        s: r,
        e: s,
        w: o,
        ixfe: a,
        flags: c
    };
    return (n.biff >= 5 || !n.biff) && (l.level = c >> 8 & 7),
    l
}
function SU(e, t) {
    var n = ce(12);
    n.write_shift(2, t),
    n.write_shift(2, t),
    n.write_shift(2, e.width * 256),
    n.write_shift(2, 0);
    var i = 0;
    return e.hidden && (i |= 1),
    n.write_shift(1, i),
    i = e.level || 0,
    n.write_shift(1, i),
    n.write_shift(2, 0),
    n
}
function xU(e) {
    for (var t = ce(2 * e), n = 0; n < e; ++n)
        t.write_shift(2, n + 1);
    return t
}
function wU(e, t, n) {
    var i = ce(15);
    return A1(i, e, t),
    i.write_shift(8, n, "f"),
    i
}
function CU(e, t, n) {
    var i = ce(9);
    return A1(i, e, t),
    i.write_shift(2, n),
    i
}
var EU = function() {
    var e = {
        1: 437,
        2: 850,
        3: 1252,
        4: 1e4,
        100: 852,
        101: 866,
        102: 865,
        103: 861,
        104: 895,
        105: 620,
        106: 737,
        107: 857,
        120: 950,
        121: 949,
        122: 936,
        123: 932,
        124: 874,
        125: 1255,
        126: 1256,
        150: 10007,
        151: 10029,
        152: 10006,
        200: 1250,
        201: 1251,
        202: 1254,
        203: 1253,
        0: 20127,
        8: 865,
        9: 437,
        10: 850,
        11: 437,
        13: 437,
        14: 850,
        15: 437,
        16: 850,
        17: 437,
        18: 850,
        19: 932,
        20: 850,
        21: 437,
        22: 850,
        23: 865,
        24: 437,
        25: 437,
        26: 850,
        27: 437,
        28: 863,
        29: 850,
        31: 852,
        34: 852,
        35: 852,
        36: 860,
        37: 850,
        38: 866,
        55: 850,
        64: 852,
        77: 936,
        78: 949,
        79: 950,
        80: 874,
        87: 1252,
        88: 1252,
        89: 1252,
        108: 863,
        134: 737,
        135: 852,
        136: 857,
        204: 1257,
        255: 16969
    }
      , t = w7({
        1: 437,
        2: 850,
        3: 1252,
        4: 1e4,
        100: 852,
        101: 866,
        102: 865,
        103: 861,
        104: 895,
        105: 620,
        106: 737,
        107: 857,
        120: 950,
        121: 949,
        122: 936,
        123: 932,
        124: 874,
        125: 1255,
        126: 1256,
        150: 10007,
        151: 10029,
        152: 10006,
        200: 1250,
        201: 1251,
        202: 1254,
        203: 1253,
        0: 20127
    });
    function n(a, c) {
        var l = []
          , u = n0(1);
        switch (c.type) {
        case "base64":
            u = uo(Ba(a));
            break;
        case "binary":
            u = uo(a);
            break;
        case "buffer":
        case "array":
            u = a;
            break
        }
        bs(u, 0);
        var h = u.read_shift(1)
          , d = !!(h & 136)
          , f = !1
          , g = !1;
        switch (h) {
        case 2:
            break;
        case 3:
            break;
        case 48:
            f = !0,
            d = !0;
            break;
        case 49:
            f = !0,
            d = !0;
            break;
        case 131:
            break;
        case 139:
            break;
        case 140:
            g = !0;
            break;
        case 245:
            break;
        default:
            throw new Error("DBF Unsupported Version: " + h.toString(16))
        }
        var p = 0
          , v = 521;
        h == 2 && (p = u.read_shift(2)),
        u.l += 3,
        h != 2 && (p = u.read_shift(4)),
        p > 1048576 && (p = 1e6),
        h != 2 && (v = u.read_shift(2));
        var b = u.read_shift(2)
          , S = c.codepage || 1252;
        h != 2 && (u.l += 16,
        u.read_shift(1),
        u[u.l] !== 0 && (S = e[u[u.l]]),
        u.l += 1,
        u.l += 2),
        g && (u.l += 36);
        for (var w = [], k = {}, B = Math.min(u.length, h == 2 ? 521 : v - 10 - (f ? 264 : 0)), N = g ? 32 : 11; u.l < B && u[u.l] != 13; )
            switch (k = {},
            k.name = un.utils.decode(S, u.slice(u.l, u.l + N)).replace(/[\u0000\r\n].*$/g, ""),
            u.l += N,
            k.type = String.fromCharCode(u.read_shift(1)),
            h != 2 && !g && (k.offset = u.read_shift(4)),
            k.len = u.read_shift(1),
            h == 2 && (k.offset = u.read_shift(2)),
            k.dec = u.read_shift(1),
            k.name.length && w.push(k),
            h != 2 && (u.l += g ? 13 : 14),
            k.type) {
            case "B":
                (!f || k.len != 8) && c.WTF && console.log("Skipping " + k.name + ":" + k.type);
                break;
            case "G":
            case "P":
                c.WTF && console.log("Skipping " + k.name + ":" + k.type);
                break;
            case "+":
            case "0":
            case "@":
            case "C":
            case "D":
            case "F":
            case "I":
            case "L":
            case "M":
            case "N":
            case "O":
            case "T":
            case "Y":
                break;
            default:
                throw new Error("Unknown Field Type: " + k.type)
            }
        if (u[u.l] !== 13 && (u.l = v - 1),
        u.read_shift(1) !== 13)
            throw new Error("DBF Terminator not found " + u.l + " " + u[u.l]);
        u.l = v;
        var E = 0
          , F = 0;
        for (l[0] = [],
        F = 0; F != w.length; ++F)
            l[0][F] = w[F].name;
        for (; p-- > 0; ) {
            if (u[u.l] === 42) {
                u.l += b;
                continue
            }
            for (++u.l,
            l[++E] = [],
            F = 0,
            F = 0; F != w.length; ++F) {
                var O = u.slice(u.l, u.l + w[F].len);
                u.l += w[F].len,
                bs(O, 0);
                var V = un.utils.decode(S, O);
                switch (w[F].type) {
                case "C":
                    V.trim().length && (l[E][F] = V.replace(/\s+$/, ""));
                    break;
                case "D":
                    V.length === 8 ? l[E][F] = new Date(+V.slice(0, 4),+V.slice(4, 6) - 1,+V.slice(6, 8)) : l[E][F] = V;
                    break;
                case "F":
                    l[E][F] = parseFloat(V.trim());
                    break;
                case "+":
                case "I":
                    l[E][F] = g ? O.read_shift(-4, "i") ^ 2147483648 : O.read_shift(4, "i");
                    break;
                case "L":
                    switch (V.trim().toUpperCase()) {
                    case "Y":
                    case "T":
                        l[E][F] = !0;
                        break;
                    case "N":
                    case "F":
                        l[E][F] = !1;
                        break;
                    case "":
                    case "?":
                        break;
                    default:
                        throw new Error("DBF Unrecognized L:|" + V + "|")
                    }
                    break;
                case "M":
                    if (!d)
                        throw new Error("DBF Unexpected MEMO for type " + h.toString(16));
                    l[E][F] = "##MEMO##" + (g ? parseInt(V.trim(), 10) : O.read_shift(4));
                    break;
                case "N":
                    V = V.replace(/\u0000/g, "").trim(),
                    V && V != "." && (l[E][F] = +V || 0);
                    break;
                case "@":
                    l[E][F] = new Date(O.read_shift(-8, "f") - 621356832e5);
                    break;
                case "T":
                    l[E][F] = new Date((O.read_shift(4) - 2440588) * 864e5 + O.read_shift(4));
                    break;
                case "Y":
                    l[E][F] = O.read_shift(4, "i") / 1e4 + O.read_shift(4, "i") / 1e4 * Math.pow(2, 32);
                    break;
                case "O":
                    l[E][F] = -O.read_shift(-8, "f");
                    break;
                case "B":
                    if (f && w[F].len == 8) {
                        l[E][F] = O.read_shift(8, "f");
                        break
                    }
                case "G":
                case "P":
                    O.l += w[F].len;
                    break;
                case "0":
                    if (w[F].name === "_NullFlags")
                        break;
                default:
                    throw new Error("DBF Unsupported data type " + w[F].type)
                }
            }
        }
        if (h != 2 && u.l < u.length && u[u.l++] != 26)
            throw new Error("DBF EOF Marker missing " + (u.l - 1) + " of " + u.length + " " + u[u.l - 1].toString(16));
        return c && c.sheetRows && (l = l.slice(0, c.sheetRows)),
        c.DBF = w,
        l
    }
    function i(a, c) {
        var l = c || {};
        l.dateNF || (l.dateNF = "yyyymmdd");
        var u = Qu(n(a, l), l);
        return u["!cols"] = l.DBF.map(function(h) {
            return {
                wch: h.len,
                DBF: h
            }
        }),
        delete l.DBF,
        u
    }
    function r(a, c) {
        try {
            return s0(i(a, c), c)
        } catch (l) {
            if (c && c.WTF)
                throw l
        }
        return {
            SheetNames: [],
            Sheets: {}
        }
    }
    var s = {
        B: 8,
        C: 250,
        L: 1,
        D: 8,
        "?": 0,
        "": 0
    };
    function o(a, c) {
        var l = c || {};
        if (+l.codepage >= 0 && S1(+l.codepage),
        l.type == "string")
            throw new Error("Cannot write DBF to JS string");
        var u = Yr()
          , h = l2(a, {
            header: 1,
            raw: !0,
            cellDates: !0
        })
          , d = h[0]
          , f = h.slice(1)
          , g = a["!cols"] || []
          , p = 0
          , v = 0
          , b = 0
          , S = 1;
        for (p = 0; p < d.length; ++p) {
            if (((g[p] || {}).DBF || {}).name) {
                d[p] = g[p].DBF.name,
                ++b;
                continue
            }
            if (d[p] != null) {
                if (++b,
                typeof d[p] == "number" && (d[p] = d[p].toString(10)),
                typeof d[p] != "string")
                    throw new Error("DBF Invalid column name " + d[p] + " |" + typeof d[p] + "|");
                if (d.indexOf(d[p]) !== p) {
                    for (v = 0; v < 1024; ++v)
                        if (d.indexOf(d[p] + "_" + v) == -1) {
                            d[p] += "_" + v;
                            break
                        }
                }
            }
        }
        var w = bn(a["!ref"])
          , k = []
          , B = []
          , N = [];
        for (p = 0; p <= w.e.c - w.s.c; ++p) {
            var E = ""
              , F = ""
              , O = 0
              , V = [];
            for (v = 0; v < f.length; ++v)
                f[v][p] != null && V.push(f[v][p]);
            if (V.length == 0 || d[p] == null) {
                k[p] = "?";
                continue
            }
            for (v = 0; v < V.length; ++v) {
                switch (typeof V[v]) {
                case "number":
                    F = "B";
                    break;
                case "string":
                    F = "C";
                    break;
                case "boolean":
                    F = "L";
                    break;
                case "object":
                    F = V[v]instanceof Date ? "D" : "C";
                    break;
                default:
                    F = "C"
                }
                O = Math.max(O, String(V[v]).length),
                E = E && E != F ? "C" : F
            }
            O > 250 && (O = 250),
            F = ((g[p] || {}).DBF || {}).type,
            F == "C" && g[p].DBF.len > O && (O = g[p].DBF.len),
            E == "B" && F == "N" && (E = "N",
            N[p] = g[p].DBF.dec,
            O = g[p].DBF.len),
            B[p] = E == "C" || F == "N" ? O : s[E] || 0,
            S += B[p],
            k[p] = E
        }
        var X = u.next(32);
        for (X.write_shift(4, 318902576),
        X.write_shift(4, f.length),
        X.write_shift(2, 296 + 32 * b),
        X.write_shift(2, S),
        p = 0; p < 4; ++p)
            X.write_shift(4, 0);
        for (X.write_shift(4, 0 | (+t[zu] || 3) << 8),
        p = 0,
        v = 0; p < d.length; ++p)
            if (d[p] != null) {
                var x = u.next(32)
                  , j = (d[p].slice(-10) + "\0\0\0\0\0\0\0\0\0\0\0").slice(0, 11);
                x.write_shift(1, j, "sbcs"),
                x.write_shift(1, k[p] == "?" ? "C" : k[p], "sbcs"),
                x.write_shift(4, v),
                x.write_shift(1, B[p] || s[k[p]] || 0),
                x.write_shift(1, N[p] || 0),
                x.write_shift(1, 2),
                x.write_shift(4, 0),
                x.write_shift(1, 0),
                x.write_shift(4, 0),
                x.write_shift(4, 0),
                v += B[p] || s[k[p]] || 0
            }
        var fe = u.next(264);
        for (fe.write_shift(4, 13),
        p = 0; p < 65; ++p)
            fe.write_shift(4, 0);
        for (p = 0; p < f.length; ++p) {
            var he = u.next(S);
            for (he.write_shift(1, 0),
            v = 0; v < d.length; ++v)
                if (d[v] != null)
                    switch (k[v]) {
                    case "L":
                        he.write_shift(1, f[p][v] == null ? 63 : f[p][v] ? 84 : 70);
                        break;
                    case "B":
                        he.write_shift(8, f[p][v] || 0, "f");
                        break;
                    case "N":
                        var Re = "0";
                        for (typeof f[p][v] == "number" && (Re = f[p][v].toFixed(N[v] || 0)),
                        b = 0; b < B[v] - Re.length; ++b)
                            he.write_shift(1, 32);
                        he.write_shift(1, Re, "sbcs");
                        break;
                    case "D":
                        f[p][v] ? (he.write_shift(4, ("0000" + f[p][v].getFullYear()).slice(-4), "sbcs"),
                        he.write_shift(2, ("00" + (f[p][v].getMonth() + 1)).slice(-2), "sbcs"),
                        he.write_shift(2, ("00" + f[p][v].getDate()).slice(-2), "sbcs")) : he.write_shift(8, "00000000", "sbcs");
                        break;
                    case "C":
                        var Xe = String(f[p][v] != null ? f[p][v] : "").slice(0, B[v]);
                        for (he.write_shift(1, Xe, "sbcs"),
                        b = 0; b < B[v] - Xe.length; ++b)
                            he.write_shift(1, 32);
                        break
                    }
        }
        return u.next(1).write_shift(1, 26),
        u.end()
    }
    return {
        to_workbook: r,
        to_sheet: i,
        from_sheet: o
    }
}()
  , TU = function() {
    var e = {
        AA: "\xC0",
        BA: "\xC1",
        CA: "\xC2",
        DA: 195,
        HA: "\xC4",
        JA: 197,
        AE: "\xC8",
        BE: "\xC9",
        CE: "\xCA",
        HE: "\xCB",
        AI: "\xCC",
        BI: "\xCD",
        CI: "\xCE",
        HI: "\xCF",
        AO: "\xD2",
        BO: "\xD3",
        CO: "\xD4",
        DO: 213,
        HO: "\xD6",
        AU: "\xD9",
        BU: "\xDA",
        CU: "\xDB",
        HU: "\xDC",
        Aa: "\xE0",
        Ba: "\xE1",
        Ca: "\xE2",
        Da: 227,
        Ha: "\xE4",
        Ja: 229,
        Ae: "\xE8",
        Be: "\xE9",
        Ce: "\xEA",
        He: "\xEB",
        Ai: "\xEC",
        Bi: "\xED",
        Ci: "\xEE",
        Hi: "\xEF",
        Ao: "\xF2",
        Bo: "\xF3",
        Co: "\xF4",
        Do: 245,
        Ho: "\xF6",
        Au: "\xF9",
        Bu: "\xFA",
        Cu: "\xFB",
        Hu: "\xFC",
        KC: "\xC7",
        Kc: "\xE7",
        q: "\xE6",
        z: "\u0153",
        a: "\xC6",
        j: "\u0152",
        DN: 209,
        Dn: 241,
        Hy: 255,
        S: 169,
        c: 170,
        R: 174,
        "B ": 180,
        0: 176,
        1: 177,
        2: 178,
        3: 179,
        5: 181,
        6: 182,
        7: 183,
        Q: 185,
        k: 186,
        b: 208,
        i: 216,
        l: 222,
        s: 240,
        y: 248,
        "!": 161,
        '"': 162,
        "#": 163,
        "(": 164,
        "%": 165,
        "'": 167,
        "H ": 168,
        "+": 171,
        ";": 187,
        "<": 188,
        "=": 189,
        ">": 190,
        "?": 191,
        "{": 223
    }
      , t = new RegExp("\x1BN(" + zi(e).join("|").replace(/\|\|\|/, "|\\||").replace(/([?()+])/g, "\\$1") + "|\\|)","gm")
      , n = function(d, f) {
        var g = e[f];
        return typeof g == "number" ? Gx(g) : g
    }
      , i = function(d, f, g) {
        var p = f.charCodeAt(0) - 32 << 4 | g.charCodeAt(0) - 48;
        return p == 59 ? d : Gx(p)
    };
    e["|"] = 254;
    function r(d, f) {
        switch (f.type) {
        case "base64":
            return s(Ba(d), f);
        case "binary":
            return s(d, f);
        case "buffer":
            return s(zt && Buffer.isBuffer(d) ? d.toString("binary") : O1(d), f);
        case "array":
            return s(p2(d), f)
        }
        throw new Error("Unrecognized type " + f.type)
    }
    function s(d, f) {
        var g = d.split(/[\n\r]+/), p = -1, v = -1, b = 0, S = 0, w = [], k = [], B = null, N = {}, E = [], F = [], O = [], V = 0, X;
        for (+f.codepage >= 0 && S1(+f.codepage); b !== g.length; ++b) {
            V = 0;
            var x = g[b].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g, i).replace(t, n), j = x.replace(/;;/g, "\0").split(";").map(function(U) {
                return U.replace(/\u0000/g, ";")
            }), fe = j[0], he;
            if (x.length > 0)
                switch (fe) {
                case "ID":
                    break;
                case "E":
                    break;
                case "B":
                    break;
                case "O":
                    break;
                case "W":
                    break;
                case "P":
                    j[1].charAt(0) == "P" && k.push(x.slice(3).replace(/;;/g, ";"));
                    break;
                case "C":
                    var Re = !1
                      , Xe = !1
                      , pt = !1
                      , it = !1
                      , de = -1
                      , Ue = -1;
                    for (S = 1; S < j.length; ++S)
                        switch (j[S].charAt(0)) {
                        case "A":
                            break;
                        case "X":
                            v = parseInt(j[S].slice(1)) - 1,
                            Xe = !0;
                            break;
                        case "Y":
                            for (p = parseInt(j[S].slice(1)) - 1,
                            Xe || (v = 0),
                            X = w.length; X <= p; ++X)
                                w[X] = [];
                            break;
                        case "K":
                            he = j[S].slice(1),
                            he.charAt(0) === '"' ? he = he.slice(1, he.length - 1) : he === "TRUE" ? he = !0 : he === "FALSE" ? he = !1 : isNaN(Fa(he)) ? isNaN(w1(he).getDate()) || (he = kr(he)) : (he = Fa(he),
                            B !== null && Bw(B) && (he = Vw(he))),
                            typeof un < "u" && typeof he == "string" && (f || {}).type != "string" && (f || {}).codepage && (he = un.utils.decode(f.codepage, he)),
                            Re = !0;
                            break;
                        case "E":
                            it = !0;
                            var A = CH(j[S].slice(1), {
                                r: p,
                                c: v
                            });
                            w[p][v] = [w[p][v], A];
                            break;
                        case "S":
                            pt = !0,
                            w[p][v] = [w[p][v], "S5S"];
                            break;
                        case "G":
                            break;
                        case "R":
                            de = parseInt(j[S].slice(1)) - 1;
                            break;
                        case "C":
                            Ue = parseInt(j[S].slice(1)) - 1;
                            break;
                        default:
                            if (f && f.WTF)
                                throw new Error("SYLK bad record " + x)
                        }
                    if (Re && (w[p][v] && w[p][v].length == 2 ? w[p][v][0] = he : w[p][v] = he,
                    B = null),
                    pt) {
                        if (it)
                            throw new Error("SYLK shared formula cannot have own formula");
                        var q = de > -1 && w[de][Ue];
                        if (!q || !q[1])
                            throw new Error("SYLK shared formula cannot find base");
                        w[p][v][1] = EH(q[1], {
                            r: p - de,
                            c: v - Ue
                        })
                    }
                    break;
                case "F":
                    var L = 0;
                    for (S = 1; S < j.length; ++S)
                        switch (j[S].charAt(0)) {
                        case "X":
                            v = parseInt(j[S].slice(1)) - 1,
                            ++L;
                            break;
                        case "Y":
                            for (p = parseInt(j[S].slice(1)) - 1,
                            X = w.length; X <= p; ++X)
                                w[X] = [];
                            break;
                        case "M":
                            V = parseInt(j[S].slice(1)) / 20;
                            break;
                        case "F":
                            break;
                        case "G":
                            break;
                        case "P":
                            B = k[parseInt(j[S].slice(1))];
                            break;
                        case "S":
                            break;
                        case "D":
                            break;
                        case "N":
                            break;
                        case "W":
                            for (O = j[S].slice(1).split(" "),
                            X = parseInt(O[0], 10); X <= parseInt(O[1], 10); ++X)
                                V = parseInt(O[2], 10),
                                F[X - 1] = V === 0 ? {
                                    hidden: !0
                                } : {
                                    wch: V
                                },
                                U7(F[X - 1]);
                            break;
                        case "C":
                            v = parseInt(j[S].slice(1)) - 1,
                            F[v] || (F[v] = {});
                            break;
                        case "R":
                            p = parseInt(j[S].slice(1)) - 1,
                            E[p] || (E[p] = {}),
                            V > 0 ? (E[p].hpt = V,
                            E[p].hpx = CC(V)) : V === 0 && (E[p].hidden = !0);
                            break;
                        default:
                            if (f && f.WTF)
                                throw new Error("SYLK bad record " + x)
                        }
                    L < 1 && (B = null);
                    break;
                default:
                    if (f && f.WTF)
                        throw new Error("SYLK bad record " + x)
                }
        }
        return E.length > 0 && (N["!rows"] = E),
        F.length > 0 && (N["!cols"] = F),
        f && f.sheetRows && (w = w.slice(0, f.sheetRows)),
        [w, N]
    }
    function o(d, f) {
        var g = r(d, f)
          , p = g[0]
          , v = g[1]
          , b = Qu(p, f);
        return zi(v).forEach(function(S) {
            b[S] = v[S]
        }),
        b
    }
    function a(d, f) {
        return s0(o(d, f), f)
    }
    function c(d, f, g, p) {
        var v = "C;Y" + (g + 1) + ";X" + (p + 1) + ";K";
        switch (d.t) {
        case "n":
            v += d.v || 0,
            d.f && !d.F && (v += ";E" + G7(d.f, {
                r: g,
                c: p
            }));
            break;
        case "b":
            v += d.v ? "TRUE" : "FALSE";
            break;
        case "e":
            v += d.w || d.v;
            break;
        case "d":
            v += '"' + (d.w || d.v) + '"';
            break;
        case "s":
            v += '"' + d.v.replace(/"/g, "").replace(/;/g, ";;") + '"';
            break
        }
        return v
    }
    function l(d, f) {
        f.forEach(function(g, p) {
            var v = "F;W" + (p + 1) + " " + (p + 1) + " ";
            g.hidden ? v += "0" : (typeof g.width == "number" && !g.wpx && (g.wpx = s2(g.width)),
            typeof g.wpx == "number" && !g.wch && (g.wch = o2(g.wpx)),
            typeof g.wch == "number" && (v += Math.round(g.wch))),
            v.charAt(v.length - 1) != " " && d.push(v)
        })
    }
    function u(d, f) {
        f.forEach(function(g, p) {
            var v = "F;";
            g.hidden ? v += "M0;" : g.hpt ? v += "M" + 20 * g.hpt + ";" : g.hpx && (v += "M" + 20 * a2(g.hpx) + ";"),
            v.length > 2 && d.push(v + "R" + (p + 1))
        })
    }
    function h(d, f) {
        var g = ["ID;PWXL;N;E"], p = [], v = bn(d["!ref"]), b, S = Array.isArray(d), w = `\r
`;
        g.push("P;PGeneral"),
        g.push("F;P0;DG0G8;M255"),
        d["!cols"] && l(g, d["!cols"]),
        d["!rows"] && u(g, d["!rows"]),
        g.push("B;Y" + (v.e.r - v.s.r + 1) + ";X" + (v.e.c - v.s.c + 1) + ";D" + [v.s.c, v.s.r, v.e.c, v.e.r].join(" "));
        for (var k = v.s.r; k <= v.e.r; ++k)
            for (var B = v.s.c; B <= v.e.c; ++B) {
                var N = tn({
                    r: k,
                    c: B
                });
                b = S ? (d[k] || [])[B] : d[N],
                !(!b || b.v == null && (!b.f || b.F)) && p.push(c(b, d, k, B, f))
            }
        return g.join(w) + w + p.join(w) + w + "E" + w
    }
    return {
        to_workbook: a,
        to_sheet: o,
        from_sheet: h
    }
}()
  , OU = function() {
    function e(s, o) {
        switch (o.type) {
        case "base64":
            return t(Ba(s), o);
        case "binary":
            return t(s, o);
        case "buffer":
            return t(zt && Buffer.isBuffer(s) ? s.toString("binary") : O1(s), o);
        case "array":
            return t(p2(s), o)
        }
        throw new Error("Unrecognized type " + o.type)
    }
    function t(s, o) {
        for (var a = s.split(`
`), c = -1, l = -1, u = 0, h = []; u !== a.length; ++u) {
            if (a[u].trim() === "BOT") {
                h[++c] = [],
                l = 0;
                continue
            }
            if (!(c < 0)) {
                var d = a[u].trim().split(",")
                  , f = d[0]
                  , g = d[1];
                ++u;
                for (var p = a[u] || ""; (p.match(/["]/g) || []).length & 1 && u < a.length - 1; )
                    p += `
` + a[++u];
                switch (p = p.trim(),
                +f) {
                case -1:
                    if (p === "BOT") {
                        h[++c] = [],
                        l = 0;
                        continue
                    } else if (p !== "EOD")
                        throw new Error("Unrecognized DIF special command " + p);
                    break;
                case 0:
                    p === "TRUE" ? h[c][l] = !0 : p === "FALSE" ? h[c][l] = !1 : isNaN(Fa(g)) ? isNaN(w1(g).getDate()) ? h[c][l] = g : h[c][l] = kr(g) : h[c][l] = Fa(g),
                    ++l;
                    break;
                case 1:
                    p = p.slice(1, p.length - 1),
                    p = p.replace(/""/g, '"'),
                    d1 && p && p.match(/^=".*"$/) && (p = p.slice(2, -1)),
                    h[c][l++] = p !== "" ? p : null;
                    break
                }
                if (p === "EOD")
                    break
            }
        }
        return o && o.sheetRows && (h = h.slice(0, o.sheetRows)),
        h
    }
    function n(s, o) {
        return Qu(e(s, o), o)
    }
    function i(s, o) {
        return s0(n(s, o), o)
    }
    var r = function() {
        var s = function(c, l, u, h, d) {
            c.push(l),
            c.push(u + "," + h),
            c.push('"' + d.replace(/"/g, '""') + '"')
        }
          , o = function(c, l, u, h) {
            c.push(l + "," + u),
            c.push(l == 1 ? '"' + h.replace(/"/g, '""') + '"' : h)
        };
        return function(c) {
            var l = [], u = bn(c["!ref"]), h, d = Array.isArray(c);
            s(l, "TABLE", 0, 1, "sheetjs"),
            s(l, "VECTORS", 0, u.e.r - u.s.r + 1, ""),
            s(l, "TUPLES", 0, u.e.c - u.s.c + 1, ""),
            s(l, "DATA", 0, 0, "");
            for (var f = u.s.r; f <= u.e.r; ++f) {
                o(l, -1, 0, "BOT");
                for (var g = u.s.c; g <= u.e.c; ++g) {
                    var p = tn({
                        r: f,
                        c: g
                    });
                    if (h = d ? (c[f] || [])[g] : c[p],
                    !h) {
                        o(l, 1, 0, "");
                        continue
                    }
                    switch (h.t) {
                    case "n":
                        var v = d1 ? h.w : h.v;
                        !v && h.v != null && (v = h.v),
                        v == null ? d1 && h.f && !h.F ? o(l, 1, 0, "=" + h.f) : o(l, 1, 0, "") : o(l, 0, v, "V");
                        break;
                    case "b":
                        o(l, 0, h.v ? 1 : 0, h.v ? "TRUE" : "FALSE");
                        break;
                    case "s":
                        o(l, 1, 0, !d1 || isNaN(h.v) ? h.v : '="' + h.v + '"');
                        break;
                    case "d":
                        h.w || (h.w = Vc(h.z || Bn[14], Qr(kr(h.v)))),
                        d1 ? o(l, 0, h.w, "V") : o(l, 1, 0, h.w);
                        break;
                    default:
                        o(l, 1, 0, "")
                    }
                }
            }
            o(l, -1, 0, "EOD");
            var b = `\r
`
              , S = l.join(b);
            return S
        }
    }();
    return {
        to_workbook: i,
        to_sheet: n,
        from_sheet: r
    }
}()
  , bC = function() {
    function e(h) {
        return h.replace(/\\b/g, "\\").replace(/\\c/g, ":").replace(/\\n/g, `
`)
    }
    function t(h) {
        return h.replace(/\\/g, "\\b").replace(/:/g, "\\c").replace(/\n/g, "\\n")
    }
    function n(h, d) {
        for (var f = h.split(`
`), g = -1, p = -1, v = 0, b = []; v !== f.length; ++v) {
            var S = f[v].trim().split(":");
            if (S[0] === "cell") {
                var w = Ii(S[1]);
                if (b.length <= w.r)
                    for (g = b.length; g <= w.r; ++g)
                        b[g] || (b[g] = []);
                switch (g = w.r,
                p = w.c,
                S[2]) {
                case "t":
                    b[g][p] = e(S[3]);
                    break;
                case "v":
                    b[g][p] = +S[3];
                    break;
                case "vtf":
                    var k = S[S.length - 1];
                case "vtc":
                    switch (S[3]) {
                    case "nl":
                        b[g][p] = !!+S[4];
                        break;
                    default:
                        b[g][p] = +S[4];
                        break
                    }
                    S[2] == "vtf" && (b[g][p] = [b[g][p], k])
                }
            }
        }
        return d && d.sheetRows && (b = b.slice(0, d.sheetRows)),
        b
    }
    function i(h, d) {
        return Qu(n(h, d), d)
    }
    function r(h, d) {
        return s0(i(h, d), d)
    }
    var s = ["socialcalc:version:1.5", "MIME-Version: 1.0", "Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`)
      , o = ["--SocialCalcSpreadsheetControlSave", "Content-type: text/plain; charset=UTF-8"].join(`
`) + `
`
      , a = ["# SocialCalc Spreadsheet Control Save", "part:sheet"].join(`
`)
      , c = "--SocialCalcSpreadsheetControlSave--";
    function l(h) {
        if (!h || !h["!ref"])
            return "";
        for (var d = [], f = [], g, p = "", v = xs(h["!ref"]), b = Array.isArray(h), S = v.s.r; S <= v.e.r; ++S)
            for (var w = v.s.c; w <= v.e.c; ++w)
                if (p = tn({
                    r: S,
                    c: w
                }),
                g = b ? (h[S] || [])[w] : h[p],
                !(!g || g.v == null || g.t === "z")) {
                    switch (f = ["cell", p, "t"],
                    g.t) {
                    case "s":
                    case "str":
                        f.push(t(g.v));
                        break;
                    case "n":
                        g.f ? (f[2] = "vtf",
                        f[3] = "n",
                        f[4] = g.v,
                        f[5] = t(g.f)) : (f[2] = "v",
                        f[3] = g.v);
                        break;
                    case "b":
                        f[2] = "vt" + (g.f ? "f" : "c"),
                        f[3] = "nl",
                        f[4] = g.v ? "1" : "0",
                        f[5] = t(g.f || (g.v ? "TRUE" : "FALSE"));
                        break;
                    case "d":
                        var k = Qr(kr(g.v));
                        f[2] = "vtc",
                        f[3] = "nd",
                        f[4] = "" + k,
                        f[5] = g.w || Vc(g.z || Bn[14], k);
                        break;
                    case "e":
                        continue
                    }
                    d.push(f.join(":"))
                }
        return d.push("sheet:c:" + (v.e.c - v.s.c + 1) + ":r:" + (v.e.r - v.s.r + 1) + ":tvf:1"),
        d.push("valueformat:1:text-wiki"),
        d.join(`
`)
    }
    function u(h) {
        return [s, o, a, o, l(h), c].join(`
`)
    }
    return {
        to_workbook: r,
        to_sheet: i,
        from_sheet: u
    }
}()
  , PU = function() {
    function e(u, h, d, f, g) {
        g.raw ? h[d][f] = u : u === "" || (u === "TRUE" ? h[d][f] = !0 : u === "FALSE" ? h[d][f] = !1 : isNaN(Fa(u)) ? isNaN(w1(u).getDate()) ? h[d][f] = u : h[d][f] = kr(u) : h[d][f] = Fa(u))
    }
    function t(u, h) {
        var d = h || {}
          , f = [];
        if (!u || u.length === 0)
            return f;
        for (var g = u.split(/[\r\n]/), p = g.length - 1; p >= 0 && g[p].length === 0; )
            --p;
        for (var v = 10, b = 0, S = 0; S <= p; ++S)
            b = g[S].indexOf(" "),
            b == -1 ? b = g[S].length : b++,
            v = Math.max(v, b);
        for (S = 0; S <= p; ++S) {
            f[S] = [];
            var w = 0;
            for (e(g[S].slice(0, v).trim(), f, S, w, d),
            w = 1; w <= (g[S].length - v) / 10 + 1; ++w)
                e(g[S].slice(v + (w - 1) * 10, v + w * 10).trim(), f, S, w, d)
        }
        return d.sheetRows && (f = f.slice(0, d.sheetRows)),
        f
    }
    var n = {
        44: ",",
        9: "	",
        59: ";",
        124: "|"
    }
      , i = {
        44: 3,
        9: 2,
        59: 1,
        124: 0
    };
    function r(u) {
        for (var h = {}, d = !1, f = 0, g = 0; f < u.length; ++f)
            (g = u.charCodeAt(f)) == 34 ? d = !d : !d && g in n && (h[g] = (h[g] || 0) + 1);
        g = [];
        for (f in h)
            Object.prototype.hasOwnProperty.call(h, f) && g.push([h[f], f]);
        if (!g.length) {
            h = i;
            for (f in h)
                Object.prototype.hasOwnProperty.call(h, f) && g.push([h[f], f])
        }
        return g.sort(function(p, v) {
            return p[0] - v[0] || i[p[1]] - i[v[1]]
        }),
        n[g.pop()[1]] || 44
    }
    function s(u, h) {
        var d = h || {}
          , f = "";
        Jo != null && d.dense == null && (d.dense = Jo);
        var g = d.dense ? [] : {}
          , p = {
            s: {
                c: 0,
                r: 0
            },
            e: {
                c: 0,
                r: 0
            }
        };
        u.slice(0, 4) == "sep=" ? u.charCodeAt(5) == 13 && u.charCodeAt(6) == 10 ? (f = u.charAt(4),
        u = u.slice(7)) : u.charCodeAt(5) == 13 || u.charCodeAt(5) == 10 ? (f = u.charAt(4),
        u = u.slice(6)) : f = r(u.slice(0, 1024)) : d && d.FS ? f = d.FS : f = r(u.slice(0, 1024));
        var v = 0
          , b = 0
          , S = 0
          , w = 0
          , k = 0
          , B = f.charCodeAt(0)
          , N = !1
          , E = 0
          , F = u.charCodeAt(0);
        u = u.replace(/\r\n/mg, `
`);
        var O = d.dateNF != null ? WL(d.dateNF) : null;
        function V() {
            var X = u.slice(w, k)
              , x = {};
            if (X.charAt(0) == '"' && X.charAt(X.length - 1) == '"' && (X = X.slice(1, -1).replace(/""/g, '"')),
            X.length === 0)
                x.t = "z";
            else if (d.raw)
                x.t = "s",
                x.v = X;
            else if (X.trim().length === 0)
                x.t = "s",
                x.v = X;
            else if (X.charCodeAt(0) == 61)
                X.charCodeAt(1) == 34 && X.charCodeAt(X.length - 1) == 34 ? (x.t = "s",
                x.v = X.slice(2, -1).replace(/""/g, '"')) : TH(X) ? (x.t = "n",
                x.f = X.slice(1)) : (x.t = "s",
                x.v = X);
            else if (X == "TRUE")
                x.t = "b",
                x.v = !0;
            else if (X == "FALSE")
                x.t = "b",
                x.v = !1;
            else if (!isNaN(S = Fa(X)))
                x.t = "n",
                d.cellText !== !1 && (x.w = X),
                x.v = S;
            else if (!isNaN(w1(X).getDate()) || O && X.match(O)) {
                x.z = d.dateNF || Bn[14];
                var j = 0;
                O && X.match(O) && (X = $L(X, d.dateNF, X.match(O) || []),
                j = 1),
                d.cellDates ? (x.t = "d",
                x.v = kr(X, j)) : (x.t = "n",
                x.v = Qr(kr(X, j))),
                d.cellText !== !1 && (x.w = Vc(x.z, x.v instanceof Date ? Qr(x.v) : x.v)),
                d.cellNF || delete x.z
            } else
                x.t = "s",
                x.v = X;
            if (x.t == "z" || (d.dense ? (g[v] || (g[v] = []),
            g[v][b] = x) : g[tn({
                c: b,
                r: v
            })] = x),
            w = k + 1,
            F = u.charCodeAt(w),
            p.e.c < b && (p.e.c = b),
            p.e.r < v && (p.e.r = v),
            E == B)
                ++b;
            else if (b = 0,
            ++v,
            d.sheetRows && d.sheetRows <= v)
                return !0
        }
        e: for (; k < u.length; ++k)
            switch (E = u.charCodeAt(k)) {
            case 34:
                F === 34 && (N = !N);
                break;
            case B:
            case 10:
            case 13:
                if (!N && V())
                    break e;
                break;
            default:
                break
            }
        return k - w > 0 && V(),
        g["!ref"] = si(p),
        g
    }
    function o(u, h) {
        return !(h && h.PRN) || h.FS || u.slice(0, 4) == "sep=" || u.indexOf("	") >= 0 || u.indexOf(",") >= 0 || u.indexOf(";") >= 0 ? s(u, h) : Qu(t(u, h), h)
    }
    function a(u, h) {
        var d = ""
          , f = h.type == "string" ? [0, 0, 0, 0] : H$(u, h);
        switch (h.type) {
        case "base64":
            d = Ba(u);
            break;
        case "binary":
            d = u;
            break;
        case "buffer":
            h.codepage == 65001 ? d = u.toString("utf8") : h.codepage && typeof un < "u" ? d = un.utils.decode(h.codepage, u) : d = zt && Buffer.isBuffer(u) ? u.toString("binary") : O1(u);
            break;
        case "array":
            d = p2(u);
            break;
        case "string":
            d = u;
            break;
        default:
            throw new Error("Unrecognized type " + h.type)
        }
        return f[0] == 239 && f[1] == 187 && f[2] == 191 ? d = g1(d.slice(3)) : h.type != "string" && h.type != "buffer" && h.codepage == 65001 ? d = g1(d) : h.type == "binary" && typeof un < "u" && h.codepage && (d = un.utils.decode(h.codepage, un.utils.encode(28591, d))),
        d.slice(0, 19) == "socialcalc:version:" ? bC.to_sheet(h.type == "string" ? d : g1(d), h) : o(d, h)
    }
    function c(u, h) {
        return s0(a(u, h), h)
    }
    function l(u) {
        for (var h = [], d = bn(u["!ref"]), f, g = Array.isArray(u), p = d.s.r; p <= d.e.r; ++p) {
            for (var v = [], b = d.s.c; b <= d.e.c; ++b) {
                var S = tn({
                    r: p,
                    c: b
                });
                if (f = g ? (u[p] || [])[b] : u[S],
                !f || f.v == null) {
                    v.push("          ");
                    continue
                }
                for (var w = (f.w || (Ua(f),
                f.w) || "").slice(0, 10); w.length < 10; )
                    w += " ";
                v.push(w + (b === 0 ? " " : ""))
            }
            h.push(v.join(""))
        }
        return h.join(`
`)
    }
    return {
        to_workbook: c,
        to_sheet: a,
        from_sheet: l
    }
}();
var _w = function() {
    function e(A, q, L) {
        if (A) {
            bs(A, A.l || 0);
            for (var U = L.Enum || de; A.l < A.length; ) {
                var te = A.read_shift(2)
                  , Ce = U[te] || U[65535]
                  , Ve = A.read_shift(2)
                  , De = A.l + Ve
                  , ge = Ce.f && Ce.f(A, Ve, L);
                if (A.l = De,
                q(ge, Ce, te))
                    return
            }
        }
    }
    function t(A, q) {
        switch (q.type) {
        case "base64":
            return n(uo(Ba(A)), q);
        case "binary":
            return n(uo(A), q);
        case "buffer":
        case "array":
            return n(A, q)
        }
        throw "Unsupported type " + q.type
    }
    function n(A, q) {
        if (!A)
            return A;
        var L = q || {};
        Jo != null && L.dense == null && (L.dense = Jo);
        var U = L.dense ? [] : {}
          , te = "Sheet1"
          , Ce = ""
          , Ve = 0
          , De = {}
          , ge = []
          , kt = []
          , xt = {
            s: {
                r: 0,
                c: 0
            },
            e: {
                r: 0,
                c: 0
            }
        }
          , fn = L.sheetRows || 0;
        if (A[2] == 0 && (A[3] == 8 || A[3] == 9) && A.length >= 16 && A[14] == 5 && A[15] === 108)
            throw new Error("Unsupported Works 3 for Mac file");
        if (A[2] == 2)
            L.Enum = de,
            e(A, function(He, er, ns) {
                switch (ns) {
                case 0:
                    L.vers = He,
                    He >= 4096 && (L.qpro = !0);
                    break;
                case 6:
                    xt = He;
                    break;
                case 204:
                    He && (Ce = He);
                    break;
                case 222:
                    Ce = He;
                    break;
                case 15:
                case 51:
                    L.qpro || (He[1].v = He[1].v.slice(1));
                case 13:
                case 14:
                case 16:
                    ns == 14 && (He[2] & 112) == 112 && (He[2] & 15) > 1 && (He[2] & 15) < 15 && (He[1].z = L.dateNF || Bn[14],
                    L.cellDates && (He[1].t = "d",
                    He[1].v = Vw(He[1].v))),
                    L.qpro && He[3] > Ve && (U["!ref"] = si(xt),
                    De[te] = U,
                    ge.push(te),
                    U = L.dense ? [] : {},
                    xt = {
                        s: {
                            r: 0,
                            c: 0
                        },
                        e: {
                            r: 0,
                            c: 0
                        }
                    },
                    Ve = He[3],
                    te = Ce || "Sheet" + (Ve + 1),
                    Ce = "");
                    var Bi = L.dense ? (U[He[0].r] || [])[He[0].c] : U[tn(He[0])];
                    if (Bi) {
                        Bi.t = He[1].t,
                        Bi.v = He[1].v,
                        He[1].z != null && (Bi.z = He[1].z),
                        He[1].f != null && (Bi.f = He[1].f);
                        break
                    }
                    L.dense ? (U[He[0].r] || (U[He[0].r] = []),
                    U[He[0].r][He[0].c] = He[1]) : U[tn(He[0])] = He[1];
                    break;
                default:
                }
            }, L);
        else if (A[2] == 26 || A[2] == 14)
            L.Enum = Ue,
            A[2] == 14 && (L.qpro = !0,
            A.l = 0),
            e(A, function(He, er, ns) {
                switch (ns) {
                case 204:
                    te = He;
                    break;
                case 22:
                    He[1].v = He[1].v.slice(1);
                case 23:
                case 24:
                case 25:
                case 37:
                case 39:
                case 40:
                    if (He[3] > Ve && (U["!ref"] = si(xt),
                    De[te] = U,
                    ge.push(te),
                    U = L.dense ? [] : {},
                    xt = {
                        s: {
                            r: 0,
                            c: 0
                        },
                        e: {
                            r: 0,
                            c: 0
                        }
                    },
                    Ve = He[3],
                    te = "Sheet" + (Ve + 1)),
                    fn > 0 && He[0].r >= fn)
                        break;
                    L.dense ? (U[He[0].r] || (U[He[0].r] = []),
                    U[He[0].r][He[0].c] = He[1]) : U[tn(He[0])] = He[1],
                    xt.e.c < He[0].c && (xt.e.c = He[0].c),
                    xt.e.r < He[0].r && (xt.e.r = He[0].r);
                    break;
                case 27:
                    He[14e3] && (kt[He[14e3][0]] = He[14e3][1]);
                    break;
                case 1537:
                    kt[He[0]] = He[1],
                    He[0] == Ve && (te = He[1]);
                    break;
                default:
                    break
                }
            }, L);
        else
            throw new Error("Unrecognized LOTUS BOF " + A[2]);
        if (U["!ref"] = si(xt),
        De[Ce || te] = U,
        ge.push(Ce || te),
        !kt.length)
            return {
                SheetNames: ge,
                Sheets: De
            };
        for (var Ot = {}, xi = [], Xt = 0; Xt < kt.length; ++Xt)
            De[ge[Xt]] ? (xi.push(kt[Xt] || ge[Xt]),
            Ot[kt[Xt]] = De[kt[Xt]] || De[ge[Xt]]) : (xi.push(kt[Xt]),
            Ot[kt[Xt]] = {
                "!ref": "A1"
            });
        return {
            SheetNames: xi,
            Sheets: Ot
        }
    }
    function i(A, q) {
        var L = q || {};
        if (+L.codepage >= 0 && S1(+L.codepage),
        L.type == "string")
            throw new Error("Cannot write WK1 to JS string");
        var U = Yr()
          , te = bn(A["!ref"])
          , Ce = Array.isArray(A)
          , Ve = [];
        Me(U, 0, s(1030)),
        Me(U, 6, c(te));
        for (var De = Math.min(te.e.r, 8191), ge = te.s.r; ge <= De; ++ge)
            for (var kt = qi(ge), xt = te.s.c; xt <= te.e.c; ++xt) {
                ge === te.s.r && (Ve[xt] = lr(xt));
                var fn = Ve[xt] + kt
                  , Ot = Ce ? (A[ge] || [])[xt] : A[fn];
                if (!(!Ot || Ot.t == "z"))
                    if (Ot.t == "n")
                        (Ot.v | 0) == Ot.v && Ot.v >= -32768 && Ot.v <= 32767 ? Me(U, 13, f(ge, xt, Ot.v)) : Me(U, 14, p(ge, xt, Ot.v));
                    else {
                        var xi = Ua(Ot);
                        Me(U, 15, h(ge, xt, xi.slice(0, 239)))
                    }
            }
        return Me(U, 1),
        U.end()
    }
    function r(A, q) {
        var L = q || {};
        if (+L.codepage >= 0 && S1(+L.codepage),
        L.type == "string")
            throw new Error("Cannot write WK3 to JS string");
        var U = Yr();
        Me(U, 0, o(A));
        for (var te = 0, Ce = 0; te < A.SheetNames.length; ++te)
            (A.Sheets[A.SheetNames[te]] || {})["!ref"] && Me(U, 27, it(A.SheetNames[te], Ce++));
        var Ve = 0;
        for (te = 0; te < A.SheetNames.length; ++te) {
            var De = A.Sheets[A.SheetNames[te]];
            if (!(!De || !De["!ref"])) {
                for (var ge = bn(De["!ref"]), kt = Array.isArray(De), xt = [], fn = Math.min(ge.e.r, 8191), Ot = ge.s.r; Ot <= fn; ++Ot)
                    for (var xi = qi(Ot), Xt = ge.s.c; Xt <= ge.e.c; ++Xt) {
                        Ot === ge.s.r && (xt[Xt] = lr(Xt));
                        var He = xt[Xt] + xi
                          , er = kt ? (De[Ot] || [])[Xt] : De[He];
                        if (!(!er || er.t == "z"))
                            if (er.t == "n")
                                Me(U, 23, V(Ot, Xt, Ve, er.v));
                            else {
                                var ns = Ua(er);
                                Me(U, 22, E(Ot, Xt, Ve, ns.slice(0, 239)))
                            }
                    }
                ++Ve
            }
        }
        return Me(U, 1),
        U.end()
    }
    function s(A) {
        var q = ce(2);
        return q.write_shift(2, A),
        q
    }
    function o(A) {
        var q = ce(26);
        q.write_shift(2, 4096),
        q.write_shift(2, 4),
        q.write_shift(4, 0);
        for (var L = 0, U = 0, te = 0, Ce = 0; Ce < A.SheetNames.length; ++Ce) {
            var Ve = A.SheetNames[Ce]
              , De = A.Sheets[Ve];
            if (!(!De || !De["!ref"])) {
                ++te;
                var ge = xs(De["!ref"]);
                L < ge.e.r && (L = ge.e.r),
                U < ge.e.c && (U = ge.e.c)
            }
        }
        return L > 8191 && (L = 8191),
        q.write_shift(2, L),
        q.write_shift(1, te),
        q.write_shift(1, U),
        q.write_shift(2, 0),
        q.write_shift(2, 0),
        q.write_shift(1, 1),
        q.write_shift(1, 2),
        q.write_shift(4, 0),
        q.write_shift(4, 0),
        q
    }
    function a(A, q, L) {
        var U = {
            s: {
                c: 0,
                r: 0
            },
            e: {
                c: 0,
                r: 0
            }
        };
        return q == 8 && L.qpro ? (U.s.c = A.read_shift(1),
        A.l++,
        U.s.r = A.read_shift(2),
        U.e.c = A.read_shift(1),
        A.l++,
        U.e.r = A.read_shift(2),
        U) : (U.s.c = A.read_shift(2),
        U.s.r = A.read_shift(2),
        q == 12 && L.qpro && (A.l += 2),
        U.e.c = A.read_shift(2),
        U.e.r = A.read_shift(2),
        q == 12 && L.qpro && (A.l += 2),
        U.s.c == 65535 && (U.s.c = U.e.c = U.s.r = U.e.r = 0),
        U)
    }
    function c(A) {
        var q = ce(8);
        return q.write_shift(2, A.s.c),
        q.write_shift(2, A.s.r),
        q.write_shift(2, A.e.c),
        q.write_shift(2, A.e.r),
        q
    }
    function l(A, q, L) {
        var U = [{
            c: 0,
            r: 0
        }, {
            t: "n",
            v: 0
        }, 0, 0];
        return L.qpro && L.vers != 20768 ? (U[0].c = A.read_shift(1),
        U[3] = A.read_shift(1),
        U[0].r = A.read_shift(2),
        A.l += 2) : (U[2] = A.read_shift(1),
        U[0].c = A.read_shift(2),
        U[0].r = A.read_shift(2)),
        U
    }
    function u(A, q, L) {
        var U = A.l + q
          , te = l(A, q, L);
        if (te[1].t = "s",
        L.vers == 20768) {
            A.l++;
            var Ce = A.read_shift(1);
            return te[1].v = A.read_shift(Ce, "utf8"),
            te
        }
        return L.qpro && A.l++,
        te[1].v = A.read_shift(U - A.l, "cstr"),
        te
    }
    function h(A, q, L) {
        var U = ce(7 + L.length);
        U.write_shift(1, 255),
        U.write_shift(2, q),
        U.write_shift(2, A),
        U.write_shift(1, 39);
        for (var te = 0; te < U.length; ++te) {
            var Ce = L.charCodeAt(te);
            U.write_shift(1, Ce >= 128 ? 95 : Ce)
        }
        return U.write_shift(1, 0),
        U
    }
    function d(A, q, L) {
        var U = l(A, q, L);
        return U[1].v = A.read_shift(2, "i"),
        U
    }
    function f(A, q, L) {
        var U = ce(7);
        return U.write_shift(1, 255),
        U.write_shift(2, q),
        U.write_shift(2, A),
        U.write_shift(2, L, "i"),
        U
    }
    function g(A, q, L) {
        var U = l(A, q, L);
        return U[1].v = A.read_shift(8, "f"),
        U
    }
    function p(A, q, L) {
        var U = ce(13);
        return U.write_shift(1, 255),
        U.write_shift(2, q),
        U.write_shift(2, A),
        U.write_shift(8, L, "f"),
        U
    }
    function v(A, q, L) {
        var U = A.l + q
          , te = l(A, q, L);
        if (te[1].v = A.read_shift(8, "f"),
        L.qpro)
            A.l = U;
        else {
            var Ce = A.read_shift(2);
            k(A.slice(A.l, A.l + Ce), te),
            A.l += Ce
        }
        return te
    }
    function b(A, q, L) {
        var U = q & 32768;
        return q &= -32769,
        q = (U ? A : 0) + (q >= 8192 ? q - 16384 : q),
        (U ? "" : "$") + (L ? lr(q) : qi(q))
    }
    var S = {
        51: ["FALSE", 0],
        52: ["TRUE", 0],
        70: ["LEN", 1],
        80: ["SUM", 69],
        81: ["AVERAGEA", 69],
        82: ["COUNTA", 69],
        83: ["MINA", 69],
        84: ["MAXA", 69],
        111: ["T", 1]
    }
      , w = ["", "", "", "", "", "", "", "", "", "+", "-", "*", "/", "^", "=", "<>", "<=", ">=", "<", ">", "", "", "", "", "&", "", "", "", "", "", "", ""];
    function k(A, q) {
        bs(A, 0);
        for (var L = [], U = 0, te = "", Ce = "", Ve = "", De = ""; A.l < A.length; ) {
            var ge = A[A.l++];
            switch (ge) {
            case 0:
                L.push(A.read_shift(8, "f"));
                break;
            case 1:
                Ce = b(q[0].c, A.read_shift(2), !0),
                te = b(q[0].r, A.read_shift(2), !1),
                L.push(Ce + te);
                break;
            case 2:
                {
                    var kt = b(q[0].c, A.read_shift(2), !0)
                      , xt = b(q[0].r, A.read_shift(2), !1);
                    Ce = b(q[0].c, A.read_shift(2), !0),
                    te = b(q[0].r, A.read_shift(2), !1),
                    L.push(kt + xt + ":" + Ce + te)
                }
                break;
            case 3:
                if (A.l < A.length) {
                    console.error("WK1 premature formula end");
                    return
                }
                break;
            case 4:
                L.push("(" + L.pop() + ")");
                break;
            case 5:
                L.push(A.read_shift(2));
                break;
            case 6:
                {
                    for (var fn = ""; ge = A[A.l++]; )
                        fn += String.fromCharCode(ge);
                    L.push('"' + fn.replace(/"/g, '""') + '"')
                }
                break;
            case 8:
                L.push("-" + L.pop());
                break;
            case 23:
                L.push("+" + L.pop());
                break;
            case 22:
                L.push("NOT(" + L.pop() + ")");
                break;
            case 20:
            case 21:
                De = L.pop(),
                Ve = L.pop(),
                L.push(["AND", "OR"][ge - 20] + "(" + Ve + "," + De + ")");
                break;
            default:
                if (ge < 32 && w[ge])
                    De = L.pop(),
                    Ve = L.pop(),
                    L.push(Ve + w[ge] + De);
                else if (S[ge]) {
                    if (U = S[ge][1],
                    U == 69 && (U = A[A.l++]),
                    U > L.length) {
                        console.error("WK1 bad formula parse 0x" + ge.toString(16) + ":|" + L.join("|") + "|");
                        return
                    }
                    var Ot = L.slice(-U);
                    L.length -= U,
                    L.push(S[ge][0] + "(" + Ot.join(",") + ")")
                } else
                    return ge <= 7 ? console.error("WK1 invalid opcode " + ge.toString(16)) : ge <= 24 ? console.error("WK1 unsupported op " + ge.toString(16)) : ge <= 30 ? console.error("WK1 invalid opcode " + ge.toString(16)) : ge <= 115 ? console.error("WK1 unsupported function opcode " + ge.toString(16)) : console.error("WK1 unrecognized opcode " + ge.toString(16))
            }
        }
        L.length == 1 ? q[1].f = "" + L[0] : console.error("WK1 bad formula parse |" + L.join("|") + "|")
    }
    function B(A) {
        var q = [{
            c: 0,
            r: 0
        }, {
            t: "n",
            v: 0
        }, 0];
        return q[0].r = A.read_shift(2),
        q[3] = A[A.l++],
        q[0].c = A[A.l++],
        q
    }
    function N(A, q) {
        var L = B(A, q);
        return L[1].t = "s",
        L[1].v = A.read_shift(q - 4, "cstr"),
        L
    }
    function E(A, q, L, U) {
        var te = ce(6 + U.length);
        te.write_shift(2, A),
        te.write_shift(1, L),
        te.write_shift(1, q),
        te.write_shift(1, 39);
        for (var Ce = 0; Ce < U.length; ++Ce) {
            var Ve = U.charCodeAt(Ce);
            te.write_shift(1, Ve >= 128 ? 95 : Ve)
        }
        return te.write_shift(1, 0),
        te
    }
    function F(A, q) {
        var L = B(A, q);
        L[1].v = A.read_shift(2);
        var U = L[1].v >> 1;
        if (L[1].v & 1)
            switch (U & 7) {
            case 0:
                U = (U >> 3) * 5e3;
                break;
            case 1:
                U = (U >> 3) * 500;
                break;
            case 2:
                U = (U >> 3) / 20;
                break;
            case 3:
                U = (U >> 3) / 200;
                break;
            case 4:
                U = (U >> 3) / 2e3;
                break;
            case 5:
                U = (U >> 3) / 2e4;
                break;
            case 6:
                U = (U >> 3) / 16;
                break;
            case 7:
                U = (U >> 3) / 64;
                break
            }
        return L[1].v = U,
        L
    }
    function O(A, q) {
        var L = B(A, q)
          , U = A.read_shift(4)
          , te = A.read_shift(4)
          , Ce = A.read_shift(2);
        if (Ce == 65535)
            return U === 0 && te === 3221225472 ? (L[1].t = "e",
            L[1].v = 15) : U === 0 && te === 3489660928 ? (L[1].t = "e",
            L[1].v = 42) : L[1].v = 0,
            L;
        var Ve = Ce & 32768;
        return Ce = (Ce & 32767) - 16446,
        L[1].v = (1 - Ve * 2) * (te * Math.pow(2, Ce + 32) + U * Math.pow(2, Ce)),
        L
    }
    function V(A, q, L, U) {
        var te = ce(14);
        if (te.write_shift(2, A),
        te.write_shift(1, L),
        te.write_shift(1, q),
        U == 0)
            return te.write_shift(4, 0),
            te.write_shift(4, 0),
            te.write_shift(2, 65535),
            te;
        var Ce = 0
          , Ve = 0
          , De = 0
          , ge = 0;
        return U < 0 && (Ce = 1,
        U = -U),
        Ve = Math.log2(U) | 0,
        U /= Math.pow(2, Ve - 31),
        ge = U >>> 0,
        ge & 2147483648 || (U /= 2,
        ++Ve,
        ge = U >>> 0),
        U -= ge,
        ge |= 2147483648,
        ge >>>= 0,
        U *= Math.pow(2, 32),
        De = U >>> 0,
        te.write_shift(4, De),
        te.write_shift(4, ge),
        Ve += 16383 + (Ce ? 32768 : 0),
        te.write_shift(2, Ve),
        te
    }
    function X(A, q) {
        var L = O(A, 14);
        return A.l += q - 14,
        L
    }
    function x(A, q) {
        var L = B(A, q)
          , U = A.read_shift(4);
        return L[1].v = U >> 6,
        L
    }
    function j(A, q) {
        var L = B(A, q)
          , U = A.read_shift(8, "f");
        return L[1].v = U,
        L
    }
    function fe(A, q) {
        var L = j(A, 14);
        return A.l += q - 10,
        L
    }
    function he(A, q) {
        return A[A.l + q - 1] == 0 ? A.read_shift(q, "cstr") : ""
    }
    function Re(A, q) {
        var L = A[A.l++];
        L > q - 1 && (L = q - 1);
        for (var U = ""; U.length < L; )
            U += String.fromCharCode(A[A.l++]);
        return U
    }
    function Xe(A, q, L) {
        if (!(!L.qpro || q < 21)) {
            var U = A.read_shift(1);
            A.l += 17,
            A.l += 1,
            A.l += 2;
            var te = A.read_shift(q - 21, "cstr");
            return [U, te]
        }
    }
    function pt(A, q) {
        for (var L = {}, U = A.l + q; A.l < U; ) {
            var te = A.read_shift(2);
            if (te == 14e3) {
                for (L[te] = [0, ""],
                L[te][0] = A.read_shift(2); A[A.l]; )
                    L[te][1] += String.fromCharCode(A[A.l]),
                    A.l++;
                A.l++
            }
        }
        return L
    }
    function it(A, q) {
        var L = ce(5 + A.length);
        L.write_shift(2, 14e3),
        L.write_shift(2, q);
        for (var U = 0; U < A.length; ++U) {
            var te = A.charCodeAt(U);
            L[L.l++] = te > 127 ? 95 : te
        }
        return L[L.l++] = 0,
        L
    }
    var de = {
        0: {
            n: "BOF",
            f: gC
        },
        1: {
            n: "EOF"
        },
        2: {
            n: "CALCMODE"
        },
        3: {
            n: "CALCORDER"
        },
        4: {
            n: "SPLIT"
        },
        5: {
            n: "SYNC"
        },
        6: {
            n: "RANGE",
            f: a
        },
        7: {
            n: "WINDOW1"
        },
        8: {
            n: "COLW1"
        },
        9: {
            n: "WINTWO"
        },
        10: {
            n: "COLW2"
        },
        11: {
            n: "NAME"
        },
        12: {
            n: "BLANK"
        },
        13: {
            n: "INTEGER",
            f: d
        },
        14: {
            n: "NUMBER",
            f: g
        },
        15: {
            n: "LABEL",
            f: u
        },
        16: {
            n: "FORMULA",
            f: v
        },
        24: {
            n: "TABLE"
        },
        25: {
            n: "ORANGE"
        },
        26: {
            n: "PRANGE"
        },
        27: {
            n: "SRANGE"
        },
        28: {
            n: "FRANGE"
        },
        29: {
            n: "KRANGE1"
        },
        32: {
            n: "HRANGE"
        },
        35: {
            n: "KRANGE2"
        },
        36: {
            n: "PROTEC"
        },
        37: {
            n: "FOOTER"
        },
        38: {
            n: "HEADER"
        },
        39: {
            n: "SETUP"
        },
        40: {
            n: "MARGINS"
        },
        41: {
            n: "LABELFMT"
        },
        42: {
            n: "TITLES"
        },
        43: {
            n: "SHEETJS"
        },
        45: {
            n: "GRAPH"
        },
        46: {
            n: "NGRAPH"
        },
        47: {
            n: "CALCCOUNT"
        },
        48: {
            n: "UNFORMATTED"
        },
        49: {
            n: "CURSORW12"
        },
        50: {
            n: "WINDOW"
        },
        51: {
            n: "STRING",
            f: u
        },
        55: {
            n: "PASSWORD"
        },
        56: {
            n: "LOCKED"
        },
        60: {
            n: "QUERY"
        },
        61: {
            n: "QUERYNAME"
        },
        62: {
            n: "PRINT"
        },
        63: {
            n: "PRINTNAME"
        },
        64: {
            n: "GRAPH2"
        },
        65: {
            n: "GRAPHNAME"
        },
        66: {
            n: "ZOOM"
        },
        67: {
            n: "SYMSPLIT"
        },
        68: {
            n: "NSROWS"
        },
        69: {
            n: "NSCOLS"
        },
        70: {
            n: "RULER"
        },
        71: {
            n: "NNAME"
        },
        72: {
            n: "ACOMM"
        },
        73: {
            n: "AMACRO"
        },
        74: {
            n: "PARSE"
        },
        102: {
            n: "PRANGES??"
        },
        103: {
            n: "RRANGES??"
        },
        104: {
            n: "FNAME??"
        },
        105: {
            n: "MRANGES??"
        },
        204: {
            n: "SHEETNAMECS",
            f: he
        },
        222: {
            n: "SHEETNAMELP",
            f: Re
        },
        65535: {
            n: ""
        }
    }
      , Ue = {
        0: {
            n: "BOF"
        },
        1: {
            n: "EOF"
        },
        2: {
            n: "PASSWORD"
        },
        3: {
            n: "CALCSET"
        },
        4: {
            n: "WINDOWSET"
        },
        5: {
            n: "SHEETCELLPTR"
        },
        6: {
            n: "SHEETLAYOUT"
        },
        7: {
            n: "COLUMNWIDTH"
        },
        8: {
            n: "HIDDENCOLUMN"
        },
        9: {
            n: "USERRANGE"
        },
        10: {
            n: "SYSTEMRANGE"
        },
        11: {
            n: "ZEROFORCE"
        },
        12: {
            n: "SORTKEYDIR"
        },
        13: {
            n: "FILESEAL"
        },
        14: {
            n: "DATAFILLNUMS"
        },
        15: {
            n: "PRINTMAIN"
        },
        16: {
            n: "PRINTSTRING"
        },
        17: {
            n: "GRAPHMAIN"
        },
        18: {
            n: "GRAPHSTRING"
        },
        19: {
            n: "??"
        },
        20: {
            n: "ERRCELL"
        },
        21: {
            n: "NACELL"
        },
        22: {
            n: "LABEL16",
            f: N
        },
        23: {
            n: "NUMBER17",
            f: O
        },
        24: {
            n: "NUMBER18",
            f: F
        },
        25: {
            n: "FORMULA19",
            f: X
        },
        26: {
            n: "FORMULA1A"
        },
        27: {
            n: "XFORMAT",
            f: pt
        },
        28: {
            n: "DTLABELMISC"
        },
        29: {
            n: "DTLABELCELL"
        },
        30: {
            n: "GRAPHWINDOW"
        },
        31: {
            n: "CPA"
        },
        32: {
            n: "LPLAUTO"
        },
        33: {
            n: "QUERY"
        },
        34: {
            n: "HIDDENSHEET"
        },
        35: {
            n: "??"
        },
        37: {
            n: "NUMBER25",
            f: x
        },
        38: {
            n: "??"
        },
        39: {
            n: "NUMBER27",
            f: j
        },
        40: {
            n: "FORMULA28",
            f: fe
        },
        142: {
            n: "??"
        },
        147: {
            n: "??"
        },
        150: {
            n: "??"
        },
        151: {
            n: "??"
        },
        152: {
            n: "??"
        },
        153: {
            n: "??"
        },
        154: {
            n: "??"
        },
        155: {
            n: "??"
        },
        156: {
            n: "??"
        },
        163: {
            n: "??"
        },
        174: {
            n: "??"
        },
        175: {
            n: "??"
        },
        176: {
            n: "??"
        },
        177: {
            n: "??"
        },
        184: {
            n: "??"
        },
        185: {
            n: "??"
        },
        186: {
            n: "??"
        },
        187: {
            n: "??"
        },
        188: {
            n: "??"
        },
        195: {
            n: "??"
        },
        201: {
            n: "??"
        },
        204: {
            n: "SHEETNAMECS",
            f: he
        },
        205: {
            n: "??"
        },
        206: {
            n: "??"
        },
        207: {
            n: "??"
        },
        208: {
            n: "??"
        },
        256: {
            n: "??"
        },
        259: {
            n: "??"
        },
        260: {
            n: "??"
        },
        261: {
            n: "??"
        },
        262: {
            n: "??"
        },
        263: {
            n: "??"
        },
        265: {
            n: "??"
        },
        266: {
            n: "??"
        },
        267: {
            n: "??"
        },
        268: {
            n: "??"
        },
        270: {
            n: "??"
        },
        271: {
            n: "??"
        },
        384: {
            n: "??"
        },
        389: {
            n: "??"
        },
        390: {
            n: "??"
        },
        393: {
            n: "??"
        },
        396: {
            n: "??"
        },
        512: {
            n: "??"
        },
        514: {
            n: "??"
        },
        513: {
            n: "??"
        },
        516: {
            n: "??"
        },
        517: {
            n: "??"
        },
        640: {
            n: "??"
        },
        641: {
            n: "??"
        },
        642: {
            n: "??"
        },
        643: {
            n: "??"
        },
        644: {
            n: "??"
        },
        645: {
            n: "??"
        },
        646: {
            n: "??"
        },
        647: {
            n: "??"
        },
        648: {
            n: "??"
        },
        658: {
            n: "??"
        },
        659: {
            n: "??"
        },
        660: {
            n: "??"
        },
        661: {
            n: "??"
        },
        662: {
            n: "??"
        },
        665: {
            n: "??"
        },
        666: {
            n: "??"
        },
        768: {
            n: "??"
        },
        772: {
            n: "??"
        },
        1537: {
            n: "SHEETINFOQP",
            f: Xe
        },
        1600: {
            n: "??"
        },
        1602: {
            n: "??"
        },
        1793: {
            n: "??"
        },
        1794: {
            n: "??"
        },
        1795: {
            n: "??"
        },
        1796: {
            n: "??"
        },
        1920: {
            n: "??"
        },
        2048: {
            n: "??"
        },
        2049: {
            n: "??"
        },
        2052: {
            n: "??"
        },
        2688: {
            n: "??"
        },
        10998: {
            n: "??"
        },
        12849: {
            n: "??"
        },
        28233: {
            n: "??"
        },
        28484: {
            n: "??"
        },
        65535: {
            n: ""
        }
    };
    return {
        sheet_to_wk1: i,
        book_to_wk3: r,
        to_workbook: t
    }
}();
var MU = /^\s|\s$|[\t\n\r]/;
function SC(e, t) {
    if (!t.bookSST)
        return "";
    var n = [oi];
    n[n.length] = Pe("sst", null, {
        xmlns: Ku[0],
        count: e.Count,
        uniqueCount: e.Unique
    });
    for (var i = 0; i != e.length; ++i)
        if (e[i] != null) {
            var r = e[i]
              , s = "<si>";
            r.r ? s += r.r : (s += "<t",
            r.t || (r.t = ""),
            r.t.match(MU) && (s += ' xml:space="preserve"'),
            s += ">" + en(r.t) + "</t>"),
            s += "</si>",
            n[n.length] = s
        }
    return n.length > 2 && (n[n.length] = "</sst>",
    n[1] = n[1].replace("/>", ">")),
    n.join("")
}
function kU(e) {
    return [e.read_shift(4), e.read_shift(4)]
}
function AU(e, t) {
    return t || (t = ce(8)),
    t.write_shift(4, e.Count),
    t.write_shift(4, e.Unique),
    t
}
var IU = xB;
function RU(e) {
    var t = Yr();
    pe(t, 159, AU(e));
    for (var n = 0; n < e.length; ++n)
        pe(t, 19, IU(e[n]));
    return pe(t, 160),
    t.end()
}
function DU(e) {
    if (typeof un < "u")
        return un.utils.encode(zu, e);
    for (var t = [], n = e.split(""), i = 0; i < n.length; ++i)
        t[i] = n[i].charCodeAt(0);
    return t
}
function xC(e) {
    var t = 0, n, i = DU(e), r = i.length + 1, s, o, a, c, l;
    for (n = n0(r),
    n[0] = i.length,
    s = 1; s != r; ++s)
        n[s] = i[s - 1];
    for (s = r - 1; s >= 0; --s)
        o = n[s],
        a = t & 16384 ? 1 : 0,
        c = t << 1 & 32767,
        l = a | c,
        t = l ^ o;
    return t ^ 52811
}
var NU = function() {
    function e(r, s) {
        switch (s.type) {
        case "base64":
            return t(Ba(r), s);
        case "binary":
            return t(r, s);
        case "buffer":
            return t(zt && Buffer.isBuffer(r) ? r.toString("binary") : O1(r), s);
        case "array":
            return t(p2(r), s)
        }
        throw new Error("Unrecognized type " + s.type)
    }
    function t(r, s) {
        var o = s || {}
          , a = o.dense ? [] : {}
          , c = r.match(/\\trowd.*?\\row\b/g);
        if (!c.length)
            throw new Error("RTF missing table");
        var l = {
            s: {
                c: 0,
                r: 0
            },
            e: {
                c: 0,
                r: c.length - 1
            }
        };
        return c.forEach(function(u, h) {
            Array.isArray(a) && (a[h] = []);
            for (var d = /\\\w+\b/g, f = 0, g, p = -1; g = d.exec(u); ) {
                switch (g[0]) {
                case "\\cell":
                    var v = u.slice(f, d.lastIndex - g[0].length);
                    if (v[0] == " " && (v = v.slice(1)),
                    ++p,
                    v.length) {
                        var b = {
                            v,
                            t: "s"
                        };
                        Array.isArray(a) ? a[h][p] = b : a[tn({
                            r: h,
                            c: p
                        })] = b
                    }
                    break
                }
                f = d.lastIndex
            }
            p > l.e.c && (l.e.c = p)
        }),
        a["!ref"] = si(l),
        a
    }
    function n(r, s) {
        return s0(e(r, s), s)
    }
    function i(r) {
        for (var s = ["{\\rtf1\\ansi"], o = bn(r["!ref"]), a, c = Array.isArray(r), l = o.s.r; l <= o.e.r; ++l) {
            s.push("\\trowd\\trautofit1");
            for (var u = o.s.c; u <= o.e.c; ++u)
                s.push("\\cellx" + (u + 1));
            for (s.push("\\pard\\intbl"),
            u = o.s.c; u <= o.e.c; ++u) {
                var h = tn({
                    r: l,
                    c: u
                });
                a = c ? (r[l] || [])[u] : r[h],
                !(!a || a.v == null && (!a.f || a.F)) && (s.push(" " + (a.w || (Ua(a),
                a.w))),
                s.push("\\cell"))
            }
            s.push("\\pard\\intbl\\row")
        }
        return s.join("") + "}"
    }
    return {
        to_workbook: n,
        to_sheet: e,
        from_sheet: i
    }
}();
function yw(e) {
    for (var t = 0, n = 1; t != 3; ++t)
        n = n * 256 + (e[t] > 255 ? 255 : e[t] < 0 ? 0 : e[t]);
    return n.toString(16).toUpperCase().slice(1)
}
var FU = 6;
var La = FU;
function s2(e) {
    return Math.floor((e + Math.round(128 / La) / 256) * La)
}
function o2(e) {
    return Math.floor((e - 5) / La * 100 + .5) / 100
}
function b7(e) {
    return Math.round((e * La + 5) / La * 256) / 256
}
function U7(e) {
    e.width ? (e.wpx = s2(e.width),
    e.wch = o2(e.wpx),
    e.MDW = La) : e.wpx ? (e.wch = o2(e.wpx),
    e.width = b7(e.wch),
    e.MDW = La) : typeof e.wch == "number" && (e.width = b7(e.wch),
    e.wpx = s2(e.width),
    e.MDW = La),
    e.customWidth && delete e.customWidth
}
var LU = 96
  , wC = LU;
function a2(e) {
    return e * 96 / wC
}
function CC(e) {
    return e * wC / 96
}
function BU(e) {
    var t = ["<numFmts>"];
    return [[5, 8], [23, 26], [41, 44], [50, 392]].forEach(function(n) {
        for (var i = n[0]; i <= n[1]; ++i)
            e[i] != null && (t[t.length] = Pe("numFmt", null, {
                numFmtId: i,
                formatCode: en(e[i])
            }))
    }),
    t.length === 1 ? "" : (t[t.length] = "</numFmts>",
    t[0] = Pe("numFmts", null, {
        count: t.length - 2
    }).replace("/>", ">"),
    t.join(""))
}
function UU(e) {
    var t = [];
    return t[t.length] = Pe("cellXfs", null),
    e.forEach(function(n) {
        t[t.length] = Pe("xf", null, n)
    }),
    t[t.length] = "</cellXfs>",
    t.length === 2 ? "" : (t[0] = Pe("cellXfs", null, {
        count: t.length - 2
    }).replace("/>", ">"),
    t.join(""))
}
function EC(e, t) {
    var n = [oi, Pe("styleSheet", null, {
        xmlns: Ku[0],
        "xmlns:vt": Ai.vt
    })], i;
    return e.SSF && (i = BU(e.SSF)) != null && (n[n.length] = i),
    n[n.length] = '<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',
    n[n.length] = '<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',
    n[n.length] = '<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',
    n[n.length] = '<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',
    (i = UU(t.cellXfs)) && (n[n.length] = i),
    n[n.length] = '<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',
    n[n.length] = '<dxfs count="0"/>',
    n[n.length] = '<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',
    n.length > 2 && (n[n.length] = "</styleSheet>",
    n[1] = n[1].replace("/>", ">")),
    n.join("")
}
function HU(e, t) {
    var n = e.read_shift(2)
      , i = ur(e, t - 2);
    return [n, i]
}
function GU(e, t, n) {
    n || (n = ce(6 + 4 * t.length)),
    n.write_shift(2, e),
    Ri(t, n);
    var i = n.length > n.l ? n.slice(0, n.l) : n;
    return n.l == null && (n.l = n.length),
    i
}
function VU(e, t, n) {
    var i = {};
    i.sz = e.read_shift(2) / 20;
    var r = MB(e, 2, n);
    r.fItalic && (i.italic = 1),
    r.fCondense && (i.condense = 1),
    r.fExtend && (i.extend = 1),
    r.fShadow && (i.shadow = 1),
    r.fOutline && (i.outline = 1),
    r.fStrikeout && (i.strike = 1);
    var s = e.read_shift(2);
    switch (s === 700 && (i.bold = 1),
    e.read_shift(2)) {
    case 1:
        i.vertAlign = "superscript";
        break;
    case 2:
        i.vertAlign = "subscript";
        break
    }
    var o = e.read_shift(1);
    o != 0 && (i.underline = o);
    var a = e.read_shift(1);
    a > 0 && (i.family = a);
    var c = e.read_shift(1);
    switch (c > 0 && (i.charset = c),
    e.l++,
    i.color = PB(e, 8),
    e.read_shift(1)) {
    case 1:
        i.scheme = "major";
        break;
    case 2:
        i.scheme = "minor";
        break
    }
    return i.name = ur(e, t - 21),
    i
}
function WU(e, t) {
    t || (t = ce(25 + 4 * 32)),
    t.write_shift(2, e.sz * 20),
    kB(e, t),
    t.write_shift(2, e.bold ? 700 : 400);
    var n = 0;
    e.vertAlign == "superscript" ? n = 1 : e.vertAlign == "subscript" && (n = 2),
    t.write_shift(2, n),
    t.write_shift(1, e.underline || 0),
    t.write_shift(1, e.family || 0),
    t.write_shift(1, e.charset || 0),
    t.write_shift(1, 0),
    i2(e.color, t);
    var i = 0;
    return e.scheme == "major" && (i = 1),
    e.scheme == "minor" && (i = 2),
    t.write_shift(1, i),
    Ri(e.name, t),
    t.length > t.l ? t.slice(0, t.l) : t
}
var $U = ["none", "solid", "mediumGray", "darkGray", "lightGray", "darkHorizontal", "darkVertical", "darkDown", "darkUp", "darkGrid", "darkTrellis", "lightHorizontal", "lightVertical", "lightDown", "lightUp", "lightGrid", "lightTrellis", "gray125", "gray0625"], f7, jU = Zo;
function bw(e, t) {
    t || (t = ce(4 * 3 + 8 * 7 + 16 * 1)),
    f7 || (f7 = w7($U));
    var n = f7[e.patternType];
    n == null && (n = 40),
    t.write_shift(4, n);
    var i = 0;
    if (n != 40)
        for (i2({
            auto: 1
        }, t),
        i2({
            auto: 1
        }, t); i < 12; ++i)
            t.write_shift(4, 0);
    else {
        for (; i < 4; ++i)
            t.write_shift(4, 0);
        for (; i < 12; ++i)
            t.write_shift(4, 0)
    }
    return t.length > t.l ? t.slice(0, t.l) : t
}
function qU(e, t) {
    var n = e.l + t
      , i = e.read_shift(2)
      , r = e.read_shift(2);
    return e.l = n,
    {
        ixfe: i,
        numFmtId: r
    }
}
function TC(e, t, n) {
    n || (n = ce(16)),
    n.write_shift(2, t || 0),
    n.write_shift(2, e.numFmtId || 0),
    n.write_shift(2, 0),
    n.write_shift(2, 0),
    n.write_shift(2, 0),
    n.write_shift(1, 0),
    n.write_shift(1, 0);
    var i = 0;
    return n.write_shift(1, i),
    n.write_shift(1, 0),
    n.write_shift(1, 0),
    n.write_shift(1, 0),
    n
}
function f1(e, t) {
    return t || (t = ce(10)),
    t.write_shift(1, 0),
    t.write_shift(1, 0),
    t.write_shift(4, 0),
    t.write_shift(4, 0),
    t
}
var zU = Zo;
function XU(e, t) {
    return t || (t = ce(51)),
    t.write_shift(1, 0),
    f1(null, t),
    f1(null, t),
    f1(null, t),
    f1(null, t),
    f1(null, t),
    t.length > t.l ? t.slice(0, t.l) : t
}
function KU(e, t) {
    return t || (t = ce(12 + 4 * 10)),
    t.write_shift(4, e.xfId),
    t.write_shift(2, 1),
    t.write_shift(1, +e.builtinId),
    t.write_shift(1, 0),
    n2(e.name || "", t),
    t.length > t.l ? t.slice(0, t.l) : t
}
function YU(e, t, n) {
    var i = ce(2052);
    return i.write_shift(4, e),
    n2(t, i),
    n2(n, i),
    i.length > i.l ? i.slice(0, i.l) : i
}
function QU(e, t) {
    if (t) {
        var n = 0;
        [[5, 8], [23, 26], [41, 44], [50, 392]].forEach(function(i) {
            for (var r = i[0]; r <= i[1]; ++r)
                t[r] != null && ++n
        }),
        n != 0 && (pe(e, 615, fo(n)),
        [[5, 8], [23, 26], [41, 44], [50, 392]].forEach(function(i) {
            for (var r = i[0]; r <= i[1]; ++r)
                t[r] != null && pe(e, 44, GU(r, t[r]))
        }),
        pe(e, 616))
    }
}
function JU(e) {
    var t = 1;
    t != 0 && (pe(e, 611, fo(t)),
    pe(e, 43, WU({
        sz: 12,
        color: {
            theme: 1
        },
        name: "Calibri",
        family: 2,
        scheme: "minor"
    })),
    pe(e, 612))
}
function ZU(e) {
    var t = 2;
    t != 0 && (pe(e, 603, fo(t)),
    pe(e, 45, bw({
        patternType: "none"
    })),
    pe(e, 45, bw({
        patternType: "gray125"
    })),
    pe(e, 604))
}
function eH(e) {
    var t = 1;
    t != 0 && (pe(e, 613, fo(t)),
    pe(e, 46, XU({})),
    pe(e, 614))
}
function tH(e) {
    var t = 1;
    pe(e, 626, fo(t)),
    pe(e, 47, TC({
        numFmtId: 0,
        fontId: 0,
        fillId: 0,
        borderId: 0
    }, 65535)),
    pe(e, 627)
}
function nH(e, t) {
    pe(e, 617, fo(t.length)),
    t.forEach(function(n) {
        pe(e, 47, TC(n, 0))
    }),
    pe(e, 618)
}
function iH(e) {
    var t = 1;
    pe(e, 619, fo(t)),
    pe(e, 48, KU({
        xfId: 0,
        builtinId: 0,
        name: "Normal"
    })),
    pe(e, 620)
}
function rH(e) {
    var t = 0;
    pe(e, 505, fo(t)),
    pe(e, 506)
}
function sH(e) {
    var t = 0;
    pe(e, 508, YU(t, "TableStyleMedium9", "PivotStyleMedium4")),
    pe(e, 509)
}
function oH(e, t) {
    var n = Yr();
    return pe(n, 278),
    QU(n, e.SSF),
    JU(n, e),
    ZU(n, e),
    eH(n, e),
    tH(n, e),
    nH(n, t.cellXfs),
    iH(n, e),
    rH(n, e),
    sH(n, e),
    pe(n, 279),
    n.end()
}
function OC(e, t) {
    if (t && t.themeXLSX)
        return t.themeXLSX;
    if (e && typeof e.raw == "string")
        return e.raw;
    var n = [oi];
    return n[n.length] = '<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',
    n[n.length] = "<a:themeElements>",
    n[n.length] = '<a:clrScheme name="Office">',
    n[n.length] = '<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',
    n[n.length] = '<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',
    n[n.length] = '<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',
    n[n.length] = '<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',
    n[n.length] = '<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',
    n[n.length] = '<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',
    n[n.length] = '<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',
    n[n.length] = '<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',
    n[n.length] = '<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',
    n[n.length] = '<a:accent6><a:srgbClr val="F79646"/></a:accent6>',
    n[n.length] = '<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',
    n[n.length] = '<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',
    n[n.length] = "</a:clrScheme>",
    n[n.length] = '<a:fontScheme name="Office">',
    n[n.length] = "<a:majorFont>",
    n[n.length] = '<a:latin typeface="Cambria"/>',
    n[n.length] = '<a:ea typeface=""/>',
    n[n.length] = '<a:cs typeface=""/>',
    n[n.length] = '<a:font script="Jpan" typeface="\uFF2D\uFF33 \uFF30\u30B4\u30B7\u30C3\u30AF"/>',
    n[n.length] = '<a:font script="Hang" typeface="\uB9D1\uC740 \uACE0\uB515"/>',
    n[n.length] = '<a:font script="Hans" typeface="\u5B8B\u4F53"/>',
    n[n.length] = '<a:font script="Hant" typeface="\u65B0\u7D30\u660E\u9AD4"/>',
    n[n.length] = '<a:font script="Arab" typeface="Times New Roman"/>',
    n[n.length] = '<a:font script="Hebr" typeface="Times New Roman"/>',
    n[n.length] = '<a:font script="Thai" typeface="Tahoma"/>',
    n[n.length] = '<a:font script="Ethi" typeface="Nyala"/>',
    n[n.length] = '<a:font script="Beng" typeface="Vrinda"/>',
    n[n.length] = '<a:font script="Gujr" typeface="Shruti"/>',
    n[n.length] = '<a:font script="Khmr" typeface="MoolBoran"/>',
    n[n.length] = '<a:font script="Knda" typeface="Tunga"/>',
    n[n.length] = '<a:font script="Guru" typeface="Raavi"/>',
    n[n.length] = '<a:font script="Cans" typeface="Euphemia"/>',
    n[n.length] = '<a:font script="Cher" typeface="Plantagenet Cherokee"/>',
    n[n.length] = '<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',
    n[n.length] = '<a:font script="Tibt" typeface="Microsoft Himalaya"/>',
    n[n.length] = '<a:font script="Thaa" typeface="MV Boli"/>',
    n[n.length] = '<a:font script="Deva" typeface="Mangal"/>',
    n[n.length] = '<a:font script="Telu" typeface="Gautami"/>',
    n[n.length] = '<a:font script="Taml" typeface="Latha"/>',
    n[n.length] = '<a:font script="Syrc" typeface="Estrangelo Edessa"/>',
    n[n.length] = '<a:font script="Orya" typeface="Kalinga"/>',
    n[n.length] = '<a:font script="Mlym" typeface="Kartika"/>',
    n[n.length] = '<a:font script="Laoo" typeface="DokChampa"/>',
    n[n.length] = '<a:font script="Sinh" typeface="Iskoola Pota"/>',
    n[n.length] = '<a:font script="Mong" typeface="Mongolian Baiti"/>',
    n[n.length] = '<a:font script="Viet" typeface="Times New Roman"/>',
    n[n.length] = '<a:font script="Uigh" typeface="Microsoft Uighur"/>',
    n[n.length] = '<a:font script="Geor" typeface="Sylfaen"/>',
    n[n.length] = "</a:majorFont>",
    n[n.length] = "<a:minorFont>",
    n[n.length] = '<a:latin typeface="Calibri"/>',
    n[n.length] = '<a:ea typeface=""/>',
    n[n.length] = '<a:cs typeface=""/>',
    n[n.length] = '<a:font script="Jpan" typeface="\uFF2D\uFF33 \uFF30\u30B4\u30B7\u30C3\u30AF"/>',
    n[n.length] = '<a:font script="Hang" typeface="\uB9D1\uC740 \uACE0\uB515"/>',
    n[n.length] = '<a:font script="Hans" typeface="\u5B8B\u4F53"/>',
    n[n.length] = '<a:font script="Hant" typeface="\u65B0\u7D30\u660E\u9AD4"/>',
    n[n.length] = '<a:font script="Arab" typeface="Arial"/>',
    n[n.length] = '<a:font script="Hebr" typeface="Arial"/>',
    n[n.length] = '<a:font script="Thai" typeface="Tahoma"/>',
    n[n.length] = '<a:font script="Ethi" typeface="Nyala"/>',
    n[n.length] = '<a:font script="Beng" typeface="Vrinda"/>',
    n[n.length] = '<a:font script="Gujr" typeface="Shruti"/>',
    n[n.length] = '<a:font script="Khmr" typeface="DaunPenh"/>',
    n[n.length] = '<a:font script="Knda" typeface="Tunga"/>',
    n[n.length] = '<a:font script="Guru" typeface="Raavi"/>',
    n[n.length] = '<a:font script="Cans" typeface="Euphemia"/>',
    n[n.length] = '<a:font script="Cher" typeface="Plantagenet Cherokee"/>',
    n[n.length] = '<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',
    n[n.length] = '<a:font script="Tibt" typeface="Microsoft Himalaya"/>',
    n[n.length] = '<a:font script="Thaa" typeface="MV Boli"/>',
    n[n.length] = '<a:font script="Deva" typeface="Mangal"/>',
    n[n.length] = '<a:font script="Telu" typeface="Gautami"/>',
    n[n.length] = '<a:font script="Taml" typeface="Latha"/>',
    n[n.length] = '<a:font script="Syrc" typeface="Estrangelo Edessa"/>',
    n[n.length] = '<a:font script="Orya" typeface="Kalinga"/>',
    n[n.length] = '<a:font script="Mlym" typeface="Kartika"/>',
    n[n.length] = '<a:font script="Laoo" typeface="DokChampa"/>',
    n[n.length] = '<a:font script="Sinh" typeface="Iskoola Pota"/>',
    n[n.length] = '<a:font script="Mong" typeface="Mongolian Baiti"/>',
    n[n.length] = '<a:font script="Viet" typeface="Arial"/>',
    n[n.length] = '<a:font script="Uigh" typeface="Microsoft Uighur"/>',
    n[n.length] = '<a:font script="Geor" typeface="Sylfaen"/>',
    n[n.length] = "</a:minorFont>",
    n[n.length] = "</a:fontScheme>",
    n[n.length] = '<a:fmtScheme name="Office">',
    n[n.length] = "<a:fillStyleLst>",
    n[n.length] = '<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',
    n[n.length] = '<a:gradFill rotWithShape="1">',
    n[n.length] = "<a:gsLst>",
    n[n.length] = '<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',
    n[n.length] = '<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',
    n[n.length] = '<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',
    n[n.length] = "</a:gsLst>",
    n[n.length] = '<a:lin ang="16200000" scaled="1"/>',
    n[n.length] = "</a:gradFill>",
    n[n.length] = '<a:gradFill rotWithShape="1">',
    n[n.length] = "<a:gsLst>",
    n[n.length] = '<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',
    n[n.length] = '<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',
    n[n.length] = "</a:gsLst>",
    n[n.length] = '<a:lin ang="16200000" scaled="0"/>',
    n[n.length] = "</a:gradFill>",
    n[n.length] = "</a:fillStyleLst>",
    n[n.length] = "<a:lnStyleLst>",
    n[n.length] = '<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',
    n[n.length] = '<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',
    n[n.length] = '<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',
    n[n.length] = "</a:lnStyleLst>",
    n[n.length] = "<a:effectStyleLst>",
    n[n.length] = "<a:effectStyle>",
    n[n.length] = "<a:effectLst>",
    n[n.length] = '<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',
    n[n.length] = "</a:effectLst>",
    n[n.length] = "</a:effectStyle>",
    n[n.length] = "<a:effectStyle>",
    n[n.length] = "<a:effectLst>",
    n[n.length] = '<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',
    n[n.length] = "</a:effectLst>",
    n[n.length] = "</a:effectStyle>",
    n[n.length] = "<a:effectStyle>",
    n[n.length] = "<a:effectLst>",
    n[n.length] = '<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',
    n[n.length] = "</a:effectLst>",
    n[n.length] = '<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',
    n[n.length] = '<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',
    n[n.length] = "</a:effectStyle>",
    n[n.length] = "</a:effectStyleLst>",
    n[n.length] = "<a:bgFillStyleLst>",
    n[n.length] = '<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',
    n[n.length] = '<a:gradFill rotWithShape="1">',
    n[n.length] = "<a:gsLst>",
    n[n.length] = '<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',
    n[n.length] = '<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',
    n[n.length] = '<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',
    n[n.length] = "</a:gsLst>",
    n[n.length] = '<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',
    n[n.length] = "</a:gradFill>",
    n[n.length] = '<a:gradFill rotWithShape="1">',
    n[n.length] = "<a:gsLst>",
    n[n.length] = '<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',
    n[n.length] = '<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',
    n[n.length] = "</a:gsLst>",
    n[n.length] = '<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',
    n[n.length] = "</a:gradFill>",
    n[n.length] = "</a:bgFillStyleLst>",
    n[n.length] = "</a:fmtScheme>",
    n[n.length] = "</a:themeElements>",
    n[n.length] = "<a:objectDefaults>",
    n[n.length] = "<a:spDef>",
    n[n.length] = '<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',
    n[n.length] = "</a:spDef>",
    n[n.length] = "<a:lnDef>",
    n[n.length] = '<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',
    n[n.length] = "</a:lnDef>",
    n[n.length] = "</a:objectDefaults>",
    n[n.length] = "<a:extraClrSchemeLst/>",
    n[n.length] = "</a:theme>",
    n.join("")
}
function aH(e, t) {
    return {
        flags: e.read_shift(4),
        version: e.read_shift(4),
        name: ur(e, t - 8)
    }
}
function cH(e) {
    var t = ce(12 + 2 * e.name.length);
    return t.write_shift(4, e.flags),
    t.write_shift(4, e.version),
    Ri(e.name, t),
    t.slice(0, t.l)
}
function lH(e) {
    for (var t = [], n = e.read_shift(4); n-- > 0; )
        t.push([e.read_shift(4), e.read_shift(4)]);
    return t
}
function uH(e) {
    var t = ce(4 + 8 * e.length);
    t.write_shift(4, e.length);
    for (var n = 0; n < e.length; ++n)
        t.write_shift(4, e[n][0]),
        t.write_shift(4, e[n][1]);
    return t
}
function hH(e, t) {
    var n = ce(8 + 2 * t.length);
    return n.write_shift(4, e),
    Ri(t, n),
    n.slice(0, n.l)
}
function dH(e) {
    return e.l += 4,
    e.read_shift(4) != 0
}
function fH(e, t) {
    var n = ce(8);
    return n.write_shift(4, e),
    n.write_shift(4, t ? 1 : 0),
    n
}
function pH() {
    var e = Yr();
    return pe(e, 332),
    pe(e, 334, fo(1)),
    pe(e, 335, cH({
        name: "XLDAPR",
        version: 12e4,
        flags: 3496657072
    })),
    pe(e, 336),
    pe(e, 339, hH(1, "XLDAPR")),
    pe(e, 52),
    pe(e, 35, fo(514)),
    pe(e, 4096, fo(0)),
    pe(e, 4097, Ls(1)),
    pe(e, 36),
    pe(e, 53),
    pe(e, 340),
    pe(e, 337, fH(1, !0)),
    pe(e, 51, uH([[1, 0]])),
    pe(e, 338),
    pe(e, 333),
    e.end()
}
function PC() {
    var e = [oi];
    return e.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),
    e.join("")
}
function gH(e) {
    var t = {};
    t.i = e.read_shift(4);
    var n = {};
    n.r = e.read_shift(4),
    n.c = e.read_shift(4),
    t.r = tn(n);
    var i = e.read_shift(1);
    return i & 2 && (t.l = "1"),
    i & 8 && (t.a = "1"),
    t
}
var Gu = 1024;
function MC(e, t) {
    for (var n = [21600, 21600], i = ["m0,0l0", n[1], n[0], n[1], n[0], "0xe"].join(","), r = [Pe("xml", null, {
        "xmlns:v": Ss.v,
        "xmlns:o": Ss.o,
        "xmlns:x": Ss.x,
        "xmlns:mv": Ss.mv
    }).replace(/\/>/, ">"), Pe("o:shapelayout", Pe("o:idmap", null, {
        "v:ext": "edit",
        data: e
    }), {
        "v:ext": "edit"
    }), Pe("v:shapetype", [Pe("v:stroke", null, {
        joinstyle: "miter"
    }), Pe("v:path", null, {
        gradientshapeok: "t",
        "o:connecttype": "rect"
    })].join(""), {
        id: "_x0000_t202",
        "o:spt": 202,
        coordsize: n.join(","),
        path: i
    })]; Gu < e * 1e3; )
        Gu += 1e3;
    return t.forEach(function(s) {
        var o = Ii(s[0])
          , a = {
            color2: "#BEFF82",
            type: "gradient"
        };
        a.type == "gradient" && (a.angle = "-180");
        var c = a.type == "gradient" ? Pe("o:fill", null, {
            type: "gradientUnscaled",
            "v:ext": "view"
        }) : null
          , l = Pe("v:fill", c, a)
          , u = {
            on: "t",
            obscured: "t"
        };
        ++Gu,
        r = r.concat(["<v:shape" + C1({
            id: "_x0000_s" + Gu,
            type: "#_x0000_t202",
            style: "position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10" + (s[1].hidden ? ";visibility:hidden" : ""),
            fillcolor: "#ECFAD4",
            strokecolor: "#edeaa1"
        }) + ">", l, Pe("v:shadow", null, u), Pe("v:path", null, {
            "o:connecttype": "none"
        }), '<v:textbox><div style="text-align:left"></div></v:textbox>', '<x:ClientData ObjectType="Note">', "<x:MoveWithCells/>", "<x:SizeWithCells/>", ji("x:Anchor", [o.c + 1, 0, o.r + 1, 0, o.c + 3, 20, o.r + 5, 20].join(",")), ji("x:AutoFill", "False"), ji("x:Row", String(o.r)), ji("x:Column", String(o.c)), s[1].hidden ? "" : "<x:Visible/>", "</x:ClientData>", "</v:shape>"])
    }),
    r.push("</xml>"),
    r.join("")
}
function kC(e) {
    var t = [oi, Pe("comments", null, {
        xmlns: Ku[0]
    })]
      , n = [];
    return t.push("<authors>"),
    e.forEach(function(i) {
        i[1].forEach(function(r) {
            var s = en(r.a);
            n.indexOf(s) == -1 && (n.push(s),
            t.push("<author>" + s + "</author>")),
            r.T && r.ID && n.indexOf("tc=" + r.ID) == -1 && (n.push("tc=" + r.ID),
            t.push("<author>tc=" + r.ID + "</author>"))
        })
    }),
    n.length == 0 && (n.push("SheetJ5"),
    t.push("<author>SheetJ5</author>")),
    t.push("</authors>"),
    t.push("<commentList>"),
    e.forEach(function(i) {
        var r = 0
          , s = [];
        if (i[1][0] && i[1][0].T && i[1][0].ID ? r = n.indexOf("tc=" + i[1][0].ID) : i[1].forEach(function(c) {
            c.a && (r = n.indexOf(en(c.a))),
            s.push(c.t || "")
        }),
        t.push('<comment ref="' + i[0] + '" authorId="' + r + '"><text>'),
        s.length <= 1)
            t.push(ji("t", en(s[0] || "")));
        else {
            for (var o = `Comment:
    ` + s[0] + `
`, a = 1; a < s.length; ++a)
                o += `Reply:
    ` + s[a] + `
`;
            t.push(ji("t", en(o)))
        }
        t.push("</text></comment>")
    }),
    t.push("</commentList>"),
    t.length > 2 && (t[t.length] = "</comments>",
    t[1] = t[1].replace("/>", ">")),
    t.join("")
}
function mH(e, t, n) {
    var i = [oi, Pe("ThreadedComments", null, {
        xmlns: Ai.TCMNT
    }).replace(/[\/]>/, ">")];
    return e.forEach(function(r) {
        var s = "";
        (r[1] || []).forEach(function(o, a) {
            if (!o.T) {
                delete o.ID;
                return
            }
            o.a && t.indexOf(o.a) == -1 && t.push(o.a);
            var c = {
                ref: r[0],
                id: "{54EE7951-7262-4200-6969-" + ("000000000000" + n.tcid++).slice(-12) + "}"
            };
            a == 0 ? s = c.id : c.parentId = s,
            o.ID = c.id,
            o.a && (c.personId = "{54EE7950-7262-4200-6969-" + ("000000000000" + t.indexOf(o.a)).slice(-12) + "}"),
            i.push(Pe("threadedComment", ji("text", o.t || ""), c))
        })
    }),
    i.push("</ThreadedComments>"),
    i.join("")
}
function vH(e) {
    var t = [oi, Pe("personList", null, {
        xmlns: Ai.TCMNT,
        "xmlns:x": Ku[0]
    }).replace(/[\/]>/, ">")];
    return e.forEach(function(n, i) {
        t.push(Pe("person", null, {
            displayName: n,
            id: "{54EE7950-7262-4200-6969-" + ("000000000000" + i).slice(-12) + "}",
            userId: n,
            providerId: "None"
        }))
    }),
    t.push("</personList>"),
    t.join("")
}
function _H(e) {
    var t = {};
    t.iauthor = e.read_shift(4);
    var n = l0(e, 16);
    return t.rfx = n.s,
    t.ref = tn(n.s),
    e.l += 16,
    t
}
function yH(e, t) {
    return t == null && (t = ce(36)),
    t.write_shift(4, e[1].iauthor),
    Ju(e[0], t),
    t.write_shift(4, 0),
    t.write_shift(4, 0),
    t.write_shift(4, 0),
    t.write_shift(4, 0),
    t
}
var bH = ur;
function SH(e) {
    return Ri(e.slice(0, 54))
}
function xH(e) {
    var t = Yr()
      , n = [];
    return pe(t, 628),
    pe(t, 630),
    e.forEach(function(i) {
        i[1].forEach(function(r) {
            n.indexOf(r.a) > -1 || (n.push(r.a.slice(0, 54)),
            pe(t, 632, SH(r.a)))
        })
    }),
    pe(t, 631),
    pe(t, 633),
    e.forEach(function(i) {
        i[1].forEach(function(r) {
            r.iauthor = n.indexOf(r.a);
            var s = {
                s: Ii(i[0]),
                e: Ii(i[0])
            };
            pe(t, 635, yH([s, r])),
            r.t && r.t.length > 0 && pe(t, 637, CB(r)),
            pe(t, 636),
            delete r.iauthor
        })
    }),
    pe(t, 634),
    pe(t, 629),
    t.end()
}
function wH(e, t) {
    t.FullPaths.forEach(function(n, i) {
        if (i != 0) {
            var r = n.replace(/[^\/]*[\/]/, "/_VBA_PROJECT_CUR/");
            r.slice(-1) !== "/" && nn.utils.cfb_add(e, r, t.FileIndex[i].content)
        }
    })
}
var AC = ["xlsb", "xlsm", "xlam", "biff8", "xla"];
var CH = function() {
    var e = /(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g
      , t = {
        r: 0,
        c: 0
    };
    function n(i, r, s, o) {
        var a = !1
          , c = !1;
        s.length == 0 ? c = !0 : s.charAt(0) == "[" && (c = !0,
        s = s.slice(1, -1)),
        o.length == 0 ? a = !0 : o.charAt(0) == "[" && (a = !0,
        o = o.slice(1, -1));
        var l = s.length > 0 ? parseInt(s, 10) | 0 : 0
          , u = o.length > 0 ? parseInt(o, 10) | 0 : 0;
        return a ? u += t.c : --u,
        c ? l += t.r : --l,
        r + (a ? "" : "$") + lr(u) + (c ? "" : "$") + qi(l)
    }
    return function(r, s) {
        return t = s,
        r.replace(e, n)
    }
}()
  , H7 = /(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g
  , G7 = function() {
    return function(t, n) {
        return t.replace(H7, function(i, r, s, o, a, c) {
            var l = D7(o) - (s ? 0 : n.c)
              , u = R7(c) - (a ? 0 : n.r)
              , h = u == 0 ? "" : a ? u + 1 : "[" + u + "]"
              , d = l == 0 ? "" : s ? l + 1 : "[" + l + "]";
            return r + "R" + h + "C" + d
        })
    }
}();
function EH(e, t) {
    return e.replace(H7, function(n, i, r, s, o, a) {
        return i + (r == "$" ? r + s : lr(D7(s) + t.c)) + (o == "$" ? o + a : qi(R7(a) + t.r))
    })
}
function TH(e) {
    return e.length != 1
}
function ri(e) {
    e.l += 1
}
function Wc(e, t) {
    var n = e.read_shift(t == 1 ? 1 : 2);
    return [n & 16383, n >> 14 & 1, n >> 15 & 1]
}
function IC(e, t, n) {
    var i = 2;
    if (n) {
        if (n.biff >= 2 && n.biff <= 5)
            return RC(e, t, n);
        n.biff == 12 && (i = 4)
    }
    var r = e.read_shift(i)
      , s = e.read_shift(i)
      , o = Wc(e, 2)
      , a = Wc(e, 2);
    return {
        s: {
            r,
            c: o[0],
            cRel: o[1],
            rRel: o[2]
        },
        e: {
            r: s,
            c: a[0],
            cRel: a[1],
            rRel: a[2]
        }
    }
}
function RC(e) {
    var t = Wc(e, 2)
      , n = Wc(e, 2)
      , i = e.read_shift(1)
      , r = e.read_shift(1);
    return {
        s: {
            r: t[0],
            c: i,
            cRel: t[1],
            rRel: t[2]
        },
        e: {
            r: n[0],
            c: r,
            cRel: n[1],
            rRel: n[2]
        }
    }
}
function OH(e, t, n) {
    if (n.biff < 8)
        return RC(e, t, n);
    var i = e.read_shift(n.biff == 12 ? 4 : 2)
      , r = e.read_shift(n.biff == 12 ? 4 : 2)
      , s = Wc(e, 2)
      , o = Wc(e, 2);
    return {
        s: {
            r: i,
            c: s[0],
            cRel: s[1],
            rRel: s[2]
        },
        e: {
            r,
            c: o[0],
            cRel: o[1],
            rRel: o[2]
        }
    }
}
function DC(e, t, n) {
    if (n && n.biff >= 2 && n.biff <= 5)
        return PH(e, t, n);
    var i = e.read_shift(n && n.biff == 12 ? 4 : 2)
      , r = Wc(e, 2);
    return {
        r: i,
        c: r[0],
        cRel: r[1],
        rRel: r[2]
    }
}
function PH(e) {
    var t = Wc(e, 2)
      , n = e.read_shift(1);
    return {
        r: t[0],
        c: n,
        cRel: t[1],
        rRel: t[2]
    }
}
function MH(e) {
    var t = e.read_shift(2)
      , n = e.read_shift(2);
    return {
        r: t,
        c: n & 255,
        fQuoted: !!(n & 16384),
        cRel: n >> 15,
        rRel: n >> 15
    }
}
function kH(e, t, n) {
    var i = n && n.biff ? n.biff : 8;
    if (i >= 2 && i <= 5)
        return AH(e, t, n);
    var r = e.read_shift(i >= 12 ? 4 : 2)
      , s = e.read_shift(2)
      , o = (s & 16384) >> 14
      , a = (s & 32768) >> 15;
    if (s &= 16383,
    a == 1)
        for (; r > 524287; )
            r -= 1048576;
    if (o == 1)
        for (; s > 8191; )
            s = s - 16384;
    return {
        r,
        c: s,
        cRel: o,
        rRel: a
    }
}
function AH(e) {
    var t = e.read_shift(2)
      , n = e.read_shift(1)
      , i = (t & 32768) >> 15
      , r = (t & 16384) >> 14;
    return t &= 16383,
    i == 1 && t >= 8192 && (t = t - 16384),
    r == 1 && n >= 128 && (n = n - 256),
    {
        r: t,
        c: n,
        cRel: r,
        rRel: i
    }
}
function IH(e, t, n) {
    var i = (e[e.l++] & 96) >> 5
      , r = IC(e, n.biff >= 2 && n.biff <= 5 ? 6 : 8, n);
    return [i, r]
}
function RH(e, t, n) {
    var i = (e[e.l++] & 96) >> 5
      , r = e.read_shift(2, "i")
      , s = 8;
    if (n)
        switch (n.biff) {
        case 5:
            e.l += 12,
            s = 6;
            break;
        case 12:
            s = 12;
            break
        }
    var o = IC(e, s, n);
    return [i, r, o]
}
function DH(e, t, n) {
    var i = (e[e.l++] & 96) >> 5;
    return e.l += n && n.biff > 8 ? 12 : n.biff < 8 ? 6 : 8,
    [i]
}
function NH(e, t, n) {
    var i = (e[e.l++] & 96) >> 5
      , r = e.read_shift(2)
      , s = 8;
    if (n)
        switch (n.biff) {
        case 5:
            e.l += 12,
            s = 6;
            break;
        case 12:
            s = 12;
            break
        }
    return e.l += s,
    [i, r]
}
function FH(e, t, n) {
    var i = (e[e.l++] & 96) >> 5
      , r = OH(e, t - 1, n);
    return [i, r]
}
function LH(e, t, n) {
    var i = (e[e.l++] & 96) >> 5;
    return e.l += n.biff == 2 ? 6 : n.biff == 12 ? 14 : 7,
    [i]
}
function Sw(e) {
    var t = e[e.l + 1] & 1
      , n = 1;
    return e.l += 4,
    [t, n]
}
function BH(e, t, n) {
    e.l += 2;
    for (var i = e.read_shift(n && n.biff == 2 ? 1 : 2), r = [], s = 0; s <= i; ++s)
        r.push(e.read_shift(n && n.biff == 2 ? 1 : 2));
    return r
}
function UH(e, t, n) {
    var i = e[e.l + 1] & 255 ? 1 : 0;
    return e.l += 2,
    [i, e.read_shift(n && n.biff == 2 ? 1 : 2)]
}
function HH(e, t, n) {
    var i = e[e.l + 1] & 255 ? 1 : 0;
    return e.l += 2,
    [i, e.read_shift(n && n.biff == 2 ? 1 : 2)]
}
function GH(e) {
    var t = e[e.l + 1] & 255 ? 1 : 0;
    return e.l += 2,
    [t, e.read_shift(2)]
}
function VH(e, t, n) {
    var i = e[e.l + 1] & 255 ? 1 : 0;
    return e.l += n && n.biff == 2 ? 3 : 4,
    [i]
}
function NC(e) {
    var t = e.read_shift(1)
      , n = e.read_shift(1);
    return [t, n]
}
function WH(e) {
    return e.read_shift(2),
    NC(e, 2)
}
function $H(e) {
    return e.read_shift(2),
    NC(e, 2)
}
function jH(e, t, n) {
    var i = (e[e.l] & 96) >> 5;
    e.l += 1;
    var r = DC(e, 0, n);
    return [i, r]
}
function qH(e, t, n) {
    var i = (e[e.l] & 96) >> 5;
    e.l += 1;
    var r = kH(e, 0, n);
    return [i, r]
}
function zH(e, t, n) {
    var i = (e[e.l] & 96) >> 5;
    e.l += 1;
    var r = e.read_shift(2);
    n && n.biff == 5 && (e.l += 12);
    var s = DC(e, 0, n);
    return [i, r, s]
}
function XH(e, t, n) {
    var i = (e[e.l] & 96) >> 5;
    e.l += 1;
    var r = e.read_shift(n && n.biff <= 3 ? 1 : 2);
    return [XG[r], BC[r], i]
}
function KH(e, t, n) {
    var i = e[e.l++]
      , r = e.read_shift(1)
      , s = n && n.biff <= 3 ? [i == 88 ? -1 : 0, e.read_shift(1)] : YH(e);
    return [r, (s[0] === 0 ? BC : zG)[s[1]]]
}
function YH(e) {
    return [e[e.l + 1] >> 7, e.read_shift(2) & 32767]
}
function QH(e, t, n) {
    e.l += n && n.biff == 2 ? 3 : 4
}
function JH(e, t, n) {
    if (e.l++,
    n && n.biff == 12)
        return [e.read_shift(4, "i"), 0];
    var i = e.read_shift(2)
      , r = e.read_shift(n && n.biff == 2 ? 1 : 2);
    return [i, r]
}
function ZH(e) {
    return e.l++,
    M1[e.read_shift(1)]
}
function eG(e) {
    return e.l++,
    e.read_shift(2)
}
function tG(e) {
    return e.l++,
    e.read_shift(1) !== 0
}
function nG(e) {
    return e.l++,
    Zu(e, 8)
}
function iG(e, t, n) {
    return e.l++,
    vC(e, t - 1, n)
}
function rG(e, t) {
    var n = [e.read_shift(1)];
    if (t == 12)
        switch (n[0]) {
        case 2:
            n[0] = 4;
            break;
        case 4:
            n[0] = 16;
            break;
        case 0:
            n[0] = 1;
            break;
        case 1:
            n[0] = 2;
            break
        }
    switch (n[0]) {
    case 4:
        n[1] = zB(e, 1) ? "TRUE" : "FALSE",
        t != 12 && (e.l += 7);
        break;
    case 37:
    case 16:
        n[1] = M1[e[e.l]],
        e.l += t == 12 ? 4 : 8;
        break;
    case 0:
        e.l += 8;
        break;
    case 1:
        n[1] = Zu(e, 8);
        break;
    case 2:
        n[1] = QB(e, 0, {
            biff: t > 0 && t < 8 ? 2 : t
        });
        break;
    default:
        throw new Error("Bad SerAr: " + n[0])
    }
    return n
}
function sG(e, t, n) {
    for (var i = e.read_shift(n.biff == 12 ? 4 : 2), r = [], s = 0; s != i; ++s)
        r.push((n.biff == 12 ? l0 : eU)(e, 8));
    return r
}
function oG(e, t, n) {
    var i = 0
      , r = 0;
    n.biff == 12 ? (i = e.read_shift(4),
    r = e.read_shift(4)) : (r = 1 + e.read_shift(1),
    i = 1 + e.read_shift(2)),
    n.biff >= 2 && n.biff < 8 && (--i,
    --r == 0 && (r = 256));
    for (var s = 0, o = []; s != i && (o[s] = []); ++s)
        for (var a = 0; a != r; ++a)
            o[s][a] = rG(e, n.biff);
    return o
}
function aG(e, t, n) {
    var i = e.read_shift(1) >>> 5 & 3
      , r = !n || n.biff >= 8 ? 4 : 2
      , s = e.read_shift(r);
    switch (n.biff) {
    case 2:
        e.l += 5;
        break;
    case 3:
    case 4:
        e.l += 8;
        break;
    case 5:
        e.l += 12;
        break
    }
    return [i, 0, s]
}
function cG(e, t, n) {
    if (n.biff == 5)
        return lG(e, t, n);
    var i = e.read_shift(1) >>> 5 & 3
      , r = e.read_shift(2)
      , s = e.read_shift(4);
    return [i, r, s]
}
function lG(e) {
    var t = e.read_shift(1) >>> 5 & 3
      , n = e.read_shift(2, "i");
    e.l += 8;
    var i = e.read_shift(2);
    return e.l += 12,
    [t, n, i]
}
function uG(e, t, n) {
    var i = e.read_shift(1) >>> 5 & 3;
    e.l += n && n.biff == 2 ? 3 : 4;
    var r = e.read_shift(n && n.biff == 2 ? 1 : 2);
    return [i, r]
}
function hG(e, t, n) {
    var i = e.read_shift(1) >>> 5 & 3
      , r = e.read_shift(n && n.biff == 2 ? 1 : 2);
    return [i, r]
}
function dG(e, t, n) {
    var i = e.read_shift(1) >>> 5 & 3;
    return e.l += 4,
    n.biff < 8 && e.l--,
    n.biff == 12 && (e.l += 2),
    [i]
}
function fG(e, t, n) {
    var i = (e[e.l++] & 96) >> 5
      , r = e.read_shift(2)
      , s = 4;
    if (n)
        switch (n.biff) {
        case 5:
            s = 15;
            break;
        case 12:
            s = 6;
            break
        }
    return e.l += s,
    [i, r]
}
var pG = Zo
  , gG = Zo
  , mG = Zo;
function k1(e, t, n) {
    return e.l += 2,
    [MH(e, 4, n)]
}
function V7(e) {
    return e.l += 6,
    []
}
var vG = k1
  , _G = V7
  , yG = V7
  , bG = k1;
function FC(e) {
    return e.l += 2,
    [gC(e), e.read_shift(2) & 1]
}
var SG = k1
  , xG = FC
  , wG = V7
  , CG = k1
  , EG = k1
  , TG = ["Data", "All", "Headers", "??", "?Data2", "??", "?DataHeaders", "??", "Totals", "??", "??", "??", "?DataTotals", "??", "??", "??", "?Current"];
function OG(e) {
    e.l += 2;
    var t = e.read_shift(2)
      , n = e.read_shift(2)
      , i = e.read_shift(4)
      , r = e.read_shift(2)
      , s = e.read_shift(2)
      , o = TG[n >> 2 & 31];
    return {
        ixti: t,
        coltype: n & 3,
        rt: o,
        idx: i,
        c: r,
        C: s
    }
}
function PG(e) {
    return e.l += 2,
    [e.read_shift(4)]
}
function MG(e, t, n) {
    return e.l += 5,
    e.l += 2,
    e.l += n.biff == 2 ? 1 : 4,
    ["PTGSHEET"]
}
function kG(e, t, n) {
    return e.l += n.biff == 2 ? 4 : 5,
    ["PTGENDSHEET"]
}
function AG(e) {
    var t = e.read_shift(1) >>> 5 & 3
      , n = e.read_shift(2);
    return [t, n]
}
function IG(e) {
    var t = e.read_shift(1) >>> 5 & 3
      , n = e.read_shift(2);
    return [t, n]
}
function RG(e) {
    return e.l += 4,
    [0, 0]
}
var xw = {
    1: {
        n: "PtgExp",
        f: JH
    },
    2: {
        n: "PtgTbl",
        f: mG
    },
    3: {
        n: "PtgAdd",
        f: ri
    },
    4: {
        n: "PtgSub",
        f: ri
    },
    5: {
        n: "PtgMul",
        f: ri
    },
    6: {
        n: "PtgDiv",
        f: ri
    },
    7: {
        n: "PtgPower",
        f: ri
    },
    8: {
        n: "PtgConcat",
        f: ri
    },
    9: {
        n: "PtgLt",
        f: ri
    },
    10: {
        n: "PtgLe",
        f: ri
    },
    11: {
        n: "PtgEq",
        f: ri
    },
    12: {
        n: "PtgGe",
        f: ri
    },
    13: {
        n: "PtgGt",
        f: ri
    },
    14: {
        n: "PtgNe",
        f: ri
    },
    15: {
        n: "PtgIsect",
        f: ri
    },
    16: {
        n: "PtgUnion",
        f: ri
    },
    17: {
        n: "PtgRange",
        f: ri
    },
    18: {
        n: "PtgUplus",
        f: ri
    },
    19: {
        n: "PtgUminus",
        f: ri
    },
    20: {
        n: "PtgPercent",
        f: ri
    },
    21: {
        n: "PtgParen",
        f: ri
    },
    22: {
        n: "PtgMissArg",
        f: ri
    },
    23: {
        n: "PtgStr",
        f: iG
    },
    26: {
        n: "PtgSheet",
        f: MG
    },
    27: {
        n: "PtgEndSheet",
        f: kG
    },
    28: {
        n: "PtgErr",
        f: ZH
    },
    29: {
        n: "PtgBool",
        f: tG
    },
    30: {
        n: "PtgInt",
        f: eG
    },
    31: {
        n: "PtgNum",
        f: nG
    },
    32: {
        n: "PtgArray",
        f: LH
    },
    33: {
        n: "PtgFunc",
        f: XH
    },
    34: {
        n: "PtgFuncVar",
        f: KH
    },
    35: {
        n: "PtgName",
        f: aG
    },
    36: {
        n: "PtgRef",
        f: jH
    },
    37: {
        n: "PtgArea",
        f: IH
    },
    38: {
        n: "PtgMemArea",
        f: uG
    },
    39: {
        n: "PtgMemErr",
        f: pG
    },
    40: {
        n: "PtgMemNoMem",
        f: gG
    },
    41: {
        n: "PtgMemFunc",
        f: hG
    },
    42: {
        n: "PtgRefErr",
        f: dG
    },
    43: {
        n: "PtgAreaErr",
        f: DH
    },
    44: {
        n: "PtgRefN",
        f: qH
    },
    45: {
        n: "PtgAreaN",
        f: FH
    },
    46: {
        n: "PtgMemAreaN",
        f: AG
    },
    47: {
        n: "PtgMemNoMemN",
        f: IG
    },
    57: {
        n: "PtgNameX",
        f: cG
    },
    58: {
        n: "PtgRef3d",
        f: zH
    },
    59: {
        n: "PtgArea3d",
        f: RH
    },
    60: {
        n: "PtgRefErr3d",
        f: fG
    },
    61: {
        n: "PtgAreaErr3d",
        f: NH
    },
    255: {}
}
  , DG = {
    64: 32,
    96: 32,
    65: 33,
    97: 33,
    66: 34,
    98: 34,
    67: 35,
    99: 35,
    68: 36,
    100: 36,
    69: 37,
    101: 37,
    70: 38,
    102: 38,
    71: 39,
    103: 39,
    72: 40,
    104: 40,
    73: 41,
    105: 41,
    74: 42,
    106: 42,
    75: 43,
    107: 43,
    76: 44,
    108: 44,
    77: 45,
    109: 45,
    78: 46,
    110: 46,
    79: 47,
    111: 47,
    88: 34,
    120: 34,
    89: 57,
    121: 57,
    90: 58,
    122: 58,
    91: 59,
    123: 59,
    92: 60,
    124: 60,
    93: 61,
    125: 61
}
  , NG = {
    1: {
        n: "PtgElfLel",
        f: FC
    },
    2: {
        n: "PtgElfRw",
        f: CG
    },
    3: {
        n: "PtgElfCol",
        f: vG
    },
    6: {
        n: "PtgElfRwV",
        f: EG
    },
    7: {
        n: "PtgElfColV",
        f: bG
    },
    10: {
        n: "PtgElfRadical",
        f: SG
    },
    11: {
        n: "PtgElfRadicalS",
        f: wG
    },
    13: {
        n: "PtgElfColS",
        f: _G
    },
    15: {
        n: "PtgElfColSV",
        f: yG
    },
    16: {
        n: "PtgElfRadicalLel",
        f: xG
    },
    25: {
        n: "PtgList",
        f: OG
    },
    29: {
        n: "PtgSxName",
        f: PG
    },
    255: {}
}
  , FG = {
    0: {
        n: "PtgAttrNoop",
        f: RG
    },
    1: {
        n: "PtgAttrSemi",
        f: VH
    },
    2: {
        n: "PtgAttrIf",
        f: HH
    },
    4: {
        n: "PtgAttrChoose",
        f: BH
    },
    8: {
        n: "PtgAttrGoto",
        f: UH
    },
    16: {
        n: "PtgAttrSum",
        f: QH
    },
    32: {
        n: "PtgAttrBaxcel",
        f: Sw
    },
    33: {
        n: "PtgAttrBaxcel",
        f: Sw
    },
    64: {
        n: "PtgAttrSpace",
        f: WH
    },
    65: {
        n: "PtgAttrSpaceSemi",
        f: $H
    },
    128: {
        n: "PtgAttrIfError",
        f: GH
    },
    255: {}
};
function LG(e, t, n, i) {
    if (i.biff < 8)
        return Zo(e, t);
    for (var r = e.l + t, s = [], o = 0; o !== n.length; ++o)
        switch (n[o][0]) {
        case "PtgArray":
            n[o][1] = oG(e, 0, i),
            s.push(n[o][1]);
            break;
        case "PtgMemArea":
            n[o][2] = sG(e, n[o][1], i),
            s.push(n[o][2]);
            break;
        case "PtgExp":
            i && i.biff == 12 && (n[o][1][1] = e.read_shift(4),
            s.push(n[o][1]));
            break;
        case "PtgList":
        case "PtgElfRadicalS":
        case "PtgElfColS":
        case "PtgElfColSV":
            throw "Unsupported " + n[o][0];
        default:
            break
        }
    return t = r - e.l,
    t !== 0 && s.push(Zo(e, t)),
    s
}
function BG(e, t, n) {
    for (var i = e.l + t, r, s, o = []; i != e.l; )
        t = i - e.l,
        s = e[e.l],
        r = xw[s] || xw[DG[s]],
        (s === 24 || s === 25) && (r = (s === 24 ? NG : FG)[e[e.l + 1]]),
        !r || !r.f ? Zo(e, t) : o.push([r.n, r.f(e, t, n)]);
    return o
}
function UG(e) {
    for (var t = [], n = 0; n < e.length; ++n) {
        for (var i = e[n], r = [], s = 0; s < i.length; ++s) {
            var o = i[s];
            if (o)
                switch (o[0]) {
                case 2:
                    r.push('"' + o[1].replace(/"/g, '""') + '"');
                    break;
                default:
                    r.push(o[1])
                }
            else
                r.push("")
        }
        t.push(r.join(","))
    }
    return t.join(";")
}
var HG = {
    PtgAdd: "+",
    PtgConcat: "&",
    PtgDiv: "/",
    PtgEq: "=",
    PtgGe: ">=",
    PtgGt: ">",
    PtgLe: "<=",
    PtgLt: "<",
    PtgMul: "*",
    PtgNe: "<>",
    PtgPower: "^",
    PtgSub: "-"
};
function GG(e, t) {
    if (!e && !(t && t.biff <= 5 && t.biff >= 2))
        throw new Error("empty sheet name");
    return /[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e) ? "'" + e + "'" : e
}
function LC(e, t, n) {
    if (!e)
        return "SH33TJSERR0";
    if (n.biff > 8 && (!e.XTI || !e.XTI[t]))
        return e.SheetNames[t];
    if (!e.XTI)
        return "SH33TJSERR6";
    var i = e.XTI[t];
    if (n.biff < 8)
        return t > 1e4 && (t -= 65536),
        t < 0 && (t = -t),
        t == 0 ? "" : e.XTI[t - 1];
    if (!i)
        return "SH33TJSERR1";
    var r = "";
    if (n.biff > 8)
        switch (e[i[0]][0]) {
        case 357:
            return r = i[1] == -1 ? "#REF" : e.SheetNames[i[1]],
            i[1] == i[2] ? r : r + ":" + e.SheetNames[i[2]];
        case 358:
            return n.SID != null ? e.SheetNames[n.SID] : "SH33TJSSAME" + e[i[0]][0];
        case 355:
        default:
            return "SH33TJSSRC" + e[i[0]][0]
        }
    switch (e[i[0]][0][0]) {
    case 1025:
        return r = i[1] == -1 ? "#REF" : e.SheetNames[i[1]] || "SH33TJSERR3",
        i[1] == i[2] ? r : r + ":" + e.SheetNames[i[2]];
    case 14849:
        return e[i[0]].slice(1).map(function(s) {
            return s.Name
        }).join(";;");
    default:
        return e[i[0]][0][3] ? (r = i[1] == -1 ? "#REF" : e[i[0]][0][3][i[1]] || "SH33TJSERR4",
        i[1] == i[2] ? r : r + ":" + e[i[0]][0][3][i[2]]) : "SH33TJSERR2"
    }
}
function ww(e, t, n) {
    var i = LC(e, t, n);
    return i == "#REF" ? i : GG(i, n)
}
function Xu(e, t, n, i, r) {
    var s = r && r.biff || 8, o = {
        s: {
            c: 0,
            r: 0
        },
        e: {
            c: 0,
            r: 0
        }
    }, a = [], c, l, u, h = 0, d = 0, f, g = "";
    if (!e[0] || !e[0][0])
        return "";
    for (var p = -1, v = "", b = 0, S = e[0].length; b < S; ++b) {
        var w = e[0][b];
        switch (w[0]) {
        case "PtgUminus":
            a.push("-" + a.pop());
            break;
        case "PtgUplus":
            a.push("+" + a.pop());
            break;
        case "PtgPercent":
            a.push(a.pop() + "%");
            break;
        case "PtgAdd":
        case "PtgConcat":
        case "PtgDiv":
        case "PtgEq":
        case "PtgGe":
        case "PtgGt":
        case "PtgLe":
        case "PtgLt":
        case "PtgMul":
        case "PtgNe":
        case "PtgPower":
        case "PtgSub":
            if (c = a.pop(),
            l = a.pop(),
            p >= 0) {
                switch (e[0][p][1][0]) {
                case 0:
                    v = Ln(" ", e[0][p][1][1]);
                    break;
                case 1:
                    v = Ln("\r", e[0][p][1][1]);
                    break;
                default:
                    if (v = "",
                    r.WTF)
                        throw new Error("Unexpected PtgAttrSpaceType " + e[0][p][1][0])
                }
                l = l + v,
                p = -1
            }
            a.push(l + HG[w[0]] + c);
            break;
        case "PtgIsect":
            c = a.pop(),
            l = a.pop(),
            a.push(l + " " + c);
            break;
        case "PtgUnion":
            c = a.pop(),
            l = a.pop(),
            a.push(l + "," + c);
            break;
        case "PtgRange":
            c = a.pop(),
            l = a.pop(),
            a.push(l + ":" + c);
            break;
        case "PtgAttrChoose":
            break;
        case "PtgAttrGoto":
            break;
        case "PtgAttrIf":
            break;
        case "PtgAttrIfError":
            break;
        case "PtgRef":
            u = v1(w[1][1], o, r),
            a.push(_1(u, s));
            break;
        case "PtgRefN":
            u = n ? v1(w[1][1], n, r) : w[1][1],
            a.push(_1(u, s));
            break;
        case "PtgRef3d":
            h = w[1][1],
            u = v1(w[1][2], o, r),
            g = ww(i, h, r);
            var k = g;
            a.push(g + "!" + _1(u, s));
            break;
        case "PtgFunc":
        case "PtgFuncVar":
            var B = w[1][0]
              , N = w[1][1];
            B || (B = 0),
            B &= 127;
            var E = B == 0 ? [] : a.slice(-B);
            a.length -= B,
            N === "User" && (N = E.shift()),
            a.push(N + "(" + E.join(",") + ")");
            break;
        case "PtgBool":
            a.push(w[1] ? "TRUE" : "FALSE");
            break;
        case "PtgInt":
            a.push(w[1]);
            break;
        case "PtgNum":
            a.push(String(w[1]));
            break;
        case "PtgStr":
            a.push('"' + w[1].replace(/"/g, '""') + '"');
            break;
        case "PtgErr":
            a.push(w[1]);
            break;
        case "PtgAreaN":
            f = aw(w[1][1], n ? {
                s: n
            } : o, r),
            a.push(h7(f, r));
            break;
        case "PtgArea":
            f = aw(w[1][1], o, r),
            a.push(h7(f, r));
            break;
        case "PtgArea3d":
            h = w[1][1],
            f = w[1][2],
            g = ww(i, h, r),
            a.push(g + "!" + h7(f, r));
            break;
        case "PtgAttrSum":
            a.push("SUM(" + a.pop() + ")");
            break;
        case "PtgAttrBaxcel":
        case "PtgAttrSemi":
            break;
        case "PtgName":
            d = w[1][2];
            var F = (i.names || [])[d - 1] || (i[0] || [])[d]
              , O = F ? F.Name : "SH33TJSNAME" + String(d);
            O && O.slice(0, 6) == "_xlfn." && !r.xlfn && (O = O.slice(6)),
            a.push(O);
            break;
        case "PtgNameX":
            var V = w[1][1];
            d = w[1][2];
            var X;
            if (r.biff <= 5)
                V < 0 && (V = -V),
                i[V] && (X = i[V][d]);
            else {
                var x = "";
                if (((i[V] || [])[0] || [])[0] == 14849 || (((i[V] || [])[0] || [])[0] == 1025 ? i[V][d] && i[V][d].itab > 0 && (x = i.SheetNames[i[V][d].itab - 1] + "!") : x = i.SheetNames[d - 1] + "!"),
                i[V] && i[V][d])
                    x += i[V][d].Name;
                else if (i[0] && i[0][d])
                    x += i[0][d].Name;
                else {
                    var j = (LC(i, V, r) || "").split(";;");
                    j[d - 1] ? x = j[d - 1] : x += "SH33TJSERRX"
                }
                a.push(x);
                break
            }
            X || (X = {
                Name: "SH33TJSERRY"
            }),
            a.push(X.Name);
            break;
        case "PtgParen":
            var fe = "("
              , he = ")";
            if (p >= 0) {
                switch (v = "",
                e[0][p][1][0]) {
                case 2:
                    fe = Ln(" ", e[0][p][1][1]) + fe;
                    break;
                case 3:
                    fe = Ln("\r", e[0][p][1][1]) + fe;
                    break;
                case 4:
                    he = Ln(" ", e[0][p][1][1]) + he;
                    break;
                case 5:
                    he = Ln("\r", e[0][p][1][1]) + he;
                    break;
                default:
                    if (r.WTF)
                        throw new Error("Unexpected PtgAttrSpaceType " + e[0][p][1][0])
                }
                p = -1
            }
            a.push(fe + a.pop() + he);
            break;
        case "PtgRefErr":
            a.push("#REF!");
            break;
        case "PtgRefErr3d":
            a.push("#REF!");
            break;
        case "PtgExp":
            u = {
                c: w[1][1],
                r: w[1][0]
            };
            var Re = {
                c: n.c,
                r: n.r
            };
            if (i.sharedf[tn(u)]) {
                var Xe = i.sharedf[tn(u)];
                a.push(Xu(Xe, o, Re, i, r))
            } else {
                var pt = !1;
                for (c = 0; c != i.arrayf.length; ++c)
                    if (l = i.arrayf[c],
                    !(u.c < l[0].s.c || u.c > l[0].e.c) && !(u.r < l[0].s.r || u.r > l[0].e.r)) {
                        a.push(Xu(l[1], o, Re, i, r)),
                        pt = !0;
                        break
                    }
                pt || a.push(w[1])
            }
            break;
        case "PtgArray":
            a.push("{" + UG(w[1]) + "}");
            break;
        case "PtgMemArea":
            break;
        case "PtgAttrSpace":
        case "PtgAttrSpaceSemi":
            p = b;
            break;
        case "PtgTbl":
            break;
        case "PtgMemErr":
            break;
        case "PtgMissArg":
            a.push("");
            break;
        case "PtgAreaErr":
            a.push("#REF!");
            break;
        case "PtgAreaErr3d":
            a.push("#REF!");
            break;
        case "PtgList":
            a.push("Table" + w[1].idx + "[#" + w[1].rt + "]");
            break;
        case "PtgMemAreaN":
        case "PtgMemNoMemN":
        case "PtgAttrNoop":
        case "PtgSheet":
        case "PtgEndSheet":
            break;
        case "PtgMemFunc":
            break;
        case "PtgMemNoMem":
            break;
        case "PtgElfCol":
        case "PtgElfColS":
        case "PtgElfColSV":
        case "PtgElfColV":
        case "PtgElfLel":
        case "PtgElfRadical":
        case "PtgElfRadicalLel":
        case "PtgElfRadicalS":
        case "PtgElfRw":
        case "PtgElfRwV":
            throw new Error("Unsupported ELFs");
        case "PtgSxName":
            throw new Error("Unrecognized Formula Token: " + String(w));
        default:
            throw new Error("Unrecognized Formula Token: " + String(w))
        }
        var it = ["PtgAttrSpace", "PtgAttrSpaceSemi", "PtgAttrGoto"];
        if (r.biff != 3 && p >= 0 && it.indexOf(e[0][b][0]) == -1) {
            w = e[0][p];
            var de = !0;
            switch (w[1][0]) {
            case 4:
                de = !1;
            case 0:
                v = Ln(" ", w[1][1]);
                break;
            case 5:
                de = !1;
            case 1:
                v = Ln("\r", w[1][1]);
                break;
            default:
                if (v = "",
                r.WTF)
                    throw new Error("Unexpected PtgAttrSpaceType " + w[1][0])
            }
            a.push((de ? v : "") + a.pop() + (de ? "" : v)),
            p = -1
        }
    }
    if (a.length > 1 && r.WTF)
        throw new Error("bad formula stack");
    return a[0]
}
function VG(e) {
    if (e == null) {
        var t = ce(8);
        return t.write_shift(1, 3),
        t.write_shift(1, 0),
        t.write_shift(2, 0),
        t.write_shift(2, 0),
        t.write_shift(2, 65535),
        t
    } else if (typeof e == "number")
        return i0(e);
    return i0(0)
}
function WG(e, t, n, i, r) {
    var s = r0(t, n, r)
      , o = VG(e.v)
      , a = ce(6)
      , c = 33;
    a.write_shift(2, c),
    a.write_shift(4, 0);
    for (var l = ce(e.bf.length), u = 0; u < e.bf.length; ++u)
        l[u] = e.bf[u];
    var h = $i([s, o, a, l]);
    return h
}
function m2(e, t, n) {
    var i = e.read_shift(4)
      , r = BG(e, i, n)
      , s = e.read_shift(4)
      , o = s > 0 ? LG(e, s, r, n) : null;
    return [r, o]
}
var $G = m2
  , v2 = m2
  , jG = m2
  , qG = m2
  , zG = {
    0: "BEEP",
    1: "OPEN",
    2: "OPEN.LINKS",
    3: "CLOSE.ALL",
    4: "SAVE",
    5: "SAVE.AS",
    6: "FILE.DELETE",
    7: "PAGE.SETUP",
    8: "PRINT",
    9: "PRINTER.SETUP",
    10: "QUIT",
    11: "NEW.WINDOW",
    12: "ARRANGE.ALL",
    13: "WINDOW.SIZE",
    14: "WINDOW.MOVE",
    15: "FULL",
    16: "CLOSE",
    17: "RUN",
    22: "SET.PRINT.AREA",
    23: "SET.PRINT.TITLES",
    24: "SET.PAGE.BREAK",
    25: "REMOVE.PAGE.BREAK",
    26: "FONT",
    27: "DISPLAY",
    28: "PROTECT.DOCUMENT",
    29: "PRECISION",
    30: "A1.R1C1",
    31: "CALCULATE.NOW",
    32: "CALCULATION",
    34: "DATA.FIND",
    35: "EXTRACT",
    36: "DATA.DELETE",
    37: "SET.DATABASE",
    38: "SET.CRITERIA",
    39: "SORT",
    40: "DATA.SERIES",
    41: "TABLE",
    42: "FORMAT.NUMBER",
    43: "ALIGNMENT",
    44: "STYLE",
    45: "BORDER",
    46: "CELL.PROTECTION",
    47: "COLUMN.WIDTH",
    48: "UNDO",
    49: "CUT",
    50: "COPY",
    51: "PASTE",
    52: "CLEAR",
    53: "PASTE.SPECIAL",
    54: "EDIT.DELETE",
    55: "INSERT",
    56: "FILL.RIGHT",
    57: "FILL.DOWN",
    61: "DEFINE.NAME",
    62: "CREATE.NAMES",
    63: "FORMULA.GOTO",
    64: "FORMULA.FIND",
    65: "SELECT.LAST.CELL",
    66: "SHOW.ACTIVE.CELL",
    67: "GALLERY.AREA",
    68: "GALLERY.BAR",
    69: "GALLERY.COLUMN",
    70: "GALLERY.LINE",
    71: "GALLERY.PIE",
    72: "GALLERY.SCATTER",
    73: "COMBINATION",
    74: "PREFERRED",
    75: "ADD.OVERLAY",
    76: "GRIDLINES",
    77: "SET.PREFERRED",
    78: "AXES",
    79: "LEGEND",
    80: "ATTACH.TEXT",
    81: "ADD.ARROW",
    82: "SELECT.CHART",
    83: "SELECT.PLOT.AREA",
    84: "PATTERNS",
    85: "MAIN.CHART",
    86: "OVERLAY",
    87: "SCALE",
    88: "FORMAT.LEGEND",
    89: "FORMAT.TEXT",
    90: "EDIT.REPEAT",
    91: "PARSE",
    92: "JUSTIFY",
    93: "HIDE",
    94: "UNHIDE",
    95: "WORKSPACE",
    96: "FORMULA",
    97: "FORMULA.FILL",
    98: "FORMULA.ARRAY",
    99: "DATA.FIND.NEXT",
    100: "DATA.FIND.PREV",
    101: "FORMULA.FIND.NEXT",
    102: "FORMULA.FIND.PREV",
    103: "ACTIVATE",
    104: "ACTIVATE.NEXT",
    105: "ACTIVATE.PREV",
    106: "UNLOCKED.NEXT",
    107: "UNLOCKED.PREV",
    108: "COPY.PICTURE",
    109: "SELECT",
    110: "DELETE.NAME",
    111: "DELETE.FORMAT",
    112: "VLINE",
    113: "HLINE",
    114: "VPAGE",
    115: "HPAGE",
    116: "VSCROLL",
    117: "HSCROLL",
    118: "ALERT",
    119: "NEW",
    120: "CANCEL.COPY",
    121: "SHOW.CLIPBOARD",
    122: "MESSAGE",
    124: "PASTE.LINK",
    125: "APP.ACTIVATE",
    126: "DELETE.ARROW",
    127: "ROW.HEIGHT",
    128: "FORMAT.MOVE",
    129: "FORMAT.SIZE",
    130: "FORMULA.REPLACE",
    131: "SEND.KEYS",
    132: "SELECT.SPECIAL",
    133: "APPLY.NAMES",
    134: "REPLACE.FONT",
    135: "FREEZE.PANES",
    136: "SHOW.INFO",
    137: "SPLIT",
    138: "ON.WINDOW",
    139: "ON.DATA",
    140: "DISABLE.INPUT",
    142: "OUTLINE",
    143: "LIST.NAMES",
    144: "FILE.CLOSE",
    145: "SAVE.WORKBOOK",
    146: "DATA.FORM",
    147: "COPY.CHART",
    148: "ON.TIME",
    149: "WAIT",
    150: "FORMAT.FONT",
    151: "FILL.UP",
    152: "FILL.LEFT",
    153: "DELETE.OVERLAY",
    155: "SHORT.MENUS",
    159: "SET.UPDATE.STATUS",
    161: "COLOR.PALETTE",
    162: "DELETE.STYLE",
    163: "WINDOW.RESTORE",
    164: "WINDOW.MAXIMIZE",
    166: "CHANGE.LINK",
    167: "CALCULATE.DOCUMENT",
    168: "ON.KEY",
    169: "APP.RESTORE",
    170: "APP.MOVE",
    171: "APP.SIZE",
    172: "APP.MINIMIZE",
    173: "APP.MAXIMIZE",
    174: "BRING.TO.FRONT",
    175: "SEND.TO.BACK",
    185: "MAIN.CHART.TYPE",
    186: "OVERLAY.CHART.TYPE",
    187: "SELECT.END",
    188: "OPEN.MAIL",
    189: "SEND.MAIL",
    190: "STANDARD.FONT",
    191: "CONSOLIDATE",
    192: "SORT.SPECIAL",
    193: "GALLERY.3D.AREA",
    194: "GALLERY.3D.COLUMN",
    195: "GALLERY.3D.LINE",
    196: "GALLERY.3D.PIE",
    197: "VIEW.3D",
    198: "GOAL.SEEK",
    199: "WORKGROUP",
    200: "FILL.GROUP",
    201: "UPDATE.LINK",
    202: "PROMOTE",
    203: "DEMOTE",
    204: "SHOW.DETAIL",
    206: "UNGROUP",
    207: "OBJECT.PROPERTIES",
    208: "SAVE.NEW.OBJECT",
    209: "SHARE",
    210: "SHARE.NAME",
    211: "DUPLICATE",
    212: "APPLY.STYLE",
    213: "ASSIGN.TO.OBJECT",
    214: "OBJECT.PROTECTION",
    215: "HIDE.OBJECT",
    216: "SET.EXTRACT",
    217: "CREATE.PUBLISHER",
    218: "SUBSCRIBE.TO",
    219: "ATTRIBUTES",
    220: "SHOW.TOOLBAR",
    222: "PRINT.PREVIEW",
    223: "EDIT.COLOR",
    224: "SHOW.LEVELS",
    225: "FORMAT.MAIN",
    226: "FORMAT.OVERLAY",
    227: "ON.RECALC",
    228: "EDIT.SERIES",
    229: "DEFINE.STYLE",
    240: "LINE.PRINT",
    243: "ENTER.DATA",
    249: "GALLERY.RADAR",
    250: "MERGE.STYLES",
    251: "EDITION.OPTIONS",
    252: "PASTE.PICTURE",
    253: "PASTE.PICTURE.LINK",
    254: "SPELLING",
    256: "ZOOM",
    259: "INSERT.OBJECT",
    260: "WINDOW.MINIMIZE",
    265: "SOUND.NOTE",
    266: "SOUND.PLAY",
    267: "FORMAT.SHAPE",
    268: "EXTEND.POLYGON",
    269: "FORMAT.AUTO",
    272: "GALLERY.3D.BAR",
    273: "GALLERY.3D.SURFACE",
    274: "FILL.AUTO",
    276: "CUSTOMIZE.TOOLBAR",
    277: "ADD.TOOL",
    278: "EDIT.OBJECT",
    279: "ON.DOUBLECLICK",
    280: "ON.ENTRY",
    281: "WORKBOOK.ADD",
    282: "WORKBOOK.MOVE",
    283: "WORKBOOK.COPY",
    284: "WORKBOOK.OPTIONS",
    285: "SAVE.WORKSPACE",
    288: "CHART.WIZARD",
    289: "DELETE.TOOL",
    290: "MOVE.TOOL",
    291: "WORKBOOK.SELECT",
    292: "WORKBOOK.ACTIVATE",
    293: "ASSIGN.TO.TOOL",
    295: "COPY.TOOL",
    296: "RESET.TOOL",
    297: "CONSTRAIN.NUMERIC",
    298: "PASTE.TOOL",
    302: "WORKBOOK.NEW",
    305: "SCENARIO.CELLS",
    306: "SCENARIO.DELETE",
    307: "SCENARIO.ADD",
    308: "SCENARIO.EDIT",
    309: "SCENARIO.SHOW",
    310: "SCENARIO.SHOW.NEXT",
    311: "SCENARIO.SUMMARY",
    312: "PIVOT.TABLE.WIZARD",
    313: "PIVOT.FIELD.PROPERTIES",
    314: "PIVOT.FIELD",
    315: "PIVOT.ITEM",
    316: "PIVOT.ADD.FIELDS",
    318: "OPTIONS.CALCULATION",
    319: "OPTIONS.EDIT",
    320: "OPTIONS.VIEW",
    321: "ADDIN.MANAGER",
    322: "MENU.EDITOR",
    323: "ATTACH.TOOLBARS",
    324: "VBAActivate",
    325: "OPTIONS.CHART",
    328: "VBA.INSERT.FILE",
    330: "VBA.PROCEDURE.DEFINITION",
    336: "ROUTING.SLIP",
    338: "ROUTE.DOCUMENT",
    339: "MAIL.LOGON",
    342: "INSERT.PICTURE",
    343: "EDIT.TOOL",
    344: "GALLERY.DOUGHNUT",
    350: "CHART.TREND",
    352: "PIVOT.ITEM.PROPERTIES",
    354: "WORKBOOK.INSERT",
    355: "OPTIONS.TRANSITION",
    356: "OPTIONS.GENERAL",
    370: "FILTER.ADVANCED",
    373: "MAIL.ADD.MAILER",
    374: "MAIL.DELETE.MAILER",
    375: "MAIL.REPLY",
    376: "MAIL.REPLY.ALL",
    377: "MAIL.FORWARD",
    378: "MAIL.NEXT.LETTER",
    379: "DATA.LABEL",
    380: "INSERT.TITLE",
    381: "FONT.PROPERTIES",
    382: "MACRO.OPTIONS",
    383: "WORKBOOK.HIDE",
    384: "WORKBOOK.UNHIDE",
    385: "WORKBOOK.DELETE",
    386: "WORKBOOK.NAME",
    388: "GALLERY.CUSTOM",
    390: "ADD.CHART.AUTOFORMAT",
    391: "DELETE.CHART.AUTOFORMAT",
    392: "CHART.ADD.DATA",
    393: "AUTO.OUTLINE",
    394: "TAB.ORDER",
    395: "SHOW.DIALOG",
    396: "SELECT.ALL",
    397: "UNGROUP.SHEETS",
    398: "SUBTOTAL.CREATE",
    399: "SUBTOTAL.REMOVE",
    400: "RENAME.OBJECT",
    412: "WORKBOOK.SCROLL",
    413: "WORKBOOK.NEXT",
    414: "WORKBOOK.PREV",
    415: "WORKBOOK.TAB.SPLIT",
    416: "FULL.SCREEN",
    417: "WORKBOOK.PROTECT",
    420: "SCROLLBAR.PROPERTIES",
    421: "PIVOT.SHOW.PAGES",
    422: "TEXT.TO.COLUMNS",
    423: "FORMAT.CHARTTYPE",
    424: "LINK.FORMAT",
    425: "TRACER.DISPLAY",
    430: "TRACER.NAVIGATE",
    431: "TRACER.CLEAR",
    432: "TRACER.ERROR",
    433: "PIVOT.FIELD.GROUP",
    434: "PIVOT.FIELD.UNGROUP",
    435: "CHECKBOX.PROPERTIES",
    436: "LABEL.PROPERTIES",
    437: "LISTBOX.PROPERTIES",
    438: "EDITBOX.PROPERTIES",
    439: "PIVOT.REFRESH",
    440: "LINK.COMBO",
    441: "OPEN.TEXT",
    442: "HIDE.DIALOG",
    443: "SET.DIALOG.FOCUS",
    444: "ENABLE.OBJECT",
    445: "PUSHBUTTON.PROPERTIES",
    446: "SET.DIALOG.DEFAULT",
    447: "FILTER",
    448: "FILTER.SHOW.ALL",
    449: "CLEAR.OUTLINE",
    450: "FUNCTION.WIZARD",
    451: "ADD.LIST.ITEM",
    452: "SET.LIST.ITEM",
    453: "REMOVE.LIST.ITEM",
    454: "SELECT.LIST.ITEM",
    455: "SET.CONTROL.VALUE",
    456: "SAVE.COPY.AS",
    458: "OPTIONS.LISTS.ADD",
    459: "OPTIONS.LISTS.DELETE",
    460: "SERIES.AXES",
    461: "SERIES.X",
    462: "SERIES.Y",
    463: "ERRORBAR.X",
    464: "ERRORBAR.Y",
    465: "FORMAT.CHART",
    466: "SERIES.ORDER",
    467: "MAIL.LOGOFF",
    468: "CLEAR.ROUTING.SLIP",
    469: "APP.ACTIVATE.MICROSOFT",
    470: "MAIL.EDIT.MAILER",
    471: "ON.SHEET",
    472: "STANDARD.WIDTH",
    473: "SCENARIO.MERGE",
    474: "SUMMARY.INFO",
    475: "FIND.FILE",
    476: "ACTIVE.CELL.FONT",
    477: "ENABLE.TIPWIZARD",
    478: "VBA.MAKE.ADDIN",
    480: "INSERTDATATABLE",
    481: "WORKGROUP.OPTIONS",
    482: "MAIL.SEND.MAILER",
    485: "AUTOCORRECT",
    489: "POST.DOCUMENT",
    491: "PICKLIST",
    493: "VIEW.SHOW",
    494: "VIEW.DEFINE",
    495: "VIEW.DELETE",
    509: "SHEET.BACKGROUND",
    510: "INSERT.MAP.OBJECT",
    511: "OPTIONS.MENONO",
    517: "MSOCHECKS",
    518: "NORMAL",
    519: "LAYOUT",
    520: "RM.PRINT.AREA",
    521: "CLEAR.PRINT.AREA",
    522: "ADD.PRINT.AREA",
    523: "MOVE.BRK",
    545: "HIDECURR.NOTE",
    546: "HIDEALL.NOTES",
    547: "DELETE.NOTE",
    548: "TRAVERSE.NOTES",
    549: "ACTIVATE.NOTES",
    620: "PROTECT.REVISIONS",
    621: "UNPROTECT.REVISIONS",
    647: "OPTIONS.ME",
    653: "WEB.PUBLISH",
    667: "NEWWEBQUERY",
    673: "PIVOT.TABLE.CHART",
    753: "OPTIONS.SAVE",
    755: "OPTIONS.SPELL",
    808: "HIDEALL.INKANNOTS"
}
  , BC = {
    0: "COUNT",
    1: "IF",
    2: "ISNA",
    3: "ISERROR",
    4: "SUM",
    5: "AVERAGE",
    6: "MIN",
    7: "MAX",
    8: "ROW",
    9: "COLUMN",
    10: "NA",
    11: "NPV",
    12: "STDEV",
    13: "DOLLAR",
    14: "FIXED",
    15: "SIN",
    16: "COS",
    17: "TAN",
    18: "ATAN",
    19: "PI",
    20: "SQRT",
    21: "EXP",
    22: "LN",
    23: "LOG10",
    24: "ABS",
    25: "INT",
    26: "SIGN",
    27: "ROUND",
    28: "LOOKUP",
    29: "INDEX",
    30: "REPT",
    31: "MID",
    32: "LEN",
    33: "VALUE",
    34: "TRUE",
    35: "FALSE",
    36: "AND",
    37: "OR",
    38: "NOT",
    39: "MOD",
    40: "DCOUNT",
    41: "DSUM",
    42: "DAVERAGE",
    43: "DMIN",
    44: "DMAX",
    45: "DSTDEV",
    46: "VAR",
    47: "DVAR",
    48: "TEXT",
    49: "LINEST",
    50: "TREND",
    51: "LOGEST",
    52: "GROWTH",
    53: "GOTO",
    54: "HALT",
    55: "RETURN",
    56: "PV",
    57: "FV",
    58: "NPER",
    59: "PMT",
    60: "RATE",
    61: "MIRR",
    62: "IRR",
    63: "RAND",
    64: "MATCH",
    65: "DATE",
    66: "TIME",
    67: "DAY",
    68: "MONTH",
    69: "YEAR",
    70: "WEEKDAY",
    71: "HOUR",
    72: "MINUTE",
    73: "SECOND",
    74: "NOW",
    75: "AREAS",
    76: "ROWS",
    77: "COLUMNS",
    78: "OFFSET",
    79: "ABSREF",
    80: "RELREF",
    81: "ARGUMENT",
    82: "SEARCH",
    83: "TRANSPOSE",
    84: "ERROR",
    85: "STEP",
    86: "TYPE",
    87: "ECHO",
    88: "SET.NAME",
    89: "CALLER",
    90: "DEREF",
    91: "WINDOWS",
    92: "SERIES",
    93: "DOCUMENTS",
    94: "ACTIVE.CELL",
    95: "SELECTION",
    96: "RESULT",
    97: "ATAN2",
    98: "ASIN",
    99: "ACOS",
    100: "CHOOSE",
    101: "HLOOKUP",
    102: "VLOOKUP",
    103: "LINKS",
    104: "INPUT",
    105: "ISREF",
    106: "GET.FORMULA",
    107: "GET.NAME",
    108: "SET.VALUE",
    109: "LOG",
    110: "EXEC",
    111: "CHAR",
    112: "LOWER",
    113: "UPPER",
    114: "PROPER",
    115: "LEFT",
    116: "RIGHT",
    117: "EXACT",
    118: "TRIM",
    119: "REPLACE",
    120: "SUBSTITUTE",
    121: "CODE",
    122: "NAMES",
    123: "DIRECTORY",
    124: "FIND",
    125: "CELL",
    126: "ISERR",
    127: "ISTEXT",
    128: "ISNUMBER",
    129: "ISBLANK",
    130: "T",
    131: "N",
    132: "FOPEN",
    133: "FCLOSE",
    134: "FSIZE",
    135: "FREADLN",
    136: "FREAD",
    137: "FWRITELN",
    138: "FWRITE",
    139: "FPOS",
    140: "DATEVALUE",
    141: "TIMEVALUE",
    142: "SLN",
    143: "SYD",
    144: "DDB",
    145: "GET.DEF",
    146: "REFTEXT",
    147: "TEXTREF",
    148: "INDIRECT",
    149: "REGISTER",
    150: "CALL",
    151: "ADD.BAR",
    152: "ADD.MENU",
    153: "ADD.COMMAND",
    154: "ENABLE.COMMAND",
    155: "CHECK.COMMAND",
    156: "RENAME.COMMAND",
    157: "SHOW.BAR",
    158: "DELETE.MENU",
    159: "DELETE.COMMAND",
    160: "GET.CHART.ITEM",
    161: "DIALOG.BOX",
    162: "CLEAN",
    163: "MDETERM",
    164: "MINVERSE",
    165: "MMULT",
    166: "FILES",
    167: "IPMT",
    168: "PPMT",
    169: "COUNTA",
    170: "CANCEL.KEY",
    171: "FOR",
    172: "WHILE",
    173: "BREAK",
    174: "NEXT",
    175: "INITIATE",
    176: "REQUEST",
    177: "POKE",
    178: "EXECUTE",
    179: "TERMINATE",
    180: "RESTART",
    181: "HELP",
    182: "GET.BAR",
    183: "PRODUCT",
    184: "FACT",
    185: "GET.CELL",
    186: "GET.WORKSPACE",
    187: "GET.WINDOW",
    188: "GET.DOCUMENT",
    189: "DPRODUCT",
    190: "ISNONTEXT",
    191: "GET.NOTE",
    192: "NOTE",
    193: "STDEVP",
    194: "VARP",
    195: "DSTDEVP",
    196: "DVARP",
    197: "TRUNC",
    198: "ISLOGICAL",
    199: "DCOUNTA",
    200: "DELETE.BAR",
    201: "UNREGISTER",
    204: "USDOLLAR",
    205: "FINDB",
    206: "SEARCHB",
    207: "REPLACEB",
    208: "LEFTB",
    209: "RIGHTB",
    210: "MIDB",
    211: "LENB",
    212: "ROUNDUP",
    213: "ROUNDDOWN",
    214: "ASC",
    215: "DBCS",
    216: "RANK",
    219: "ADDRESS",
    220: "DAYS360",
    221: "TODAY",
    222: "VDB",
    223: "ELSE",
    224: "ELSE.IF",
    225: "END.IF",
    226: "FOR.CELL",
    227: "MEDIAN",
    228: "SUMPRODUCT",
    229: "SINH",
    230: "COSH",
    231: "TANH",
    232: "ASINH",
    233: "ACOSH",
    234: "ATANH",
    235: "DGET",
    236: "CREATE.OBJECT",
    237: "VOLATILE",
    238: "LAST.ERROR",
    239: "CUSTOM.UNDO",
    240: "CUSTOM.REPEAT",
    241: "FORMULA.CONVERT",
    242: "GET.LINK.INFO",
    243: "TEXT.BOX",
    244: "INFO",
    245: "GROUP",
    246: "GET.OBJECT",
    247: "DB",
    248: "PAUSE",
    251: "RESUME",
    252: "FREQUENCY",
    253: "ADD.TOOLBAR",
    254: "DELETE.TOOLBAR",
    255: "User",
    256: "RESET.TOOLBAR",
    257: "EVALUATE",
    258: "GET.TOOLBAR",
    259: "GET.TOOL",
    260: "SPELLING.CHECK",
    261: "ERROR.TYPE",
    262: "APP.TITLE",
    263: "WINDOW.TITLE",
    264: "SAVE.TOOLBAR",
    265: "ENABLE.TOOL",
    266: "PRESS.TOOL",
    267: "REGISTER.ID",
    268: "GET.WORKBOOK",
    269: "AVEDEV",
    270: "BETADIST",
    271: "GAMMALN",
    272: "BETAINV",
    273: "BINOMDIST",
    274: "CHIDIST",
    275: "CHIINV",
    276: "COMBIN",
    277: "CONFIDENCE",
    278: "CRITBINOM",
    279: "EVEN",
    280: "EXPONDIST",
    281: "FDIST",
    282: "FINV",
    283: "FISHER",
    284: "FISHERINV",
    285: "FLOOR",
    286: "GAMMADIST",
    287: "GAMMAINV",
    288: "CEILING",
    289: "HYPGEOMDIST",
    290: "LOGNORMDIST",
    291: "LOGINV",
    292: "NEGBINOMDIST",
    293: "NORMDIST",
    294: "NORMSDIST",
    295: "NORMINV",
    296: "NORMSINV",
    297: "STANDARDIZE",
    298: "ODD",
    299: "PERMUT",
    300: "POISSON",
    301: "TDIST",
    302: "WEIBULL",
    303: "SUMXMY2",
    304: "SUMX2MY2",
    305: "SUMX2PY2",
    306: "CHITEST",
    307: "CORREL",
    308: "COVAR",
    309: "FORECAST",
    310: "FTEST",
    311: "INTERCEPT",
    312: "PEARSON",
    313: "RSQ",
    314: "STEYX",
    315: "SLOPE",
    316: "TTEST",
    317: "PROB",
    318: "DEVSQ",
    319: "GEOMEAN",
    320: "HARMEAN",
    321: "SUMSQ",
    322: "KURT",
    323: "SKEW",
    324: "ZTEST",
    325: "LARGE",
    326: "SMALL",
    327: "QUARTILE",
    328: "PERCENTILE",
    329: "PERCENTRANK",
    330: "MODE",
    331: "TRIMMEAN",
    332: "TINV",
    334: "MOVIE.COMMAND",
    335: "GET.MOVIE",
    336: "CONCATENATE",
    337: "POWER",
    338: "PIVOT.ADD.DATA",
    339: "GET.PIVOT.TABLE",
    340: "GET.PIVOT.FIELD",
    341: "GET.PIVOT.ITEM",
    342: "RADIANS",
    343: "DEGREES",
    344: "SUBTOTAL",
    345: "SUMIF",
    346: "COUNTIF",
    347: "COUNTBLANK",
    348: "SCENARIO.GET",
    349: "OPTIONS.LISTS.GET",
    350: "ISPMT",
    351: "DATEDIF",
    352: "DATESTRING",
    353: "NUMBERSTRING",
    354: "ROMAN",
    355: "OPEN.DIALOG",
    356: "SAVE.DIALOG",
    357: "VIEW.GET",
    358: "GETPIVOTDATA",
    359: "HYPERLINK",
    360: "PHONETIC",
    361: "AVERAGEA",
    362: "MAXA",
    363: "MINA",
    364: "STDEVPA",
    365: "VARPA",
    366: "STDEVA",
    367: "VARA",
    368: "BAHTTEXT",
    369: "THAIDAYOFWEEK",
    370: "THAIDIGIT",
    371: "THAIMONTHOFYEAR",
    372: "THAINUMSOUND",
    373: "THAINUMSTRING",
    374: "THAISTRINGLENGTH",
    375: "ISTHAIDIGIT",
    376: "ROUNDBAHTDOWN",
    377: "ROUNDBAHTUP",
    378: "THAIYEAR",
    379: "RTD",
    380: "CUBEVALUE",
    381: "CUBEMEMBER",
    382: "CUBEMEMBERPROPERTY",
    383: "CUBERANKEDMEMBER",
    384: "HEX2BIN",
    385: "HEX2DEC",
    386: "HEX2OCT",
    387: "DEC2BIN",
    388: "DEC2HEX",
    389: "DEC2OCT",
    390: "OCT2BIN",
    391: "OCT2HEX",
    392: "OCT2DEC",
    393: "BIN2DEC",
    394: "BIN2OCT",
    395: "BIN2HEX",
    396: "IMSUB",
    397: "IMDIV",
    398: "IMPOWER",
    399: "IMABS",
    400: "IMSQRT",
    401: "IMLN",
    402: "IMLOG2",
    403: "IMLOG10",
    404: "IMSIN",
    405: "IMCOS",
    406: "IMEXP",
    407: "IMARGUMENT",
    408: "IMCONJUGATE",
    409: "IMAGINARY",
    410: "IMREAL",
    411: "COMPLEX",
    412: "IMSUM",
    413: "IMPRODUCT",
    414: "SERIESSUM",
    415: "FACTDOUBLE",
    416: "SQRTPI",
    417: "QUOTIENT",
    418: "DELTA",
    419: "GESTEP",
    420: "ISEVEN",
    421: "ISODD",
    422: "MROUND",
    423: "ERF",
    424: "ERFC",
    425: "BESSELJ",
    426: "BESSELK",
    427: "BESSELY",
    428: "BESSELI",
    429: "XIRR",
    430: "XNPV",
    431: "PRICEMAT",
    432: "YIELDMAT",
    433: "INTRATE",
    434: "RECEIVED",
    435: "DISC",
    436: "PRICEDISC",
    437: "YIELDDISC",
    438: "TBILLEQ",
    439: "TBILLPRICE",
    440: "TBILLYIELD",
    441: "PRICE",
    442: "YIELD",
    443: "DOLLARDE",
    444: "DOLLARFR",
    445: "NOMINAL",
    446: "EFFECT",
    447: "CUMPRINC",
    448: "CUMIPMT",
    449: "EDATE",
    450: "EOMONTH",
    451: "YEARFRAC",
    452: "COUPDAYBS",
    453: "COUPDAYS",
    454: "COUPDAYSNC",
    455: "COUPNCD",
    456: "COUPNUM",
    457: "COUPPCD",
    458: "DURATION",
    459: "MDURATION",
    460: "ODDLPRICE",
    461: "ODDLYIELD",
    462: "ODDFPRICE",
    463: "ODDFYIELD",
    464: "RANDBETWEEN",
    465: "WEEKNUM",
    466: "AMORDEGRC",
    467: "AMORLINC",
    468: "CONVERT",
    724: "SHEETJS",
    469: "ACCRINT",
    470: "ACCRINTM",
    471: "WORKDAY",
    472: "NETWORKDAYS",
    473: "GCD",
    474: "MULTINOMIAL",
    475: "LCM",
    476: "FVSCHEDULE",
    477: "CUBEKPIMEMBER",
    478: "CUBESET",
    479: "CUBESETCOUNT",
    480: "IFERROR",
    481: "COUNTIFS",
    482: "SUMIFS",
    483: "AVERAGEIF",
    484: "AVERAGEIFS"
}
  , XG = {
    2: 1,
    3: 1,
    10: 0,
    15: 1,
    16: 1,
    17: 1,
    18: 1,
    19: 0,
    20: 1,
    21: 1,
    22: 1,
    23: 1,
    24: 1,
    25: 1,
    26: 1,
    27: 2,
    30: 2,
    31: 3,
    32: 1,
    33: 1,
    34: 0,
    35: 0,
    38: 1,
    39: 2,
    40: 3,
    41: 3,
    42: 3,
    43: 3,
    44: 3,
    45: 3,
    47: 3,
    48: 2,
    53: 1,
    61: 3,
    63: 0,
    65: 3,
    66: 3,
    67: 1,
    68: 1,
    69: 1,
    70: 1,
    71: 1,
    72: 1,
    73: 1,
    74: 0,
    75: 1,
    76: 1,
    77: 1,
    79: 2,
    80: 2,
    83: 1,
    85: 0,
    86: 1,
    89: 0,
    90: 1,
    94: 0,
    95: 0,
    97: 2,
    98: 1,
    99: 1,
    101: 3,
    102: 3,
    105: 1,
    106: 1,
    108: 2,
    111: 1,
    112: 1,
    113: 1,
    114: 1,
    117: 2,
    118: 1,
    119: 4,
    121: 1,
    126: 1,
    127: 1,
    128: 1,
    129: 1,
    130: 1,
    131: 1,
    133: 1,
    134: 1,
    135: 1,
    136: 2,
    137: 2,
    138: 2,
    140: 1,
    141: 1,
    142: 3,
    143: 4,
    144: 4,
    161: 1,
    162: 1,
    163: 1,
    164: 1,
    165: 2,
    172: 1,
    175: 2,
    176: 2,
    177: 3,
    178: 2,
    179: 1,
    184: 1,
    186: 1,
    189: 3,
    190: 1,
    195: 3,
    196: 3,
    197: 1,
    198: 1,
    199: 3,
    201: 1,
    207: 4,
    210: 3,
    211: 1,
    212: 2,
    213: 2,
    214: 1,
    215: 1,
    225: 0,
    229: 1,
    230: 1,
    231: 1,
    232: 1,
    233: 1,
    234: 1,
    235: 3,
    244: 1,
    247: 4,
    252: 2,
    257: 1,
    261: 1,
    271: 1,
    273: 4,
    274: 2,
    275: 2,
    276: 2,
    277: 3,
    278: 3,
    279: 1,
    280: 3,
    281: 3,
    282: 3,
    283: 1,
    284: 1,
    285: 2,
    286: 4,
    287: 3,
    288: 2,
    289: 4,
    290: 3,
    291: 3,
    292: 3,
    293: 4,
    294: 1,
    295: 3,
    296: 1,
    297: 3,
    298: 1,
    299: 2,
    300: 3,
    301: 3,
    302: 4,
    303: 2,
    304: 2,
    305: 2,
    306: 2,
    307: 2,
    308: 2,
    309: 3,
    310: 2,
    311: 2,
    312: 2,
    313: 2,
    314: 2,
    315: 2,
    316: 4,
    325: 2,
    326: 2,
    327: 2,
    328: 2,
    331: 2,
    332: 2,
    337: 2,
    342: 1,
    343: 1,
    346: 2,
    347: 1,
    350: 4,
    351: 3,
    352: 1,
    353: 2,
    360: 1,
    368: 1,
    369: 1,
    370: 1,
    371: 1,
    372: 1,
    373: 1,
    374: 1,
    375: 1,
    376: 1,
    377: 1,
    378: 1,
    382: 3,
    385: 1,
    392: 1,
    393: 1,
    396: 2,
    397: 2,
    398: 2,
    399: 1,
    400: 1,
    401: 1,
    402: 1,
    403: 1,
    404: 1,
    405: 1,
    406: 1,
    407: 1,
    408: 1,
    409: 1,
    410: 1,
    414: 4,
    415: 1,
    416: 1,
    417: 2,
    420: 1,
    421: 1,
    422: 2,
    424: 1,
    425: 2,
    426: 2,
    427: 2,
    428: 2,
    430: 3,
    438: 3,
    439: 3,
    440: 3,
    443: 2,
    444: 2,
    445: 2,
    446: 2,
    447: 6,
    448: 6,
    449: 2,
    450: 2,
    464: 2,
    468: 3,
    476: 2,
    479: 1,
    480: 2,
    65535: 0
};
function KG(e) {
    var t = "of:=" + e.replace(H7, "$1[.$2$3$4$5]").replace(/\]:\[/g, ":");
    return t.replace(/;/g, "|").replace(/,/g, ";")
}
function YG(e) {
    return e.replace(/\./, "!")
}
var y1 = typeof Map < "u";
function W7(e, t, n) {
    var i = 0
      , r = e.length;
    if (n) {
        if (y1 ? n.has(t) : Object.prototype.hasOwnProperty.call(n, t)) {
            for (var s = y1 ? n.get(t) : n[t]; i < s.length; ++i)
                if (e[s[i]].t === t)
                    return e.Count++,
                    s[i]
        }
    } else
        for (; i < r; ++i)
            if (e[i].t === t)
                return e.Count++,
                i;
    return e[r] = {
        t
    },
    e.Count++,
    e.Unique++,
    n && (y1 ? (n.has(t) || n.set(t, []),
    n.get(t).push(r)) : (Object.prototype.hasOwnProperty.call(n, t) || (n[t] = []),
    n[t].push(r))),
    r
}
function _2(e, t) {
    var n = {
        min: e + 1,
        max: e + 1
    }
      , i = -1;
    return t.MDW && (La = t.MDW),
    t.width != null ? n.customWidth = 1 : t.wpx != null ? i = o2(t.wpx) : t.wch != null && (i = t.wch),
    i > -1 ? (n.width = b7(i),
    n.customWidth = 1) : t.width != null && (n.width = t.width),
    t.hidden && (n.hidden = !0),
    t.level != null && (n.outlineLevel = n.level = t.level),
    n
}
function UC(e, t) {
    if (e) {
        var n = [.7, .7, .75, .75, .3, .3];
        t == "xlml" && (n = [1, 1, 1, 1, .5, .5]),
        e.left == null && (e.left = n[0]),
        e.right == null && (e.right = n[1]),
        e.top == null && (e.top = n[2]),
        e.bottom == null && (e.bottom = n[3]),
        e.header == null && (e.header = n[4]),
        e.footer == null && (e.footer = n[5])
    }
}
function jc(e, t, n) {
    var i = n.revssf[t.z != null ? t.z : "General"]
      , r = 60
      , s = e.length;
    if (i == null && n.ssf) {
        for (; r < 392; ++r)
            if (n.ssf[r] == null) {
                Uw(t.z, r),
                n.ssf[r] = t.z,
                n.revssf[t.z] = i = r;
                break
            }
    }
    for (r = 0; r != s; ++r)
        if (e[r].numFmtId === i)
            return r;
    return e[s] = {
        numFmtId: i,
        fontId: 0,
        fillId: 0,
        borderId: 0,
        xfId: 0,
        applyNumberFormat: 1
    },
    s
}
function QG(e, t, n) {
    if (e && e["!ref"]) {
        var i = bn(e["!ref"]);
        if (i.e.c < i.s.c || i.e.r < i.s.r)
            throw new Error("Bad range (" + n + "): " + e["!ref"])
    }
}
function JG(e) {
    if (e.length === 0)
        return "";
    for (var t = '<mergeCells count="' + e.length + '">', n = 0; n != e.length; ++n)
        t += '<mergeCell ref="' + si(e[n]) + '"/>';
    return t + "</mergeCells>"
}
function ZG(e, t, n, i, r) {
    var s = !1
      , o = {}
      , a = null;
    if (i.bookType !== "xlsx" && t.vbaraw) {
        var c = t.SheetNames[n];
        try {
            t.Workbook && (c = t.Workbook.Sheets[n].CodeName || c)
        } catch {}
        s = !0,
        o.codeName = Da(en(c))
    }
    if (e && e["!outline"]) {
        var l = {
            summaryBelow: 1,
            summaryRight: 1
        };
        e["!outline"].above && (l.summaryBelow = 0),
        e["!outline"].left && (l.summaryRight = 0),
        a = (a || "") + Pe("outlinePr", null, l)
    }
    !s && !a || (r[r.length] = Pe("sheetPr", a, o))
}
var eV = ["objects", "scenarios", "selectLockedCells", "selectUnlockedCells"]
  , tV = ["formatColumns", "formatRows", "formatCells", "insertColumns", "insertRows", "insertHyperlinks", "deleteColumns", "deleteRows", "sort", "autoFilter", "pivotTables"];
function nV(e) {
    var t = {
        sheet: 1
    };
    return eV.forEach(function(n) {
        e[n] != null && e[n] && (t[n] = "1")
    }),
    tV.forEach(function(n) {
        e[n] != null && !e[n] && (t[n] = "0")
    }),
    e.password && (t.password = xC(e.password).toString(16).toUpperCase()),
    Pe("sheetProtection", null, t)
}
function iV(e) {
    return UC(e),
    Pe("pageMargins", null, e)
}
function rV(e, t) {
    for (var n = ["<cols>"], i, r = 0; r != t.length; ++r)
        (i = t[r]) && (n[n.length] = Pe("col", null, _2(r, i)));
    return n[n.length] = "</cols>",
    n.join("")
}
function sV(e, t, n, i) {
    var r = typeof e.ref == "string" ? e.ref : si(e.ref);
    n.Workbook || (n.Workbook = {
        Sheets: []
    }),
    n.Workbook.Names || (n.Workbook.Names = []);
    var s = n.Workbook.Names
      , o = xs(r);
    o.s.r == o.e.r && (o.e.r = xs(t["!ref"]).e.r,
    r = si(o));
    for (var a = 0; a < s.length; ++a) {
        var c = s[a];
        if (c.Name == "_xlnm._FilterDatabase" && c.Sheet == i) {
            c.Ref = "'" + n.SheetNames[i] + "'!" + r;
            break
        }
    }
    return a == s.length && s.push({
        Name: "_xlnm._FilterDatabase",
        Sheet: i,
        Ref: "'" + n.SheetNames[i] + "'!" + r
    }),
    Pe("autoFilter", null, {
        ref: r
    })
}
function oV(e, t, n, i) {
    var r = {
        workbookViewId: "0"
    };
    return (((i || {}).Workbook || {}).Views || [])[0] && (r.rightToLeft = i.Workbook.Views[0].RTL ? "1" : "0"),
    Pe("sheetViews", Pe("sheetView", null, r), {})
}
function aV(e, t, n, i) {
    if (e.c && n["!comments"].push([t, e.c]),
    e.v === void 0 && typeof e.f != "string" || e.t === "z" && !e.f)
        return "";
    var r = ""
      , s = e.t
      , o = e.v;
    if (e.t !== "z")
        switch (e.t) {
        case "b":
            r = e.v ? "1" : "0";
            break;
        case "n":
            r = "" + e.v;
            break;
        case "e":
            r = M1[e.v];
            break;
        case "d":
            i && i.cellDates ? r = kr(e.v, -1).toISOString() : (e = Jr(e),
            e.t = "n",
            r = "" + (e.v = Qr(kr(e.v)))),
            typeof e.z > "u" && (e.z = Bn[14]);
            break;
        default:
            r = e.v;
            break
        }
    var a = ji("v", en(r))
      , c = {
        r: t
    }
      , l = jc(i.cellXfs, e, i);
    switch (l !== 0 && (c.s = l),
    e.t) {
    case "n":
        break;
    case "d":
        c.t = "d";
        break;
    case "b":
        c.t = "b";
        break;
    case "e":
        c.t = "e";
        break;
    case "z":
        break;
    default:
        if (e.v == null) {
            delete e.t;
            break
        }
        if (e.v.length > 32767)
            throw new Error("Text length must not exceed 32767 characters");
        if (i && i.bookSST) {
            a = ji("v", "" + W7(i.Strings, e.v, i.revStrings)),
            c.t = "s";
            break
        }
        c.t = "str";
        break
    }
    if (e.t != s && (e.t = s,
    e.v = o),
    typeof e.f == "string" && e.f) {
        var u = e.F && e.F.slice(0, t.length) == t ? {
            t: "array",
            ref: e.F
        } : null;
        a = Pe("f", en(e.f), u) + (e.v != null ? a : "")
    }
    return e.l && n["!links"].push([t, e.l]),
    e.D && (c.cm = 1),
    Pe("c", a, c)
}
function cV(e, t, n, i) {
    var r = [], s = [], o = bn(e["!ref"]), a = "", c, l = "", u = [], h = 0, d = 0, f = e["!rows"], g = Array.isArray(e), p = {
        r: l
    }, v, b = -1;
    for (d = o.s.c; d <= o.e.c; ++d)
        u[d] = lr(d);
    for (h = o.s.r; h <= o.e.r; ++h) {
        for (s = [],
        l = qi(h),
        d = o.s.c; d <= o.e.c; ++d) {
            c = u[d] + l;
            var S = g ? (e[h] || [])[d] : e[c];
            S !== void 0 && (a = aV(S, c, e, t, n, i)) != null && s.push(a)
        }
        (s.length > 0 || f && f[h]) && (p = {
            r: l
        },
        f && f[h] && (v = f[h],
        v.hidden && (p.hidden = 1),
        b = -1,
        v.hpx ? b = a2(v.hpx) : v.hpt && (b = v.hpt),
        b > -1 && (p.ht = b,
        p.customHeight = 1),
        v.level && (p.outlineLevel = v.level)),
        r[r.length] = Pe("row", s.join(""), p))
    }
    if (f)
        for (; h < f.length; ++h)
            f && f[h] && (p = {
                r: h + 1
            },
            v = f[h],
            v.hidden && (p.hidden = 1),
            b = -1,
            v.hpx ? b = a2(v.hpx) : v.hpt && (b = v.hpt),
            b > -1 && (p.ht = b,
            p.customHeight = 1),
            v.level && (p.outlineLevel = v.level),
            r[r.length] = Pe("row", "", p));
    return r.join("")
}
function HC(e, t, n, i) {
    var r = [oi, Pe("worksheet", null, {
        xmlns: Ku[0],
        "xmlns:r": Ai.r
    })]
      , s = n.SheetNames[e]
      , o = 0
      , a = ""
      , c = n.Sheets[s];
    c == null && (c = {});
    var l = c["!ref"] || "A1"
      , u = bn(l);
    if (u.e.c > 16383 || u.e.r > 1048575) {
        if (t.WTF)
            throw new Error("Range " + l + " exceeds format limit A1:XFD1048576");
        u.e.c = Math.min(u.e.c, 16383),
        u.e.r = Math.min(u.e.c, 1048575),
        l = si(u)
    }
    i || (i = {}),
    c["!comments"] = [];
    var h = [];
    ZG(c, n, e, t, r),
    r[r.length] = Pe("dimension", null, {
        ref: l
    }),
    r[r.length] = oV(c, t, e, n),
    t.sheetFormat && (r[r.length] = Pe("sheetFormatPr", null, {
        defaultRowHeight: t.sheetFormat.defaultRowHeight || "16",
        baseColWidth: t.sheetFormat.baseColWidth || "10",
        outlineLevelRow: t.sheetFormat.outlineLevelRow || "7"
    })),
    c["!cols"] != null && c["!cols"].length > 0 && (r[r.length] = rV(c, c["!cols"])),
    r[o = r.length] = "<sheetData/>",
    c["!links"] = [],
    c["!ref"] != null && (a = cV(c, t, e, n, i),
    a.length > 0 && (r[r.length] = a)),
    r.length > o + 1 && (r[r.length] = "</sheetData>",
    r[o] = r[o].replace("/>", ">")),
    c["!protect"] && (r[r.length] = nV(c["!protect"])),
    c["!autofilter"] != null && (r[r.length] = sV(c["!autofilter"], c, n, e)),
    c["!merges"] != null && c["!merges"].length > 0 && (r[r.length] = JG(c["!merges"]));
    var d = -1, f, g = -1;
    return c["!links"].length > 0 && (r[r.length] = "<hyperlinks>",
    c["!links"].forEach(function(p) {
        p[1].Target && (f = {
            ref: p[0]
        },
        p[1].Target.charAt(0) != "#" && (g = Zt(i, -1, en(p[1].Target).replace(/#.*$/, ""), qt.HLINK),
        f["r:id"] = "rId" + g),
        (d = p[1].Target.indexOf("#")) > -1 && (f.location = en(p[1].Target.slice(d + 1))),
        p[1].Tooltip && (f.tooltip = en(p[1].Tooltip)),
        r[r.length] = Pe("hyperlink", null, f))
    }),
    r[r.length] = "</hyperlinks>"),
    delete c["!links"],
    c["!margins"] != null && (r[r.length] = iV(c["!margins"])),
    (!t || t.ignoreEC || t.ignoreEC == null) && (r[r.length] = ji("ignoredErrors", Pe("ignoredError", null, {
        numberStoredAsText: 1,
        sqref: l
    }))),
    h.length > 0 && (g = Zt(i, -1, "../drawings/drawing" + (e + 1) + ".xml", qt.DRAW),
    r[r.length] = Pe("drawing", null, {
        "r:id": "rId" + g
    }),
    c["!drawing"] = h),
    c["!comments"].length > 0 && (g = Zt(i, -1, "../drawings/vmlDrawing" + (e + 1) + ".vml", qt.VML),
    r[r.length] = Pe("legacyDrawing", null, {
        "r:id": "rId" + g
    }),
    c["!legacy"] = g),
    r.length > 1 && (r[r.length] = "</worksheet>",
    r[1] = r[1].replace("/>", ">")),
    r.join("")
}
function lV(e, t) {
    var n = {}
      , i = e.l + t;
    n.r = e.read_shift(4),
    e.l += 4;
    var r = e.read_shift(2);
    e.l += 1;
    var s = e.read_shift(1);
    return e.l = i,
    s & 7 && (n.level = s & 7),
    s & 16 && (n.hidden = !0),
    s & 32 && (n.hpt = r / 20),
    n
}
function uV(e, t, n) {
    var i = ce(145)
      , r = (n["!rows"] || [])[e] || {};
    i.write_shift(4, e),
    i.write_shift(4, 0);
    var s = 320;
    r.hpx ? s = a2(r.hpx) * 20 : r.hpt && (s = r.hpt * 20),
    i.write_shift(2, s),
    i.write_shift(1, 0);
    var o = 0;
    r.level && (o |= r.level),
    r.hidden && (o |= 16),
    (r.hpx || r.hpt) && (o |= 32),
    i.write_shift(1, o),
    i.write_shift(1, 0);
    var a = 0
      , c = i.l;
    i.l += 4;
    for (var l = {
        r: e,
        c: 0
    }, u = 0; u < 16; ++u)
        if (!(t.s.c > u + 1 << 10 || t.e.c < u << 10)) {
            for (var h = -1, d = -1, f = u << 10; f < u + 1 << 10; ++f) {
                l.c = f;
                var g = Array.isArray(n) ? (n[l.r] || [])[l.c] : n[tn(l)];
                g && (h < 0 && (h = f),
                d = f)
            }
            h < 0 || (++a,
            i.write_shift(4, h),
            i.write_shift(4, d))
        }
    var p = i.l;
    return i.l = c,
    i.write_shift(4, a),
    i.l = p,
    i.length > i.l ? i.slice(0, i.l) : i
}
function hV(e, t, n, i) {
    var r = uV(i, n, t);
    (r.length > 17 || (t["!rows"] || [])[i]) && pe(e, 0, r)
}
var dV = l0
  , fV = Ju;
function pV() {}
function gV(e, t) {
    var n = {}
      , i = e[e.l];
    return ++e.l,
    n.above = !(i & 64),
    n.left = !(i & 128),
    e.l += 18,
    n.name = EB(e, t - 19),
    n
}
function mV(e, t, n) {
    n == null && (n = ce(84 + 4 * e.length));
    var i = 192;
    t && (t.above && (i &= -65),
    t.left && (i &= -129)),
    n.write_shift(1, i);
    for (var r = 1; r < 3; ++r)
        n.write_shift(1, 0);
    return i2({
        auto: 1
    }, n),
    n.write_shift(-4, -1),
    n.write_shift(-4, -1),
    tC(e, n),
    n.slice(0, n.l)
}
function vV(e) {
    var t = Bs(e);
    return [t]
}
function _V(e, t, n) {
    return n == null && (n = ce(8)),
    o0(t, n)
}
function yV(e) {
    var t = a0(e);
    return [t]
}
function bV(e, t, n) {
    return n == null && (n = ce(4)),
    c0(t, n)
}
function SV(e) {
    var t = Bs(e)
      , n = e.read_shift(1);
    return [t, n, "b"]
}
function xV(e, t, n) {
    return n == null && (n = ce(9)),
    o0(t, n),
    n.write_shift(1, e.v ? 1 : 0),
    n
}
function wV(e) {
    var t = a0(e)
      , n = e.read_shift(1);
    return [t, n, "b"]
}
function CV(e, t, n) {
    return n == null && (n = ce(5)),
    c0(t, n),
    n.write_shift(1, e.v ? 1 : 0),
    n
}
function EV(e) {
    var t = Bs(e)
      , n = e.read_shift(1);
    return [t, n, "e"]
}
function TV(e, t, n) {
    return n == null && (n = ce(9)),
    o0(t, n),
    n.write_shift(1, e.v),
    n
}
function OV(e) {
    var t = a0(e)
      , n = e.read_shift(1);
    return [t, n, "e"]
}
function PV(e, t, n) {
    return n == null && (n = ce(8)),
    c0(t, n),
    n.write_shift(1, e.v),
    n.write_shift(2, 0),
    n.write_shift(1, 0),
    n
}
function MV(e) {
    var t = Bs(e)
      , n = e.read_shift(4);
    return [t, n, "s"]
}
function kV(e, t, n) {
    return n == null && (n = ce(12)),
    o0(t, n),
    n.write_shift(4, t.v),
    n
}
function AV(e) {
    var t = a0(e)
      , n = e.read_shift(4);
    return [t, n, "s"]
}
function IV(e, t, n) {
    return n == null && (n = ce(8)),
    c0(t, n),
    n.write_shift(4, t.v),
    n
}
function RV(e) {
    var t = Bs(e)
      , n = Zu(e);
    return [t, n, "n"]
}
function DV(e, t, n) {
    return n == null && (n = ce(16)),
    o0(t, n),
    i0(e.v, n),
    n
}
function NV(e) {
    var t = a0(e)
      , n = Zu(e);
    return [t, n, "n"]
}
function FV(e, t, n) {
    return n == null && (n = ce(12)),
    c0(t, n),
    i0(e.v, n),
    n
}
function LV(e) {
    var t = Bs(e)
      , n = nC(e);
    return [t, n, "n"]
}
function BV(e, t, n) {
    return n == null && (n = ce(12)),
    o0(t, n),
    iC(e.v, n),
    n
}
function UV(e) {
    var t = a0(e)
      , n = nC(e);
    return [t, n, "n"]
}
function HV(e, t, n) {
    return n == null && (n = ce(8)),
    c0(t, n),
    iC(e.v, n),
    n
}
function GV(e) {
    var t = Bs(e)
      , n = N7(e);
    return [t, n, "is"]
}
function VV(e) {
    var t = Bs(e)
      , n = ur(e);
    return [t, n, "str"]
}
function WV(e, t, n) {
    return n == null && (n = ce(12 + 4 * e.v.length)),
    o0(t, n),
    Ri(e.v, n),
    n.length > n.l ? n.slice(0, n.l) : n
}
function $V(e) {
    var t = a0(e)
      , n = ur(e);
    return [t, n, "str"]
}
function jV(e, t, n) {
    return n == null && (n = ce(8 + 4 * e.v.length)),
    c0(t, n),
    Ri(e.v, n),
    n.length > n.l ? n.slice(0, n.l) : n
}
function qV(e, t, n) {
    var i = e.l + t
      , r = Bs(e);
    r.r = n["!row"];
    var s = e.read_shift(1)
      , o = [r, s, "b"];
    if (n.cellFormula) {
        e.l += 2;
        var a = v2(e, i - e.l, n);
        o[3] = Xu(a, null, r, n.supbooks, n)
    } else
        e.l = i;
    return o
}
function zV(e, t, n) {
    var i = e.l + t
      , r = Bs(e);
    r.r = n["!row"];
    var s = e.read_shift(1)
      , o = [r, s, "e"];
    if (n.cellFormula) {
        e.l += 2;
        var a = v2(e, i - e.l, n);
        o[3] = Xu(a, null, r, n.supbooks, n)
    } else
        e.l = i;
    return o
}
function XV(e, t, n) {
    var i = e.l + t
      , r = Bs(e);
    r.r = n["!row"];
    var s = Zu(e)
      , o = [r, s, "n"];
    if (n.cellFormula) {
        e.l += 2;
        var a = v2(e, i - e.l, n);
        o[3] = Xu(a, null, r, n.supbooks, n)
    } else
        e.l = i;
    return o
}
function KV(e, t, n) {
    var i = e.l + t
      , r = Bs(e);
    r.r = n["!row"];
    var s = ur(e)
      , o = [r, s, "str"];
    if (n.cellFormula) {
        e.l += 2;
        var a = v2(e, i - e.l, n);
        o[3] = Xu(a, null, r, n.supbooks, n)
    } else
        e.l = i;
    return o
}
var YV = l0
  , QV = Ju;
function JV(e, t) {
    return t == null && (t = ce(4)),
    t.write_shift(4, e),
    t
}
function ZV(e, t) {
    var n = e.l + t
      , i = l0(e, 16)
      , r = F7(e)
      , s = ur(e)
      , o = ur(e)
      , a = ur(e);
    e.l = n;
    var c = {
        rfx: i,
        relId: r,
        loc: s,
        display: a
    };
    return o && (c.Tooltip = o),
    c
}
function eW(e, t) {
    var n = ce(50 + 4 * (e[1].Target.length + (e[1].Tooltip || "").length));
    Ju({
        s: Ii(e[0]),
        e: Ii(e[0])
    }, n),
    L7("rId" + t, n);
    var i = e[1].Target.indexOf("#")
      , r = i == -1 ? "" : e[1].Target.slice(i + 1);
    return Ri(r || "", n),
    Ri(e[1].Tooltip || "", n),
    Ri("", n),
    n.slice(0, n.l)
}
function tW() {}
function nW(e, t, n) {
    var i = e.l + t
      , r = rC(e, 16)
      , s = e.read_shift(1)
      , o = [r];
    if (o[2] = s,
    n.cellFormula) {
        var a = $G(e, i - e.l, n);
        o[1] = a
    } else
        e.l = i;
    return o
}
function iW(e, t, n) {
    var i = e.l + t
      , r = l0(e, 16)
      , s = [r];
    if (n.cellFormula) {
        var o = qG(e, i - e.l, n);
        s[1] = o,
        e.l = i
    } else
        e.l = i;
    return s
}
function rW(e, t, n) {
    n == null && (n = ce(18));
    var i = _2(e, t);
    n.write_shift(-4, e),
    n.write_shift(-4, e),
    n.write_shift(4, (i.width || 10) * 256),
    n.write_shift(4, 0);
    var r = 0;
    return t.hidden && (r |= 1),
    typeof i.width == "number" && (r |= 2),
    t.level && (r |= t.level << 8),
    n.write_shift(2, r),
    n
}
var GC = ["left", "right", "top", "bottom", "header", "footer"];
function sW(e) {
    var t = {};
    return GC.forEach(function(n) {
        t[n] = Zu(e, 8)
    }),
    t
}
function oW(e, t) {
    return t == null && (t = ce(6 * 8)),
    UC(e),
    GC.forEach(function(n) {
        i0(e[n], t)
    }),
    t
}
function aW(e) {
    var t = e.read_shift(2);
    return e.l += 28,
    {
        RTL: t & 32
    }
}
function cW(e, t, n) {
    n == null && (n = ce(30));
    var i = 924;
    return (((t || {}).Views || [])[0] || {}).RTL && (i |= 32),
    n.write_shift(2, i),
    n.write_shift(4, 0),
    n.write_shift(4, 0),
    n.write_shift(4, 0),
    n.write_shift(1, 0),
    n.write_shift(1, 0),
    n.write_shift(2, 0),
    n.write_shift(2, 100),
    n.write_shift(2, 0),
    n.write_shift(2, 0),
    n.write_shift(2, 0),
    n.write_shift(4, 0),
    n
}
function lW(e) {
    var t = ce(24);
    return t.write_shift(4, 4),
    t.write_shift(4, 1),
    Ju(e, t),
    t
}
function uW(e, t) {
    return t == null && (t = ce(16 * 4 + 2)),
    t.write_shift(2, e.password ? xC(e.password) : 0),
    t.write_shift(4, 1),
    [["objects", !1], ["scenarios", !1], ["formatCells", !0], ["formatColumns", !0], ["formatRows", !0], ["insertColumns", !0], ["insertRows", !0], ["insertHyperlinks", !0], ["deleteColumns", !0], ["deleteRows", !0], ["selectLockedCells", !1], ["sort", !0], ["autoFilter", !0], ["pivotTables", !0], ["selectUnlockedCells", !1]].forEach(function(n) {
        n[1] ? t.write_shift(4, e[n[0]] != null && !e[n[0]] ? 1 : 0) : t.write_shift(4, e[n[0]] != null && e[n[0]] ? 0 : 1)
    }),
    t
}
function hW() {}
function dW() {}
function fW(e, t, n, i, r, s, o) {
    if (t.v === void 0)
        return !1;
    var a = "";
    switch (t.t) {
    case "b":
        a = t.v ? "1" : "0";
        break;
    case "d":
        t = Jr(t),
        t.z = t.z || Bn[14],
        t.v = Qr(kr(t.v)),
        t.t = "n";
        break;
    case "n":
    case "e":
        a = "" + t.v;
        break;
    default:
        a = t.v;
        break
    }
    var c = {
        r: n,
        c: i
    };
    switch (c.s = jc(r.cellXfs, t, r),
    t.l && s["!links"].push([tn(c), t.l]),
    t.c && s["!comments"].push([tn(c), t.c]),
    t.t) {
    case "s":
    case "str":
        return r.bookSST ? (a = W7(r.Strings, t.v, r.revStrings),
        c.t = "s",
        c.v = a,
        o ? pe(e, 18, IV(t, c)) : pe(e, 7, kV(t, c))) : (c.t = "str",
        o ? pe(e, 17, jV(t, c)) : pe(e, 6, WV(t, c))),
        !0;
    case "n":
        return t.v == (t.v | 0) && t.v > -1e3 && t.v < 1e3 ? o ? pe(e, 13, HV(t, c)) : pe(e, 2, BV(t, c)) : o ? pe(e, 16, FV(t, c)) : pe(e, 5, DV(t, c)),
        !0;
    case "b":
        return c.t = "b",
        o ? pe(e, 15, CV(t, c)) : pe(e, 4, xV(t, c)),
        !0;
    case "e":
        return c.t = "e",
        o ? pe(e, 14, PV(t, c)) : pe(e, 3, TV(t, c)),
        !0
    }
    return o ? pe(e, 12, bV(t, c)) : pe(e, 1, _V(t, c)),
    !0
}
function pW(e, t, n, i) {
    var r = bn(t["!ref"] || "A1"), s, o = "", a = [];
    pe(e, 145);
    var c = Array.isArray(t)
      , l = r.e.r;
    t["!rows"] && (l = Math.max(r.e.r, t["!rows"].length - 1));
    for (var u = r.s.r; u <= l; ++u) {
        o = qi(u),
        hV(e, t, r, u);
        var h = !1;
        if (u <= r.e.r)
            for (var d = r.s.c; d <= r.e.c; ++d) {
                u === r.s.r && (a[d] = lr(d)),
                s = a[d] + o;
                var f = c ? (t[u] || [])[d] : t[s];
                if (!f) {
                    h = !1;
                    continue
                }
                h = fW(e, f, u, d, i, t, h)
            }
    }
    pe(e, 146)
}
function gW(e, t) {
    !t || !t["!merges"] || (pe(e, 177, JV(t["!merges"].length)),
    t["!merges"].forEach(function(n) {
        pe(e, 176, QV(n))
    }),
    pe(e, 178))
}
function mW(e, t) {
    !t || !t["!cols"] || (pe(e, 390),
    t["!cols"].forEach(function(n, i) {
        n && pe(e, 60, rW(i, n))
    }),
    pe(e, 391))
}
function vW(e, t) {
    !t || !t["!ref"] || (pe(e, 648),
    pe(e, 649, lW(bn(t["!ref"]))),
    pe(e, 650))
}
function _W(e, t, n) {
    t["!links"].forEach(function(i) {
        if (i[1].Target) {
            var r = Zt(n, -1, i[1].Target.replace(/#.*$/, ""), qt.HLINK);
            pe(e, 494, eW(i, r))
        }
    }),
    delete t["!links"]
}
function yW(e, t, n, i) {
    if (t["!comments"].length > 0) {
        var r = Zt(i, -1, "../drawings/vmlDrawing" + (n + 1) + ".vml", qt.VML);
        pe(e, 551, L7("rId" + r)),
        t["!legacy"] = r
    }
}
function bW(e, t, n, i) {
    if (t["!autofilter"]) {
        var r = t["!autofilter"]
          , s = typeof r.ref == "string" ? r.ref : si(r.ref);
        n.Workbook || (n.Workbook = {
            Sheets: []
        }),
        n.Workbook.Names || (n.Workbook.Names = []);
        var o = n.Workbook.Names
          , a = xs(s);
        a.s.r == a.e.r && (a.e.r = xs(t["!ref"]).e.r,
        s = si(a));
        for (var c = 0; c < o.length; ++c) {
            var l = o[c];
            if (l.Name == "_xlnm._FilterDatabase" && l.Sheet == i) {
                l.Ref = "'" + n.SheetNames[i] + "'!" + s;
                break
            }
        }
        c == o.length && o.push({
            Name: "_xlnm._FilterDatabase",
            Sheet: i,
            Ref: "'" + n.SheetNames[i] + "'!" + s
        }),
        pe(e, 161, Ju(bn(s))),
        pe(e, 162)
    }
}
function SW(e, t, n) {
    pe(e, 133),
    pe(e, 137, cW(t, n)),
    pe(e, 138),
    pe(e, 134)
}
function xW(e, t) {
    t["!protect"] && pe(e, 535, uW(t["!protect"]))
}
function wW(e, t, n, i) {
    var r = Yr()
      , s = n.SheetNames[e]
      , o = n.Sheets[s] || {}
      , a = s;
    try {
        n && n.Workbook && (a = n.Workbook.Sheets[e].CodeName || a)
    } catch {}
    var c = bn(o["!ref"] || "A1");
    if (c.e.c > 16383 || c.e.r > 1048575) {
        if (t.WTF)
            throw new Error("Range " + (o["!ref"] || "A1") + " exceeds format limit A1:XFD1048576");
        c.e.c = Math.min(c.e.c, 16383),
        c.e.r = Math.min(c.e.c, 1048575)
    }
    return o["!links"] = [],
    o["!comments"] = [],
    pe(r, 129),
    (n.vbaraw || o["!outline"]) && pe(r, 147, mV(a, o["!outline"])),
    pe(r, 148, fV(c)),
    SW(r, o, n.Workbook),
    mW(r, o, e, t, n),
    pW(r, o, e, t, n),
    xW(r, o),
    bW(r, o, n, e),
    gW(r, o),
    _W(r, o, i),
    o["!margins"] && pe(r, 476, oW(o["!margins"])),
    (!t || t.ignoreEC || t.ignoreEC == null) && vW(r, o),
    yW(r, o, e, i),
    pe(r, 130),
    r.end()
}
function CW(e, t) {
    e.l += 10;
    var n = ur(e, t - 10);
    return {
        name: n
    }
}
var EW = [["allowRefreshQuery", !1, "bool"], ["autoCompressPictures", !0, "bool"], ["backupFile", !1, "bool"], ["checkCompatibility", !1, "bool"], ["CodeName", ""], ["date1904", !1, "bool"], ["defaultThemeVersion", 0, "int"], ["filterPrivacy", !1, "bool"], ["hidePivotFieldList", !1, "bool"], ["promptedSolutions", !1, "bool"], ["publishItems", !1, "bool"], ["refreshAllConnections", !1, "bool"], ["saveExternalLinkValues", !0, "bool"], ["showBorderUnselectedTables", !0, "bool"], ["showInkAnnotation", !0, "bool"], ["showObjects", "all"], ["showPivotChartFilter", !1, "bool"], ["updateLinks", "userSet"]];
function TW(e) {
    return !e.Workbook || !e.Workbook.WBProps ? "false" : nB(e.Workbook.WBProps.date1904) ? "true" : "false"
}
var OW = "][*?/\\".split("");
function VC(e, t) {
    if (e.length > 31) {
        if (t)
            return !1;
        throw new Error("Sheet names cannot exceed 31 chars")
    }
    var n = !0;
    return OW.forEach(function(i) {
        if (e.indexOf(i) != -1) {
            if (!t)
                throw new Error("Sheet name cannot contain : \\ / ? * [ ]");
            n = !1
        }
    }),
    n
}
function PW(e, t, n) {
    e.forEach(function(i, r) {
        VC(i);
        for (var s = 0; s < r; ++s)
            if (i == e[s])
                throw new Error("Duplicate Sheet Name: " + i);
        if (n) {
            var o = t && t[r] && t[r].CodeName || i;
            if (o.charCodeAt(0) == 95 && o.length > 22)
                throw new Error("Bad Code Name: Worksheet" + o)
        }
    })
}
function MW(e) {
    if (!e || !e.SheetNames || !e.Sheets)
        throw new Error("Invalid Workbook");
    if (!e.SheetNames.length)
        throw new Error("Workbook is empty");
    var t = e.Workbook && e.Workbook.Sheets || [];
    PW(e.SheetNames, t, !!e.vbaraw);
    for (var n = 0; n < e.SheetNames.length; ++n)
        QG(e.Sheets[e.SheetNames[n]], e.SheetNames[n], n)
}
function WC(e) {
    var t = [oi];
    t[t.length] = Pe("workbook", null, {
        xmlns: Ku[0],
        "xmlns:r": Ai.r
    });
    var n = e.Workbook && (e.Workbook.Names || []).length > 0
      , i = {
        codeName: "ThisWorkbook"
    };
    e.Workbook && e.Workbook.WBProps && (EW.forEach(function(a) {
        e.Workbook.WBProps[a[0]] != null && e.Workbook.WBProps[a[0]] != a[1] && (i[a[0]] = e.Workbook.WBProps[a[0]])
    }),
    e.Workbook.WBProps.CodeName && (i.codeName = e.Workbook.WBProps.CodeName,
    delete i.CodeName)),
    t[t.length] = Pe("workbookPr", null, i);
    var r = e.Workbook && e.Workbook.Sheets || []
      , s = 0;
    if (r && r[0] && r[0].Hidden) {
        for (t[t.length] = "<bookViews>",
        s = 0; s != e.SheetNames.length && !(!r[s] || !r[s].Hidden); ++s)
            ;
        s == e.SheetNames.length && (s = 0),
        t[t.length] = '<workbookView firstSheet="' + s + '" activeTab="' + s + '"/>',
        t[t.length] = "</bookViews>"
    }
    for (t[t.length] = "<sheets>",
    s = 0; s != e.SheetNames.length; ++s) {
        var o = {
            name: en(e.SheetNames[s].slice(0, 31))
        };
        if (o.sheetId = "" + (s + 1),
        o["r:id"] = "rId" + (s + 1),
        r[s])
            switch (r[s].Hidden) {
            case 1:
                o.state = "hidden";
                break;
            case 2:
                o.state = "veryHidden";
                break
            }
        t[t.length] = Pe("sheet", null, o)
    }
    return t[t.length] = "</sheets>",
    n && (t[t.length] = "<definedNames>",
    e.Workbook && e.Workbook.Names && e.Workbook.Names.forEach(function(a) {
        var c = {
            name: a.Name
        };
        a.Comment && (c.comment = a.Comment),
        a.Sheet != null && (c.localSheetId = "" + a.Sheet),
        a.Hidden && (c.hidden = "1"),
        a.Ref && (t[t.length] = Pe("definedName", en(a.Ref), c))
    }),
    t[t.length] = "</definedNames>"),
    t.length > 2 && (t[t.length] = "</workbook>",
    t[1] = t[1].replace("/>", ">")),
    t.join("")
}
function kW(e, t) {
    var n = {};
    return n.Hidden = e.read_shift(4),
    n.iTabID = e.read_shift(4),
    n.strRelID = y7(e, t - 8),
    n.name = ur(e),
    n
}
function AW(e, t) {
    return t || (t = ce(127)),
    t.write_shift(4, e.Hidden),
    t.write_shift(4, e.iTabID),
    L7(e.strRelID, t),
    Ri(e.name.slice(0, 31), t),
    t.length > t.l ? t.slice(0, t.l) : t
}
function IW(e, t) {
    var n = {}
      , i = e.read_shift(4);
    n.defaultThemeVersion = e.read_shift(4);
    var r = t > 8 ? ur(e) : "";
    return r.length > 0 && (n.CodeName = r),
    n.autoCompressPictures = !!(i & 65536),
    n.backupFile = !!(i & 64),
    n.checkCompatibility = !!(i & 4096),
    n.date1904 = !!(i & 1),
    n.filterPrivacy = !!(i & 8),
    n.hidePivotFieldList = !!(i & 1024),
    n.promptedSolutions = !!(i & 16),
    n.publishItems = !!(i & 2048),
    n.refreshAllConnections = !!(i & 262144),
    n.saveExternalLinkValues = !!(i & 128),
    n.showBorderUnselectedTables = !!(i & 4),
    n.showInkAnnotation = !!(i & 32),
    n.showObjects = ["all", "placeholders", "none"][i >> 13 & 3],
    n.showPivotChartFilter = !!(i & 32768),
    n.updateLinks = ["userSet", "never", "always"][i >> 8 & 3],
    n
}
function RW(e, t) {
    t || (t = ce(72));
    var n = 0;
    return e && e.filterPrivacy && (n |= 8),
    t.write_shift(4, n),
    t.write_shift(4, 0),
    tC(e && e.CodeName || "ThisWorkbook", t),
    t.slice(0, t.l)
}
function DW(e, t, n) {
    var i = e.l + t;
    e.l += 4,
    e.l += 1;
    var r = e.read_shift(4)
      , s = TB(e)
      , o = jG(e, 0, n)
      , a = F7(e);
    e.l = i;
    var c = {
        Name: s,
        Ptg: o
    };
    return r < 268435455 && (c.Sheet = r),
    a && (c.Comment = a),
    c
}
function NW(e, t) {
    pe(e, 143);
    for (var n = 0; n != t.SheetNames.length; ++n) {
        var i = t.Workbook && t.Workbook.Sheets && t.Workbook.Sheets[n] && t.Workbook.Sheets[n].Hidden || 0
          , r = {
            Hidden: i,
            iTabID: n + 1,
            strRelID: "rId" + (n + 1),
            name: t.SheetNames[n]
        };
        pe(e, 156, AW(r))
    }
    pe(e, 144)
}
function FW(e, t) {
    t || (t = ce(127));
    for (var n = 0; n != 4; ++n)
        t.write_shift(4, 0);
    return Ri("SheetJS", t),
    Ri(b1.version, t),
    Ri(b1.version, t),
    Ri("7262", t),
    t.length > t.l ? t.slice(0, t.l) : t
}
function LW(e, t) {
    t || (t = ce(29)),
    t.write_shift(-4, 0),
    t.write_shift(-4, 460),
    t.write_shift(4, 28800),
    t.write_shift(4, 17600),
    t.write_shift(4, 500),
    t.write_shift(4, e),
    t.write_shift(4, e);
    var n = 120;
    return t.write_shift(1, n),
    t.length > t.l ? t.slice(0, t.l) : t
}
function BW(e, t) {
    if (!(!t.Workbook || !t.Workbook.Sheets)) {
        for (var n = t.Workbook.Sheets, i = 0, r = -1, s = -1; i < n.length; ++i)
            !n[i] || !n[i].Hidden && r == -1 ? r = i : n[i].Hidden == 1 && s == -1 && (s = i);
        s > r || (pe(e, 135),
        pe(e, 158, LW(r)),
        pe(e, 136))
    }
}
function UW(e, t) {
    var n = Yr();
    return pe(n, 131),
    pe(n, 128, FW()),
    pe(n, 153, RW(e.Workbook && e.Workbook.WBProps || null)),
    BW(n, e, t),
    NW(n, e, t),
    pe(n, 132),
    n.end()
}
function HW(e, t, n) {
    return (t.slice(-4) === ".bin" ? UW : WC)(e, n)
}
function GW(e, t, n, i, r) {
    return (t.slice(-4) === ".bin" ? wW : HC)(e, n, i, r)
}
function VW(e, t, n) {
    return (t.slice(-4) === ".bin" ? oH : EC)(e, n)
}
function WW(e, t, n) {
    return (t.slice(-4) === ".bin" ? RU : SC)(e, n)
}
function $W(e, t, n) {
    return (t.slice(-4) === ".bin" ? xH : kC)(e, n)
}
function jW(e) {
    return (e.slice(-4) === ".bin" ? pH : PC)()
}
function qW(e, t) {
    var n = [];
    return e.Props && n.push(VB(e.Props, t)),
    e.Custprops && n.push(WB(e.Props, e.Custprops, t)),
    n.join("")
}
function zW() {
    return ""
}
function XW(e, t) {
    var n = ['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];
    return t.cellXfs.forEach(function(i, r) {
        var s = [];
        s.push(Pe("NumberFormat", null, {
            "ss:Format": en(Bn[i.numFmtId])
        }));
        var o = {
            "ss:ID": "s" + (21 + r)
        };
        n.push(Pe("Style", s.join(""), o))
    }),
    Pe("Styles", n.join(""))
}
function $C(e) {
    return Pe("NamedRange", null, {
        "ss:Name": e.Name,
        "ss:RefersTo": "=" + G7(e.Ref, {
            r: 0,
            c: 0
        })
    })
}
function KW(e) {
    if (!((e || {}).Workbook || {}).Names)
        return "";
    for (var t = e.Workbook.Names, n = [], i = 0; i < t.length; ++i) {
        var r = t[i];
        r.Sheet == null && (r.Name.match(/^_xlfn\./) || n.push($C(r)))
    }
    return Pe("Names", n.join(""))
}
function YW(e, t, n, i) {
    if (!e || !((i || {}).Workbook || {}).Names)
        return "";
    for (var r = i.Workbook.Names, s = [], o = 0; o < r.length; ++o) {
        var a = r[o];
        a.Sheet == n && (a.Name.match(/^_xlfn\./) || s.push($C(a)))
    }
    return s.join("")
}
function QW(e, t, n, i) {
    if (!e)
        return "";
    var r = [];
    if (e["!margins"] && (r.push("<PageSetup>"),
    e["!margins"].header && r.push(Pe("Header", null, {
        "x:Margin": e["!margins"].header
    })),
    e["!margins"].footer && r.push(Pe("Footer", null, {
        "x:Margin": e["!margins"].footer
    })),
    r.push(Pe("PageMargins", null, {
        "x:Bottom": e["!margins"].bottom || "0.75",
        "x:Left": e["!margins"].left || "0.7",
        "x:Right": e["!margins"].right || "0.7",
        "x:Top": e["!margins"].top || "0.75"
    })),
    r.push("</PageSetup>")),
    i && i.Workbook && i.Workbook.Sheets && i.Workbook.Sheets[n])
        if (i.Workbook.Sheets[n].Hidden)
            r.push(Pe("Visible", i.Workbook.Sheets[n].Hidden == 1 ? "SheetHidden" : "SheetVeryHidden", {}));
        else {
            for (var s = 0; s < n && !(i.Workbook.Sheets[s] && !i.Workbook.Sheets[s].Hidden); ++s)
                ;
            s == n && r.push("<Selected/>")
        }
    return ((((i || {}).Workbook || {}).Views || [])[0] || {}).RTL && r.push("<DisplayRightToLeft/>"),
    e["!protect"] && (r.push(ji("ProtectContents", "True")),
    e["!protect"].objects && r.push(ji("ProtectObjects", "True")),
    e["!protect"].scenarios && r.push(ji("ProtectScenarios", "True")),
    e["!protect"].selectLockedCells != null && !e["!protect"].selectLockedCells ? r.push(ji("EnableSelection", "NoSelection")) : e["!protect"].selectUnlockedCells != null && !e["!protect"].selectUnlockedCells && r.push(ji("EnableSelection", "UnlockedCells")),
    [["formatCells", "AllowFormatCells"], ["formatColumns", "AllowSizeCols"], ["formatRows", "AllowSizeRows"], ["insertColumns", "AllowInsertCols"], ["insertRows", "AllowInsertRows"], ["insertHyperlinks", "AllowInsertHyperlinks"], ["deleteColumns", "AllowDeleteCols"], ["deleteRows", "AllowDeleteRows"], ["sort", "AllowSort"], ["autoFilter", "AllowFilter"], ["pivotTables", "AllowUsePivotTables"]].forEach(function(o) {
        e["!protect"][o[0]] && r.push("<" + o[1] + "/>")
    })),
    r.length == 0 ? "" : Pe("WorksheetOptions", r.join(""), {
        xmlns: Ss.x
    })
}
function JW(e) {
    return e.map(function(t) {
        var n = tB(t.t || "")
          , i = Pe("ss:Data", n, {
            xmlns: "http://www.w3.org/TR/REC-html40"
        });
        return Pe("Comment", i, {
            "ss:Author": t.a
        })
    }).join("")
}
function ZW(e, t, n, i, r, s, o) {
    if (!e || e.v == null && e.f == null)
        return "";
    var a = {};
    if (e.f && (a["ss:Formula"] = "=" + en(G7(e.f, o))),
    e.F && e.F.slice(0, t.length) == t) {
        var c = Ii(e.F.slice(t.length + 1));
        a["ss:ArrayRange"] = "RC:R" + (c.r == o.r ? "" : "[" + (c.r - o.r) + "]") + "C" + (c.c == o.c ? "" : "[" + (c.c - o.c) + "]")
    }
    if (e.l && e.l.Target && (a["ss:HRef"] = en(e.l.Target),
    e.l.Tooltip && (a["x:HRefScreenTip"] = en(e.l.Tooltip))),
    n["!merges"])
        for (var l = n["!merges"], u = 0; u != l.length; ++u)
            l[u].s.c != o.c || l[u].s.r != o.r || (l[u].e.c > l[u].s.c && (a["ss:MergeAcross"] = l[u].e.c - l[u].s.c),
            l[u].e.r > l[u].s.r && (a["ss:MergeDown"] = l[u].e.r - l[u].s.r));
    var h = ""
      , d = "";
    switch (e.t) {
    case "z":
        if (!i.sheetStubs)
            return "";
        break;
    case "n":
        h = "Number",
        d = String(e.v);
        break;
    case "b":
        h = "Boolean",
        d = e.v ? "1" : "0";
        break;
    case "e":
        h = "Error",
        d = M1[e.v];
        break;
    case "d":
        h = "DateTime",
        d = new Date(e.v).toISOString(),
        e.z == null && (e.z = e.z || Bn[14]);
        break;
    case "s":
        h = "String",
        d = eB(e.v || "");
        break
    }
    var f = jc(i.cellXfs, e, i);
    a["ss:StyleID"] = "s" + (21 + f),
    a["ss:Index"] = o.c + 1;
    var g = e.v != null ? d : ""
      , p = e.t == "z" ? "" : '<Data ss:Type="' + h + '">' + g + "</Data>";
    return (e.c || []).length > 0 && (p += JW(e.c)),
    Pe("Cell", p, a)
}
function e$(e, t) {
    var n = '<Row ss:Index="' + (e + 1) + '"';
    return t && (t.hpt && !t.hpx && (t.hpx = CC(t.hpt)),
    t.hpx && (n += ' ss:AutoFitHeight="0" ss:Height="' + t.hpx + '"'),
    t.hidden && (n += ' ss:Hidden="1"')),
    n + ">"
}
function t$(e, t, n, i) {
    if (!e["!ref"])
        return "";
    var r = bn(e["!ref"])
      , s = e["!merges"] || []
      , o = 0
      , a = [];
    e["!cols"] && e["!cols"].forEach(function(v, b) {
        U7(v);
        var S = !!v.width
          , w = _2(b, v)
          , k = {
            "ss:Index": b + 1
        };
        S && (k["ss:Width"] = s2(w.width)),
        v.hidden && (k["ss:Hidden"] = "1"),
        a.push(Pe("Column", null, k))
    });
    for (var c = Array.isArray(e), l = r.s.r; l <= r.e.r; ++l) {
        for (var u = [e$(l, (e["!rows"] || [])[l])], h = r.s.c; h <= r.e.c; ++h) {
            var d = !1;
            for (o = 0; o != s.length; ++o)
                if (!(s[o].s.c > h) && !(s[o].s.r > l) && !(s[o].e.c < h) && !(s[o].e.r < l)) {
                    (s[o].s.c != h || s[o].s.r != l) && (d = !0);
                    break
                }
            if (!d) {
                var f = {
                    r: l,
                    c: h
                }
                  , g = tn(f)
                  , p = c ? (e[l] || [])[h] : e[g];
                u.push(ZW(p, g, e, t, n, i, f))
            }
        }
        u.push("</Row>"),
        u.length > 2 && a.push(u.join(""))
    }
    return a.join("")
}
function n$(e, t, n) {
    var i = []
      , r = n.SheetNames[e]
      , s = n.Sheets[r]
      , o = s ? YW(s, t, e, n) : "";
    return o.length > 0 && i.push("<Names>" + o + "</Names>"),
    o = s ? t$(s, t, e, n) : "",
    o.length > 0 && i.push("<Table>" + o + "</Table>"),
    i.push(QW(s, t, e, n)),
    i.join("")
}
function i$(e, t) {
    t || (t = {}),
    e.SSF || (e.SSF = Jr(Bn)),
    e.SSF && (d2(),
    h2(e.SSF),
    t.revssf = f2(e.SSF),
    t.revssf[e.SSF[65535]] = 0,
    t.ssf = e.SSF,
    t.cellXfs = [],
    jc(t.cellXfs, {}, {
        revssf: {
            General: 0
        }
    }));
    var n = [];
    n.push(qW(e, t)),
    n.push(zW(e, t)),
    n.push(""),
    n.push("");
    for (var i = 0; i < e.SheetNames.length; ++i)
        n.push(Pe("Worksheet", n$(i, t, e), {
            "ss:Name": en(e.SheetNames[i])
        }));
    return n[2] = XW(e, t),
    n[3] = KW(e, t),
    oi + Pe("Workbook", n.join(""), {
        xmlns: Ss.ss,
        "xmlns:o": Ss.o,
        "xmlns:x": Ss.x,
        "xmlns:ss": Ss.ss,
        "xmlns:dt": Ss.dt,
        "xmlns:html": Ss.html
    })
}
var p7 = {
    SI: "e0859ff2f94f6810ab9108002b27b3d9",
    DSI: "02d5cdd59c2e1b10939708002b2cf9ae",
    UDI: "05d5cdd59c2e1b10939708002b2cf9ae"
};
function r$(e, t) {
    var n = [], i = [], r = [], s = 0, o, a = Yx(lw, "n"), c = Yx(uw, "n");
    if (e.Props)
        for (o = zi(e.Props),
        s = 0; s < o.length; ++s)
            (Object.prototype.hasOwnProperty.call(a, o[s]) ? n : Object.prototype.hasOwnProperty.call(c, o[s]) ? i : r).push([o[s], e.Props[o[s]]]);
    if (e.Custprops)
        for (o = zi(e.Custprops),
        s = 0; s < o.length; ++s)
            Object.prototype.hasOwnProperty.call(e.Props || {}, o[s]) || (Object.prototype.hasOwnProperty.call(a, o[s]) ? n : Object.prototype.hasOwnProperty.call(c, o[s]) ? i : r).push([o[s], e.Custprops[o[s]]]);
    var l = [];
    for (s = 0; s < r.length; ++s)
        pC.indexOf(r[s][0]) > -1 || hC.indexOf(r[s][0]) > -1 || r[s][1] != null && l.push(r[s]);
    i.length && nn.utils.cfb_add(t, "/SummaryInformation", gw(i, p7.SI, c, uw)),
    (n.length || l.length) && nn.utils.cfb_add(t, "/DocumentSummaryInformation", gw(n, p7.DSI, a, lw, l.length ? l : null, p7.UDI))
}
function s$(e, t) {
    var n = t || {}
      , i = nn.utils.cfb_new({
        root: "R"
    })
      , r = "/Workbook";
    switch (n.bookType || "xls") {
    case "xls":
        n.bookType = "biff8";
    case "xla":
        n.bookType || (n.bookType = "xla");
    case "biff8":
        r = "/Workbook",
        n.biff = 8;
        break;
    case "biff5":
        r = "/Book",
        n.biff = 5;
        break;
    default:
        throw new Error("invalid type " + n.bookType + " for XLS CFB")
    }
    return nn.utils.cfb_add(i, r, jC(e, n)),
    n.biff == 8 && (e.Props || e.Custprops) && r$(e, i),
    n.biff == 8 && e.vbaraw && wH(i, nn.read(e.vbaraw, {
        type: typeof e.vbaraw == "string" ? "binary" : "buffer"
    })),
    i
}
var o$ = {
    0: {
        f: lV
    },
    1: {
        f: vV
    },
    2: {
        f: LV
    },
    3: {
        f: EV
    },
    4: {
        f: SV
    },
    5: {
        f: RV
    },
    6: {
        f: VV
    },
    7: {
        f: MV
    },
    8: {
        f: KV
    },
    9: {
        f: XV
    },
    10: {
        f: qV
    },
    11: {
        f: zV
    },
    12: {
        f: yV
    },
    13: {
        f: UV
    },
    14: {
        f: OV
    },
    15: {
        f: wV
    },
    16: {
        f: NV
    },
    17: {
        f: $V
    },
    18: {
        f: AV
    },
    19: {
        f: N7
    },
    20: {},
    21: {},
    22: {},
    23: {},
    24: {},
    25: {},
    26: {},
    27: {},
    28: {},
    29: {},
    30: {},
    31: {},
    32: {},
    33: {},
    34: {},
    35: {
        T: 1
    },
    36: {
        T: -1
    },
    37: {
        T: 1
    },
    38: {
        T: -1
    },
    39: {
        f: DW
    },
    40: {},
    42: {},
    43: {
        f: VU
    },
    44: {
        f: HU
    },
    45: {
        f: jU
    },
    46: {
        f: zU
    },
    47: {
        f: qU
    },
    48: {},
    49: {
        f: yB
    },
    50: {},
    51: {
        f: lH
    },
    52: {
        T: 1
    },
    53: {
        T: -1
    },
    54: {
        T: 1
    },
    55: {
        T: -1
    },
    56: {
        T: 1
    },
    57: {
        T: -1
    },
    58: {},
    59: {},
    60: {
        f: bU
    },
    62: {
        f: GV
    },
    63: {
        f: gH
    },
    64: {
        f: hW
    },
    65: {},
    66: {},
    67: {},
    68: {},
    69: {},
    70: {},
    128: {},
    129: {
        T: 1
    },
    130: {
        T: -1
    },
    131: {
        T: 1,
        f: Zo,
        p: 0
    },
    132: {
        T: -1
    },
    133: {
        T: 1
    },
    134: {
        T: -1
    },
    135: {
        T: 1
    },
    136: {
        T: -1
    },
    137: {
        T: 1,
        f: aW
    },
    138: {
        T: -1
    },
    139: {
        T: 1
    },
    140: {
        T: -1
    },
    141: {
        T: 1
    },
    142: {
        T: -1
    },
    143: {
        T: 1
    },
    144: {
        T: -1
    },
    145: {
        T: 1
    },
    146: {
        T: -1
    },
    147: {
        f: gV
    },
    148: {
        f: dV,
        p: 16
    },
    151: {
        f: tW
    },
    152: {},
    153: {
        f: IW
    },
    154: {},
    155: {},
    156: {
        f: kW
    },
    157: {},
    158: {},
    159: {
        T: 1,
        f: kU
    },
    160: {
        T: -1
    },
    161: {
        T: 1,
        f: l0
    },
    162: {
        T: -1
    },
    163: {
        T: 1
    },
    164: {
        T: -1
    },
    165: {
        T: 1
    },
    166: {
        T: -1
    },
    167: {},
    168: {},
    169: {},
    170: {},
    171: {},
    172: {
        T: 1
    },
    173: {
        T: -1
    },
    174: {},
    175: {},
    176: {
        f: YV
    },
    177: {
        T: 1
    },
    178: {
        T: -1
    },
    179: {
        T: 1
    },
    180: {
        T: -1
    },
    181: {
        T: 1
    },
    182: {
        T: -1
    },
    183: {
        T: 1
    },
    184: {
        T: -1
    },
    185: {
        T: 1
    },
    186: {
        T: -1
    },
    187: {
        T: 1
    },
    188: {
        T: -1
    },
    189: {
        T: 1
    },
    190: {
        T: -1
    },
    191: {
        T: 1
    },
    192: {
        T: -1
    },
    193: {
        T: 1
    },
    194: {
        T: -1
    },
    195: {
        T: 1
    },
    196: {
        T: -1
    },
    197: {
        T: 1
    },
    198: {
        T: -1
    },
    199: {
        T: 1
    },
    200: {
        T: -1
    },
    201: {
        T: 1
    },
    202: {
        T: -1
    },
    203: {
        T: 1
    },
    204: {
        T: -1
    },
    205: {
        T: 1
    },
    206: {
        T: -1
    },
    207: {
        T: 1
    },
    208: {
        T: -1
    },
    209: {
        T: 1
    },
    210: {
        T: -1
    },
    211: {
        T: 1
    },
    212: {
        T: -1
    },
    213: {
        T: 1
    },
    214: {
        T: -1
    },
    215: {
        T: 1
    },
    216: {
        T: -1
    },
    217: {
        T: 1
    },
    218: {
        T: -1
    },
    219: {
        T: 1
    },
    220: {
        T: -1
    },
    221: {
        T: 1
    },
    222: {
        T: -1
    },
    223: {
        T: 1
    },
    224: {
        T: -1
    },
    225: {
        T: 1
    },
    226: {
        T: -1
    },
    227: {
        T: 1
    },
    228: {
        T: -1
    },
    229: {
        T: 1
    },
    230: {
        T: -1
    },
    231: {
        T: 1
    },
    232: {
        T: -1
    },
    233: {
        T: 1
    },
    234: {
        T: -1
    },
    235: {
        T: 1
    },
    236: {
        T: -1
    },
    237: {
        T: 1
    },
    238: {
        T: -1
    },
    239: {
        T: 1
    },
    240: {
        T: -1
    },
    241: {
        T: 1
    },
    242: {
        T: -1
    },
    243: {
        T: 1
    },
    244: {
        T: -1
    },
    245: {
        T: 1
    },
    246: {
        T: -1
    },
    247: {
        T: 1
    },
    248: {
        T: -1
    },
    249: {
        T: 1
    },
    250: {
        T: -1
    },
    251: {
        T: 1
    },
    252: {
        T: -1
    },
    253: {
        T: 1
    },
    254: {
        T: -1
    },
    255: {
        T: 1
    },
    256: {
        T: -1
    },
    257: {
        T: 1
    },
    258: {
        T: -1
    },
    259: {
        T: 1
    },
    260: {
        T: -1
    },
    261: {
        T: 1
    },
    262: {
        T: -1
    },
    263: {
        T: 1
    },
    264: {
        T: -1
    },
    265: {
        T: 1
    },
    266: {
        T: -1
    },
    267: {
        T: 1
    },
    268: {
        T: -1
    },
    269: {
        T: 1
    },
    270: {
        T: -1
    },
    271: {
        T: 1
    },
    272: {
        T: -1
    },
    273: {
        T: 1
    },
    274: {
        T: -1
    },
    275: {
        T: 1
    },
    276: {
        T: -1
    },
    277: {},
    278: {
        T: 1
    },
    279: {
        T: -1
    },
    280: {
        T: 1
    },
    281: {
        T: -1
    },
    282: {
        T: 1
    },
    283: {
        T: 1
    },
    284: {
        T: -1
    },
    285: {
        T: 1
    },
    286: {
        T: -1
    },
    287: {
        T: 1
    },
    288: {
        T: -1
    },
    289: {
        T: 1
    },
    290: {
        T: -1
    },
    291: {
        T: 1
    },
    292: {
        T: -1
    },
    293: {
        T: 1
    },
    294: {
        T: -1
    },
    295: {
        T: 1
    },
    296: {
        T: -1
    },
    297: {
        T: 1
    },
    298: {
        T: -1
    },
    299: {
        T: 1
    },
    300: {
        T: -1
    },
    301: {
        T: 1
    },
    302: {
        T: -1
    },
    303: {
        T: 1
    },
    304: {
        T: -1
    },
    305: {
        T: 1
    },
    306: {
        T: -1
    },
    307: {
        T: 1
    },
    308: {
        T: -1
    },
    309: {
        T: 1
    },
    310: {
        T: -1
    },
    311: {
        T: 1
    },
    312: {
        T: -1
    },
    313: {
        T: -1
    },
    314: {
        T: 1
    },
    315: {
        T: -1
    },
    316: {
        T: 1
    },
    317: {
        T: -1
    },
    318: {
        T: 1
    },
    319: {
        T: -1
    },
    320: {
        T: 1
    },
    321: {
        T: -1
    },
    322: {
        T: 1
    },
    323: {
        T: -1
    },
    324: {
        T: 1
    },
    325: {
        T: -1
    },
    326: {
        T: 1
    },
    327: {
        T: -1
    },
    328: {
        T: 1
    },
    329: {
        T: -1
    },
    330: {
        T: 1
    },
    331: {
        T: -1
    },
    332: {
        T: 1
    },
    333: {
        T: -1
    },
    334: {
        T: 1
    },
    335: {
        f: aH
    },
    336: {
        T: -1
    },
    337: {
        f: dH,
        T: 1
    },
    338: {
        T: -1
    },
    339: {
        T: 1
    },
    340: {
        T: -1
    },
    341: {
        T: 1
    },
    342: {
        T: -1
    },
    343: {
        T: 1
    },
    344: {
        T: -1
    },
    345: {
        T: 1
    },
    346: {
        T: -1
    },
    347: {
        T: 1
    },
    348: {
        T: -1
    },
    349: {
        T: 1
    },
    350: {
        T: -1
    },
    351: {},
    352: {},
    353: {
        T: 1
    },
    354: {
        T: -1
    },
    355: {
        f: y7
    },
    357: {},
    358: {},
    359: {},
    360: {
        T: 1
    },
    361: {},
    362: {
        f: pU
    },
    363: {},
    364: {},
    366: {},
    367: {},
    368: {},
    369: {},
    370: {},
    371: {},
    372: {
        T: 1
    },
    373: {
        T: -1
    },
    374: {
        T: 1
    },
    375: {
        T: -1
    },
    376: {
        T: 1
    },
    377: {
        T: -1
    },
    378: {
        T: 1
    },
    379: {
        T: -1
    },
    380: {
        T: 1
    },
    381: {
        T: -1
    },
    382: {
        T: 1
    },
    383: {
        T: -1
    },
    384: {
        T: 1
    },
    385: {
        T: -1
    },
    386: {
        T: 1
    },
    387: {
        T: -1
    },
    388: {
        T: 1
    },
    389: {
        T: -1
    },
    390: {
        T: 1
    },
    391: {
        T: -1
    },
    392: {
        T: 1
    },
    393: {
        T: -1
    },
    394: {
        T: 1
    },
    395: {
        T: -1
    },
    396: {},
    397: {},
    398: {},
    399: {},
    400: {},
    401: {
        T: 1
    },
    403: {},
    404: {},
    405: {},
    406: {},
    407: {},
    408: {},
    409: {},
    410: {},
    411: {},
    412: {},
    413: {},
    414: {},
    415: {},
    416: {},
    417: {},
    418: {},
    419: {},
    420: {},
    421: {},
    422: {
        T: 1
    },
    423: {
        T: 1
    },
    424: {
        T: -1
    },
    425: {
        T: -1
    },
    426: {
        f: nW
    },
    427: {
        f: iW
    },
    428: {},
    429: {
        T: 1
    },
    430: {
        T: -1
    },
    431: {
        T: 1
    },
    432: {
        T: -1
    },
    433: {
        T: 1
    },
    434: {
        T: -1
    },
    435: {
        T: 1
    },
    436: {
        T: -1
    },
    437: {
        T: 1
    },
    438: {
        T: -1
    },
    439: {
        T: 1
    },
    440: {
        T: -1
    },
    441: {
        T: 1
    },
    442: {
        T: -1
    },
    443: {
        T: 1
    },
    444: {
        T: -1
    },
    445: {
        T: 1
    },
    446: {
        T: -1
    },
    447: {
        T: 1
    },
    448: {
        T: -1
    },
    449: {
        T: 1
    },
    450: {
        T: -1
    },
    451: {
        T: 1
    },
    452: {
        T: -1
    },
    453: {
        T: 1
    },
    454: {
        T: -1
    },
    455: {
        T: 1
    },
    456: {
        T: -1
    },
    457: {
        T: 1
    },
    458: {
        T: -1
    },
    459: {
        T: 1
    },
    460: {
        T: -1
    },
    461: {
        T: 1
    },
    462: {
        T: -1
    },
    463: {
        T: 1
    },
    464: {
        T: -1
    },
    465: {
        T: 1
    },
    466: {
        T: -1
    },
    467: {
        T: 1
    },
    468: {
        T: -1
    },
    469: {
        T: 1
    },
    470: {
        T: -1
    },
    471: {},
    472: {},
    473: {
        T: 1
    },
    474: {
        T: -1
    },
    475: {},
    476: {
        f: sW
    },
    477: {},
    478: {},
    479: {
        T: 1
    },
    480: {
        T: -1
    },
    481: {
        T: 1
    },
    482: {
        T: -1
    },
    483: {
        T: 1
    },
    484: {
        T: -1
    },
    485: {
        f: pV
    },
    486: {
        T: 1
    },
    487: {
        T: -1
    },
    488: {
        T: 1
    },
    489: {
        T: -1
    },
    490: {
        T: 1
    },
    491: {
        T: -1
    },
    492: {
        T: 1
    },
    493: {
        T: -1
    },
    494: {
        f: ZV
    },
    495: {
        T: 1
    },
    496: {
        T: -1
    },
    497: {
        T: 1
    },
    498: {
        T: -1
    },
    499: {},
    500: {
        T: 1
    },
    501: {
        T: -1
    },
    502: {
        T: 1
    },
    503: {
        T: -1
    },
    504: {},
    505: {
        T: 1
    },
    506: {
        T: -1
    },
    507: {},
    508: {
        T: 1
    },
    509: {
        T: -1
    },
    510: {
        T: 1
    },
    511: {
        T: -1
    },
    512: {},
    513: {},
    514: {
        T: 1
    },
    515: {
        T: -1
    },
    516: {
        T: 1
    },
    517: {
        T: -1
    },
    518: {
        T: 1
    },
    519: {
        T: -1
    },
    520: {
        T: 1
    },
    521: {
        T: -1
    },
    522: {},
    523: {},
    524: {},
    525: {},
    526: {},
    527: {},
    528: {
        T: 1
    },
    529: {
        T: -1
    },
    530: {
        T: 1
    },
    531: {
        T: -1
    },
    532: {
        T: 1
    },
    533: {
        T: -1
    },
    534: {},
    535: {},
    536: {},
    537: {},
    538: {
        T: 1
    },
    539: {
        T: -1
    },
    540: {
        T: 1
    },
    541: {
        T: -1
    },
    542: {
        T: 1
    },
    548: {},
    549: {},
    550: {
        f: y7
    },
    551: {},
    552: {},
    553: {},
    554: {
        T: 1
    },
    555: {
        T: -1
    },
    556: {
        T: 1
    },
    557: {
        T: -1
    },
    558: {
        T: 1
    },
    559: {
        T: -1
    },
    560: {
        T: 1
    },
    561: {
        T: -1
    },
    562: {},
    564: {},
    565: {
        T: 1
    },
    566: {
        T: -1
    },
    569: {
        T: 1
    },
    570: {
        T: -1
    },
    572: {},
    573: {
        T: 1
    },
    574: {
        T: -1
    },
    577: {},
    578: {},
    579: {},
    580: {},
    581: {},
    582: {},
    583: {},
    584: {},
    585: {},
    586: {},
    587: {},
    588: {
        T: -1
    },
    589: {},
    590: {
        T: 1
    },
    591: {
        T: -1
    },
    592: {
        T: 1
    },
    593: {
        T: -1
    },
    594: {
        T: 1
    },
    595: {
        T: -1
    },
    596: {},
    597: {
        T: 1
    },
    598: {
        T: -1
    },
    599: {
        T: 1
    },
    600: {
        T: -1
    },
    601: {
        T: 1
    },
    602: {
        T: -1
    },
    603: {
        T: 1
    },
    604: {
        T: -1
    },
    605: {
        T: 1
    },
    606: {
        T: -1
    },
    607: {},
    608: {
        T: 1
    },
    609: {
        T: -1
    },
    610: {},
    611: {
        T: 1
    },
    612: {
        T: -1
    },
    613: {
        T: 1
    },
    614: {
        T: -1
    },
    615: {
        T: 1
    },
    616: {
        T: -1
    },
    617: {
        T: 1
    },
    618: {
        T: -1
    },
    619: {
        T: 1
    },
    620: {
        T: -1
    },
    625: {},
    626: {
        T: 1
    },
    627: {
        T: -1
    },
    628: {
        T: 1
    },
    629: {
        T: -1
    },
    630: {
        T: 1
    },
    631: {
        T: -1
    },
    632: {
        f: bH
    },
    633: {
        T: 1
    },
    634: {
        T: -1
    },
    635: {
        T: 1,
        f: _H
    },
    636: {
        T: -1
    },
    637: {
        f: wB
    },
    638: {
        T: 1
    },
    639: {},
    640: {
        T: -1
    },
    641: {
        T: 1
    },
    642: {
        T: -1
    },
    643: {
        T: 1
    },
    644: {},
    645: {
        T: -1
    },
    646: {
        T: 1
    },
    648: {
        T: 1
    },
    649: {},
    650: {
        T: -1
    },
    651: {
        f: CW
    },
    652: {},
    653: {
        T: 1
    },
    654: {
        T: -1
    },
    655: {
        T: 1
    },
    656: {
        T: -1
    },
    657: {
        T: 1
    },
    658: {
        T: -1
    },
    659: {},
    660: {
        T: 1
    },
    661: {},
    662: {
        T: -1
    },
    663: {},
    664: {
        T: 1
    },
    665: {},
    666: {
        T: -1
    },
    667: {},
    668: {},
    669: {},
    671: {
        T: 1
    },
    672: {
        T: -1
    },
    673: {
        T: 1
    },
    674: {
        T: -1
    },
    675: {},
    676: {},
    677: {},
    678: {},
    679: {},
    680: {},
    681: {},
    1024: {},
    1025: {},
    1026: {
        T: 1
    },
    1027: {
        T: -1
    },
    1028: {
        T: 1
    },
    1029: {
        T: -1
    },
    1030: {},
    1031: {
        T: 1
    },
    1032: {
        T: -1
    },
    1033: {
        T: 1
    },
    1034: {
        T: -1
    },
    1035: {},
    1036: {},
    1037: {},
    1038: {
        T: 1
    },
    1039: {
        T: -1
    },
    1040: {},
    1041: {
        T: 1
    },
    1042: {
        T: -1
    },
    1043: {},
    1044: {},
    1045: {},
    1046: {
        T: 1
    },
    1047: {
        T: -1
    },
    1048: {
        T: 1
    },
    1049: {
        T: -1
    },
    1050: {},
    1051: {
        T: 1
    },
    1052: {
        T: 1
    },
    1053: {
        f: dW
    },
    1054: {
        T: 1
    },
    1055: {},
    1056: {
        T: 1
    },
    1057: {
        T: -1
    },
    1058: {
        T: 1
    },
    1059: {
        T: -1
    },
    1061: {},
    1062: {
        T: 1
    },
    1063: {
        T: -1
    },
    1064: {
        T: 1
    },
    1065: {
        T: -1
    },
    1066: {
        T: 1
    },
    1067: {
        T: -1
    },
    1068: {
        T: 1
    },
    1069: {
        T: -1
    },
    1070: {
        T: 1
    },
    1071: {
        T: -1
    },
    1072: {
        T: 1
    },
    1073: {
        T: -1
    },
    1075: {
        T: 1
    },
    1076: {
        T: -1
    },
    1077: {
        T: 1
    },
    1078: {
        T: -1
    },
    1079: {
        T: 1
    },
    1080: {
        T: -1
    },
    1081: {
        T: 1
    },
    1082: {
        T: -1
    },
    1083: {
        T: 1
    },
    1084: {
        T: -1
    },
    1085: {},
    1086: {
        T: 1
    },
    1087: {
        T: -1
    },
    1088: {
        T: 1
    },
    1089: {
        T: -1
    },
    1090: {
        T: 1
    },
    1091: {
        T: -1
    },
    1092: {
        T: 1
    },
    1093: {
        T: -1
    },
    1094: {
        T: 1
    },
    1095: {
        T: -1
    },
    1096: {},
    1097: {
        T: 1
    },
    1098: {},
    1099: {
        T: -1
    },
    1100: {
        T: 1
    },
    1101: {
        T: -1
    },
    1102: {},
    1103: {},
    1104: {},
    1105: {},
    1111: {},
    1112: {},
    1113: {
        T: 1
    },
    1114: {
        T: -1
    },
    1115: {
        T: 1
    },
    1116: {
        T: -1
    },
    1117: {},
    1118: {
        T: 1
    },
    1119: {
        T: -1
    },
    1120: {
        T: 1
    },
    1121: {
        T: -1
    },
    1122: {
        T: 1
    },
    1123: {
        T: -1
    },
    1124: {
        T: 1
    },
    1125: {
        T: -1
    },
    1126: {},
    1128: {
        T: 1
    },
    1129: {
        T: -1
    },
    1130: {},
    1131: {
        T: 1
    },
    1132: {
        T: -1
    },
    1133: {
        T: 1
    },
    1134: {
        T: -1
    },
    1135: {
        T: 1
    },
    1136: {
        T: -1
    },
    1137: {
        T: 1
    },
    1138: {
        T: -1
    },
    1139: {
        T: 1
    },
    1140: {
        T: -1
    },
    1141: {},
    1142: {
        T: 1
    },
    1143: {
        T: -1
    },
    1144: {
        T: 1
    },
    1145: {
        T: -1
    },
    1146: {},
    1147: {
        T: 1
    },
    1148: {
        T: -1
    },
    1149: {
        T: 1
    },
    1150: {
        T: -1
    },
    1152: {
        T: 1
    },
    1153: {
        T: -1
    },
    1154: {
        T: -1
    },
    1155: {
        T: -1
    },
    1156: {
        T: -1
    },
    1157: {
        T: 1
    },
    1158: {
        T: -1
    },
    1159: {
        T: 1
    },
    1160: {
        T: -1
    },
    1161: {
        T: 1
    },
    1162: {
        T: -1
    },
    1163: {
        T: 1
    },
    1164: {
        T: -1
    },
    1165: {
        T: 1
    },
    1166: {
        T: -1
    },
    1167: {
        T: 1
    },
    1168: {
        T: -1
    },
    1169: {
        T: 1
    },
    1170: {
        T: -1
    },
    1171: {},
    1172: {
        T: 1
    },
    1173: {
        T: -1
    },
    1177: {},
    1178: {
        T: 1
    },
    1180: {},
    1181: {},
    1182: {},
    2048: {
        T: 1
    },
    2049: {
        T: -1
    },
    2050: {},
    2051: {
        T: 1
    },
    2052: {
        T: -1
    },
    2053: {},
    2054: {},
    2055: {
        T: 1
    },
    2056: {
        T: -1
    },
    2057: {
        T: 1
    },
    2058: {
        T: -1
    },
    2060: {},
    2067: {},
    2068: {
        T: 1
    },
    2069: {
        T: -1
    },
    2070: {},
    2071: {},
    2072: {
        T: 1
    },
    2073: {
        T: -1
    },
    2075: {},
    2076: {},
    2077: {
        T: 1
    },
    2078: {
        T: -1
    },
    2079: {},
    2080: {
        T: 1
    },
    2081: {
        T: -1
    },
    2082: {},
    2083: {
        T: 1
    },
    2084: {
        T: -1
    },
    2085: {
        T: 1
    },
    2086: {
        T: -1
    },
    2087: {
        T: 1
    },
    2088: {
        T: -1
    },
    2089: {
        T: 1
    },
    2090: {
        T: -1
    },
    2091: {},
    2092: {},
    2093: {
        T: 1
    },
    2094: {
        T: -1
    },
    2095: {},
    2096: {
        T: 1
    },
    2097: {
        T: -1
    },
    2098: {
        T: 1
    },
    2099: {
        T: -1
    },
    2100: {
        T: 1
    },
    2101: {
        T: -1
    },
    2102: {},
    2103: {
        T: 1
    },
    2104: {
        T: -1
    },
    2105: {},
    2106: {
        T: 1
    },
    2107: {
        T: -1
    },
    2108: {},
    2109: {
        T: 1
    },
    2110: {
        T: -1
    },
    2111: {
        T: 1
    },
    2112: {
        T: -1
    },
    2113: {
        T: 1
    },
    2114: {
        T: -1
    },
    2115: {},
    2116: {},
    2117: {},
    2118: {
        T: 1
    },
    2119: {
        T: -1
    },
    2120: {},
    2121: {
        T: 1
    },
    2122: {
        T: -1
    },
    2123: {
        T: 1
    },
    2124: {
        T: -1
    },
    2125: {},
    2126: {
        T: 1
    },
    2127: {
        T: -1
    },
    2128: {},
    2129: {
        T: 1
    },
    2130: {
        T: -1
    },
    2131: {
        T: 1
    },
    2132: {
        T: -1
    },
    2133: {
        T: 1
    },
    2134: {},
    2135: {},
    2136: {},
    2137: {
        T: 1
    },
    2138: {
        T: -1
    },
    2139: {
        T: 1
    },
    2140: {
        T: -1
    },
    2141: {},
    3072: {},
    3073: {},
    4096: {
        T: 1
    },
    4097: {
        T: -1
    },
    5002: {
        T: 1
    },
    5003: {
        T: -1
    },
    5081: {
        T: 1
    },
    5082: {
        T: -1
    },
    5083: {},
    5084: {
        T: 1
    },
    5085: {
        T: -1
    },
    5086: {
        T: 1
    },
    5087: {
        T: -1
    },
    5088: {},
    5089: {},
    5090: {},
    5092: {
        T: 1
    },
    5093: {
        T: -1
    },
    5094: {},
    5095: {
        T: 1
    },
    5096: {
        T: -1
    },
    5097: {},
    5099: {},
    65535: {
        n: ""
    }
};
function Me(e, t, n, i) {
    var r = t;
    if (!isNaN(r)) {
        var s = i || (n || []).length || 0
          , o = e.next(4);
        o.write_shift(2, r),
        o.write_shift(2, s),
        s > 0 && I7(n) && e.push(n)
    }
}
function a$(e, t, n, i) {
    var r = i || (n || []).length || 0;
    if (r <= 8224)
        return Me(e, t, n, r);
    var s = t;
    if (!isNaN(s)) {
        for (var o = n.parts || [], a = 0, c = 0, l = 0; l + (o[a] || 8224) <= 8224; )
            l += o[a] || 8224,
            a++;
        var u = e.next(4);
        for (u.write_shift(2, s),
        u.write_shift(2, l),
        e.push(n.slice(c, c + l)),
        c += l; c < r; ) {
            for (u = e.next(4),
            u.write_shift(2, 60),
            l = 0; l + (o[a] || 8224) <= 8224; )
                l += o[a] || 8224,
                a++;
            u.write_shift(2, l),
            e.push(n.slice(c, c + l)),
            c += l
        }
    }
}
function A1(e, t, n) {
    return e || (e = ce(7)),
    e.write_shift(2, t),
    e.write_shift(2, n),
    e.write_shift(2, 0),
    e.write_shift(1, 0),
    e
}
function c$(e, t, n, i) {
    var r = ce(9);
    return A1(r, e, t),
    mC(n, i || "b", r),
    r
}
function l$(e, t, n) {
    var i = ce(8 + 2 * n.length);
    return A1(i, e, t),
    i.write_shift(1, n.length),
    i.write_shift(n.length, n, "sbcs"),
    i.l < i.length ? i.slice(0, i.l) : i
}
function u$(e, t, n, i) {
    if (t.v != null)
        switch (t.t) {
        case "d":
        case "n":
            var r = t.t == "d" ? Qr(kr(t.v)) : t.v;
            r == (r | 0) && r >= 0 && r < 65536 ? Me(e, 2, CU(n, i, r)) : Me(e, 3, wU(n, i, r));
            return;
        case "b":
        case "e":
            Me(e, 5, c$(n, i, t.v, t.t));
            return;
        case "s":
        case "str":
            Me(e, 4, l$(n, i, (t.v || "").slice(0, 255)));
            return
        }
    Me(e, 1, A1(null, n, i))
}
function h$(e, t, n, i) {
    var r = Array.isArray(t), s = bn(t["!ref"] || "A1"), o, a = "", c = [];
    if (s.e.c > 255 || s.e.r > 16383) {
        if (i.WTF)
            throw new Error("Range " + (t["!ref"] || "A1") + " exceeds format limit A1:IV16384");
        s.e.c = Math.min(s.e.c, 255),
        s.e.r = Math.min(s.e.c, 16383),
        o = si(s)
    }
    for (var l = s.s.r; l <= s.e.r; ++l) {
        a = qi(l);
        for (var u = s.s.c; u <= s.e.c; ++u) {
            l === s.s.r && (c[u] = lr(u)),
            o = c[u] + a;
            var h = r ? (t[l] || [])[u] : t[o];
            h && u$(e, h, l, u, i)
        }
    }
}
function d$(e, t) {
    var n = t || {};
    Jo != null && n.dense == null && (n.dense = Jo);
    for (var i = Yr(), r = 0, s = 0; s < e.SheetNames.length; ++s)
        e.SheetNames[s] == n.sheet && (r = s);
    if (r == 0 && n.sheet && e.SheetNames[0] != n.sheet)
        throw new Error("Sheet not found: " + n.sheet);
    return Me(i, n.biff == 4 ? 1033 : n.biff == 3 ? 521 : 9, B7(e, 16, n)),
    h$(i, e.Sheets[e.SheetNames[r]], r, n, e),
    Me(i, 10),
    i.end()
}
function f$(e, t, n) {
    Me(e, 49, oU({
        sz: 12,
        color: {
            theme: 1
        },
        name: "Arial",
        family: 2,
        scheme: "minor"
    }, n))
}
function p$(e, t, n) {
    t && [[5, 8], [23, 26], [41, 44], [50, 392]].forEach(function(i) {
        for (var r = i[0]; r <= i[1]; ++r)
            t[r] != null && Me(e, 1054, lU(r, t[r], n))
    })
}
function g$(e, t) {
    var n = ce(19);
    n.write_shift(4, 2151),
    n.write_shift(4, 0),
    n.write_shift(4, 0),
    n.write_shift(2, 3),
    n.write_shift(1, 1),
    n.write_shift(4, 0),
    Me(e, 2151, n),
    n = ce(39),
    n.write_shift(4, 2152),
    n.write_shift(4, 0),
    n.write_shift(4, 0),
    n.write_shift(2, 3),
    n.write_shift(1, 0),
    n.write_shift(4, 0),
    n.write_shift(2, 1),
    n.write_shift(4, 4),
    n.write_shift(2, 0),
    yC(bn(t["!ref"] || "A1"), n),
    n.write_shift(4, 4),
    Me(e, 2152, n)
}
function m$(e, t) {
    for (var n = 0; n < 16; ++n)
        Me(e, 224, vw({
            numFmtId: 0,
            style: !0
        }, 0, t));
    t.cellXfs.forEach(function(i) {
        Me(e, 224, vw(i, 0, t))
    })
}
function v$(e, t) {
    for (var n = 0; n < t["!links"].length; ++n) {
        var i = t["!links"][n];
        Me(e, 440, vU(i)),
        i[1].Tooltip && Me(e, 2048, _U(i))
    }
    delete t["!links"]
}
function _$(e, t) {
    if (t) {
        var n = 0;
        t.forEach(function(i, r) {
            ++n <= 256 && i && Me(e, 125, SU(_2(r, i), r))
        })
    }
}
function y$(e, t, n, i, r) {
    var s = 16 + jc(r.cellXfs, t, r);
    if (t.v == null && !t.bf) {
        Me(e, 513, r0(n, i, s));
        return
    }
    if (t.bf)
        Me(e, 6, WG(t, n, i, r, s));
    else
        switch (t.t) {
        case "d":
        case "n":
            var o = t.t == "d" ? Qr(kr(t.v)) : t.v;
            Me(e, 515, fU(n, i, o, s, r));
            break;
        case "b":
        case "e":
            Me(e, 517, dU(n, i, t.v, s, r, t.t));
            break;
        case "s":
        case "str":
            if (r.bookSST) {
                var a = W7(r.Strings, t.v, r.revStrings);
                Me(e, 253, aU(n, i, a, s, r))
            } else
                Me(e, 516, cU(n, i, (t.v || "").slice(0, 255), s, r));
            break;
        default:
            Me(e, 513, r0(n, i, s))
        }
}
function b$(e, t, n) {
    var i = Yr(), r = n.SheetNames[e], s = n.Sheets[r] || {}, o = (n || {}).Workbook || {}, a = (o.Sheets || [])[e] || {}, c = Array.isArray(s), l = t.biff == 8, u, h = "", d = [], f = bn(s["!ref"] || "A1"), g = l ? 65536 : 16384;
    if (f.e.c > 255 || f.e.r >= g) {
        if (t.WTF)
            throw new Error("Range " + (s["!ref"] || "A1") + " exceeds format limit A1:IV16384");
        f.e.c = Math.min(f.e.c, 255),
        f.e.r = Math.min(f.e.c, g - 1)
    }
    Me(i, 2057, B7(n, 16, t)),
    Me(i, 13, Ls(1)),
    Me(i, 12, Ls(100)),
    Me(i, 15, Mr(!0)),
    Me(i, 17, Mr(!1)),
    Me(i, 16, i0(.001)),
    Me(i, 95, Mr(!0)),
    Me(i, 42, Mr(!1)),
    Me(i, 43, Mr(!1)),
    Me(i, 130, Ls(1)),
    Me(i, 128, hU([0, 0])),
    Me(i, 131, Mr(!1)),
    Me(i, 132, Mr(!1)),
    l && _$(i, s["!cols"]),
    Me(i, 512, uU(f, t)),
    l && (s["!links"] = []);
    for (var p = f.s.r; p <= f.e.r; ++p) {
        h = qi(p);
        for (var v = f.s.c; v <= f.e.c; ++v) {
            p === f.s.r && (d[v] = lr(v)),
            u = d[v] + h;
            var b = c ? (s[p] || [])[v] : s[u];
            b && (y$(i, b, p, v, t),
            l && b.l && s["!links"].push([u, b.l]))
        }
    }
    var S = a.CodeName || a.name || r;
    return l && Me(i, 574, sU((o.Views || [])[0])),
    l && (s["!merges"] || []).length && Me(i, 229, mU(s["!merges"])),
    l && v$(i, s),
    Me(i, 442, _C(S, t)),
    l && g$(i, s),
    Me(i, 10),
    i.end()
}
function S$(e, t, n) {
    var i = Yr()
      , r = (e || {}).Workbook || {}
      , s = r.Sheets || []
      , o = r.WBProps || {}
      , a = n.biff == 8
      , c = n.biff == 5;
    if (Me(i, 2057, B7(e, 5, n)),
    n.bookType == "xla" && Me(i, 135),
    Me(i, 225, a ? Ls(1200) : null),
    Me(i, 193, qB(2)),
    c && Me(i, 191),
    c && Me(i, 192),
    Me(i, 226),
    Me(i, 92, tU("SheetJS", n)),
    Me(i, 66, Ls(a ? 1200 : 1252)),
    a && Me(i, 353, Ls(0)),
    a && Me(i, 448),
    Me(i, 317, xU(e.SheetNames.length)),
    a && e.vbaraw && Me(i, 211),
    a && e.vbaraw) {
        var l = o.CodeName || "ThisWorkbook";
        Me(i, 442, _C(l, n))
    }
    Me(i, 156, Ls(17)),
    Me(i, 25, Mr(!1)),
    Me(i, 18, Mr(!1)),
    Me(i, 19, Ls(0)),
    a && Me(i, 431, Mr(!1)),
    a && Me(i, 444, Ls(0)),
    Me(i, 61, rU(n)),
    Me(i, 64, Mr(!1)),
    Me(i, 141, Ls(0)),
    Me(i, 34, Mr(TW(e) == "true")),
    Me(i, 14, Mr(!0)),
    a && Me(i, 439, Mr(!1)),
    Me(i, 218, Ls(0)),
    f$(i, e, n),
    p$(i, e.SSF, n),
    m$(i, n),
    a && Me(i, 352, Mr(!1));
    var u = i.end()
      , h = Yr();
    a && Me(h, 140, yU()),
    a && n.Strings && a$(h, 252, iU(n.Strings, n)),
    Me(h, 10);
    var d = h.end()
      , f = Yr()
      , g = 0
      , p = 0;
    for (p = 0; p < e.SheetNames.length; ++p)
        g += (a ? 12 : 11) + (a ? 2 : 1) * e.SheetNames[p].length;
    var v = u.length + g + d.length;
    for (p = 0; p < e.SheetNames.length; ++p) {
        var b = s[p] || {};
        Me(f, 133, nU({
            pos: v,
            hs: b.Hidden || 0,
            dt: 0,
            name: e.SheetNames[p]
        }, n)),
        v += t[p].length
    }
    var S = f.end();
    if (g != S.length)
        throw new Error("BS8 " + g + " != " + S.length);
    var w = [];
    return u.length && w.push(u),
    S.length && w.push(S),
    d.length && w.push(d),
    $i(w)
}
function x$(e, t) {
    var n = t || {}
      , i = [];
    e && !e.SSF && (e.SSF = Jr(Bn)),
    e && e.SSF && (d2(),
    h2(e.SSF),
    n.revssf = f2(e.SSF),
    n.revssf[e.SSF[65535]] = 0,
    n.ssf = e.SSF),
    n.Strings = [],
    n.Strings.Count = 0,
    n.Strings.Unique = 0,
    $7(n),
    n.cellXfs = [],
    jc(n.cellXfs, {}, {
        revssf: {
            General: 0
        }
    }),
    e.Props || (e.Props = {});
    for (var r = 0; r < e.SheetNames.length; ++r)
        i[i.length] = b$(r, n, e);
    return i.unshift(S$(e, i, n)),
    $i(i)
}
function jC(e, t) {
    for (var n = 0; n <= e.SheetNames.length; ++n) {
        var i = e.Sheets[e.SheetNames[n]];
        if (!(!i || !i["!ref"])) {
            var r = xs(i["!ref"]);
            r.e.c > 255 && typeof console < "u" && console.error && console.error("Worksheet '" + e.SheetNames[n] + "' extends beyond column IV (255).  Data may be lost.")
        }
    }
    var s = t || {};
    switch (s.biff || 2) {
    case 8:
    case 5:
        return x$(e, t);
    case 4:
    case 3:
    case 2:
        return d$(e, t)
    }
    throw new Error("invalid type " + s.bookType + " for BIFF")
}
function w$(e, t, n, i) {
    for (var r = e["!merges"] || [], s = [], o = t.s.c; o <= t.e.c; ++o) {
        for (var a = 0, c = 0, l = 0; l < r.length; ++l)
            if (!(r[l].s.r > n || r[l].s.c > o) && !(r[l].e.r < n || r[l].e.c < o)) {
                if (r[l].s.r < n || r[l].s.c < o) {
                    a = -1;
                    break
                }
                a = r[l].e.r - r[l].s.r + 1,
                c = r[l].e.c - r[l].s.c + 1;
                break
            }
        if (!(a < 0)) {
            var u = tn({
                r: n,
                c: o
            })
              , h = i.dense ? (e[n] || [])[o] : e[u]
              , d = h && h.v != null && (h.h || ZL(h.w || (Ua(h),
            h.w) || "")) || ""
              , f = {};
            a > 1 && (f.rowspan = a),
            c > 1 && (f.colspan = c),
            i.editable ? d = '<span contenteditable="true">' + d + "</span>" : h && (f["data-t"] = h && h.t || "z",
            h.v != null && (f["data-v"] = h.v),
            h.z != null && (f["data-z"] = h.z),
            h.l && (h.l.Target || "#").charAt(0) != "#" && (d = '<a href="' + h.l.Target + '">' + d + "</a>")),
            f.id = (i.id || "sjs") + "-" + u,
            s.push(Pe("td", d, f))
        }
    }
    var g = "<tr>";
    return g + s.join("") + "</tr>"
}
var C$ = '<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>'
  , E$ = "</body></html>";
function T$(e, t, n) {
    var i = [];
    return i.join("") + "<table" + (n && n.id ? ' id="' + n.id + '"' : "") + ">"
}
function qC(e, t) {
    var n = t || {}
      , i = n.header != null ? n.header : C$
      , r = n.footer != null ? n.footer : E$
      , s = [i]
      , o = xs(e["!ref"]);
    n.dense = Array.isArray(e),
    s.push(T$(e, o, n));
    for (var a = o.s.r; a <= o.e.r; ++a)
        s.push(w$(e, o, a, n));
    return s.push("</table>" + r),
    s.join("")
}
function zC(e, t, n) {
    var i = n || {};
    Jo != null && (i.dense = Jo);
    var r = 0
      , s = 0;
    if (i.origin != null)
        if (typeof i.origin == "number")
            r = i.origin;
        else {
            var o = typeof i.origin == "string" ? Ii(i.origin) : i.origin;
            r = o.r,
            s = o.c
        }
    var a = t.getElementsByTagName("tr")
      , c = Math.min(i.sheetRows || 1e7, a.length)
      , l = {
        s: {
            r: 0,
            c: 0
        },
        e: {
            r,
            c: s
        }
    };
    if (e["!ref"]) {
        var u = xs(e["!ref"]);
        l.s.r = Math.min(l.s.r, u.s.r),
        l.s.c = Math.min(l.s.c, u.s.c),
        l.e.r = Math.max(l.e.r, u.e.r),
        l.e.c = Math.max(l.e.c, u.e.c),
        r == -1 && (l.e.r = r = u.e.r + 1)
    }
    var h = []
      , d = 0
      , f = e["!rows"] || (e["!rows"] = [])
      , g = 0
      , p = 0
      , v = 0
      , b = 0
      , S = 0
      , w = 0;
    for (e["!cols"] || (e["!cols"] = []); g < a.length && p < c; ++g) {
        var k = a[g];
        if (Cw(k)) {
            if (i.display)
                continue;
            f[p] = {
                hidden: !0
            }
        }
        var B = k.children;
        for (v = b = 0; v < B.length; ++v) {
            var N = B[v];
            if (!(i.display && Cw(N))) {
                var E = N.hasAttribute("data-v") ? N.getAttribute("data-v") : N.hasAttribute("v") ? N.getAttribute("v") : iB(N.innerHTML)
                  , F = N.getAttribute("data-z") || N.getAttribute("z");
                for (d = 0; d < h.length; ++d) {
                    var O = h[d];
                    O.s.c == b + s && O.s.r < p + r && p + r <= O.e.r && (b = O.e.c + 1 - s,
                    d = -1)
                }
                w = +N.getAttribute("colspan") || 1,
                ((S = +N.getAttribute("rowspan") || 1) > 1 || w > 1) && h.push({
                    s: {
                        r: p + r,
                        c: b + s
                    },
                    e: {
                        r: p + r + (S || 1) - 1,
                        c: b + s + (w || 1) - 1
                    }
                });
                var V = {
                    t: "s",
                    v: E
                }
                  , X = N.getAttribute("data-t") || N.getAttribute("t") || "";
                E != null && (E.length == 0 ? V.t = X || "z" : i.raw || E.trim().length == 0 || X == "s" || (E === "TRUE" ? V = {
                    t: "b",
                    v: !0
                } : E === "FALSE" ? V = {
                    t: "b",
                    v: !1
                } : isNaN(Fa(E)) ? isNaN(w1(E).getDate()) || (V = {
                    t: "d",
                    v: kr(E)
                },
                i.cellDates || (V = {
                    t: "n",
                    v: Qr(V.v)
                }),
                V.z = i.dateNF || Bn[14]) : V = {
                    t: "n",
                    v: Fa(E)
                })),
                V.z === void 0 && F != null && (V.z = F);
                var x = ""
                  , j = N.getElementsByTagName("A");
                if (j && j.length)
                    for (var fe = 0; fe < j.length && !(j[fe].hasAttribute("href") && (x = j[fe].getAttribute("href"),
                    x.charAt(0) != "#")); ++fe)
                        ;
                x && x.charAt(0) != "#" && (V.l = {
                    Target: x
                }),
                i.dense ? (e[p + r] || (e[p + r] = []),
                e[p + r][b + s] = V) : e[tn({
                    c: b + s,
                    r: p + r
                })] = V,
                l.e.c < b + s && (l.e.c = b + s),
                b += w
            }
        }
        ++p
    }
    return h.length && (e["!merges"] = (e["!merges"] || []).concat(h)),
    l.e.r = Math.max(l.e.r, p - 1 + r),
    e["!ref"] = si(l),
    p >= c && (e["!fullref"] = si((l.e.r = a.length - g + p - 1 + r,
    l))),
    e
}
function XC(e, t) {
    var n = t || {}
      , i = n.dense ? [] : {};
    return zC(i, e, t)
}
function O$(e, t) {
    return s0(XC(e, t), t)
}
function Cw(e) {
    var t = ""
      , n = P$(e);
    return n && (t = n(e).getPropertyValue("display")),
    t || (t = e.style && e.style.display),
    t === "none"
}
function P$(e) {
    return e.ownerDocument.defaultView && typeof e.ownerDocument.defaultView.getComputedStyle == "function" ? e.ownerDocument.defaultView.getComputedStyle : typeof getComputedStyle == "function" ? getComputedStyle : null
}
var M$ = function() {
    var e = ["<office:master-styles>", '<style:master-page style:name="mp1" style:page-layout-name="mp1">', "<style:header/>", '<style:header-left style:display="false"/>', "<style:footer/>", '<style:footer-left style:display="false"/>', "</style:master-page>", "</office:master-styles>"].join("")
      , t = "<office:document-styles " + C1({
        "xmlns:office": "urn:oasis:names:tc:opendocument:xmlns:office:1.0",
        "xmlns:table": "urn:oasis:names:tc:opendocument:xmlns:table:1.0",
        "xmlns:style": "urn:oasis:names:tc:opendocument:xmlns:style:1.0",
        "xmlns:text": "urn:oasis:names:tc:opendocument:xmlns:text:1.0",
        "xmlns:draw": "urn:oasis:names:tc:opendocument:xmlns:drawing:1.0",
        "xmlns:fo": "urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0",
        "xmlns:xlink": "http://www.w3.org/1999/xlink",
        "xmlns:dc": "http://purl.org/dc/elements/1.1/",
        "xmlns:number": "urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0",
        "xmlns:svg": "urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0",
        "xmlns:of": "urn:oasis:names:tc:opendocument:xmlns:of:1.2",
        "office:version": "1.2"
    }) + ">" + e + "</office:document-styles>";
    return function() {
        return oi + t
    }
}()
  , Ew = function() {
    var e = function(s) {
        return en(s).replace(/  +/g, function(o) {
            return '<text:s text:c="' + o.length + '"/>'
        }).replace(/\t/g, "<text:tab/>").replace(/\n/g, "</text:p><text:p>").replace(/^ /, "<text:s/>").replace(/ $/, "<text:s/>")
    }
      , t = `          <table:table-cell />
`
      , n = `          <table:covered-table-cell/>
`
      , i = function(s, o, a) {
        var c = [];
        c.push('      <table:table table:name="' + en(o.SheetNames[a]) + `" table:style-name="ta1">
`);
        var l = 0
          , u = 0
          , h = xs(s["!ref"] || "A1")
          , d = s["!merges"] || []
          , f = 0
          , g = Array.isArray(s);
        if (s["!cols"])
            for (u = 0; u <= h.e.c; ++u)
                c.push("        <table:table-column" + (s["!cols"][u] ? ' table:style-name="co' + s["!cols"][u].ods + '"' : "") + `></table:table-column>
`);
        var p = ""
          , v = s["!rows"] || [];
        for (l = 0; l < h.s.r; ++l)
            p = v[l] ? ' table:style-name="ro' + v[l].ods + '"' : "",
            c.push("        <table:table-row" + p + `></table:table-row>
`);
        for (; l <= h.e.r; ++l) {
            for (p = v[l] ? ' table:style-name="ro' + v[l].ods + '"' : "",
            c.push("        <table:table-row" + p + `>
`),
            u = 0; u < h.s.c; ++u)
                c.push(t);
            for (; u <= h.e.c; ++u) {
                var b = !1
                  , S = {}
                  , w = "";
                for (f = 0; f != d.length; ++f)
                    if (!(d[f].s.c > u) && !(d[f].s.r > l) && !(d[f].e.c < u) && !(d[f].e.r < l)) {
                        (d[f].s.c != u || d[f].s.r != l) && (b = !0),
                        S["table:number-columns-spanned"] = d[f].e.c - d[f].s.c + 1,
                        S["table:number-rows-spanned"] = d[f].e.r - d[f].s.r + 1;
                        break
                    }
                if (b) {
                    c.push(n);
                    continue
                }
                var k = tn({
                    r: l,
                    c: u
                })
                  , B = g ? (s[l] || [])[u] : s[k];
                if (B && B.f && (S["table:formula"] = en(KG(B.f)),
                B.F && B.F.slice(0, k.length) == k)) {
                    var N = xs(B.F);
                    S["table:number-matrix-columns-spanned"] = N.e.c - N.s.c + 1,
                    S["table:number-matrix-rows-spanned"] = N.e.r - N.s.r + 1
                }
                if (!B) {
                    c.push(t);
                    continue
                }
                switch (B.t) {
                case "b":
                    w = B.v ? "TRUE" : "FALSE",
                    S["office:value-type"] = "boolean",
                    S["office:boolean-value"] = B.v ? "true" : "false";
                    break;
                case "n":
                    w = B.w || String(B.v || 0),
                    S["office:value-type"] = "float",
                    S["office:value"] = B.v || 0;
                    break;
                case "s":
                case "str":
                    w = B.v == null ? "" : B.v,
                    S["office:value-type"] = "string";
                    break;
                case "d":
                    w = B.w || kr(B.v).toISOString(),
                    S["office:value-type"] = "date",
                    S["office:date-value"] = kr(B.v).toISOString(),
                    S["table:style-name"] = "ce1";
                    break;
                default:
                    c.push(t);
                    continue
                }
                var E = e(w);
                if (B.l && B.l.Target) {
                    var F = B.l.Target;
                    F = F.charAt(0) == "#" ? "#" + YG(F.slice(1)) : F,
                    F.charAt(0) != "#" && !F.match(/^\w+:/) && (F = "../" + F),
                    E = Pe("text:a", E, {
                        "xlink:href": F.replace(/&/g, "&amp;")
                    })
                }
                c.push("          " + Pe("table:table-cell", Pe("text:p", E, {}), S) + `
`)
            }
            c.push(`        </table:table-row>
`)
        }
        return c.push(`      </table:table>
`),
        c.join("")
    }
      , r = function(s, o) {
        s.push(` <office:automatic-styles>
`),
        s.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),
        s.push(`   <number:month number:style="long"/>
`),
        s.push(`   <number:text>/</number:text>
`),
        s.push(`   <number:day number:style="long"/>
`),
        s.push(`   <number:text>/</number:text>
`),
        s.push(`   <number:year/>
`),
        s.push(`  </number:date-style>
`);
        var a = 0;
        o.SheetNames.map(function(l) {
            return o.Sheets[l]
        }).forEach(function(l) {
            if (l && l["!cols"]) {
                for (var u = 0; u < l["!cols"].length; ++u)
                    if (l["!cols"][u]) {
                        var h = l["!cols"][u];
                        if (h.width == null && h.wpx == null && h.wch == null)
                            continue;
                        U7(h),
                        h.ods = a;
                        var d = l["!cols"][u].wpx + "px";
                        s.push('  <style:style style:name="co' + a + `" style:family="table-column">
`),
                        s.push('   <style:table-column-properties fo:break-before="auto" style:column-width="' + d + `"/>
`),
                        s.push(`  </style:style>
`),
                        ++a
                    }
            }
        });
        var c = 0;
        o.SheetNames.map(function(l) {
            return o.Sheets[l]
        }).forEach(function(l) {
            if (l && l["!rows"]) {
                for (var u = 0; u < l["!rows"].length; ++u)
                    if (l["!rows"][u]) {
                        l["!rows"][u].ods = c;
                        var h = l["!rows"][u].hpx + "px";
                        s.push('  <style:style style:name="ro' + c + `" style:family="table-row">
`),
                        s.push('   <style:table-row-properties fo:break-before="auto" style:row-height="' + h + `"/>
`),
                        s.push(`  </style:style>
`),
                        ++c
                    }
            }
        }),
        s.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),
        s.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),
        s.push(`  </style:style>
`),
        s.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),
        s.push(` </office:automatic-styles>
`)
    };
    return function(o, a) {
        var c = [oi]
          , l = C1({
            "xmlns:office": "urn:oasis:names:tc:opendocument:xmlns:office:1.0",
            "xmlns:table": "urn:oasis:names:tc:opendocument:xmlns:table:1.0",
            "xmlns:style": "urn:oasis:names:tc:opendocument:xmlns:style:1.0",
            "xmlns:text": "urn:oasis:names:tc:opendocument:xmlns:text:1.0",
            "xmlns:draw": "urn:oasis:names:tc:opendocument:xmlns:drawing:1.0",
            "xmlns:fo": "urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0",
            "xmlns:xlink": "http://www.w3.org/1999/xlink",
            "xmlns:dc": "http://purl.org/dc/elements/1.1/",
            "xmlns:meta": "urn:oasis:names:tc:opendocument:xmlns:meta:1.0",
            "xmlns:number": "urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0",
            "xmlns:presentation": "urn:oasis:names:tc:opendocument:xmlns:presentation:1.0",
            "xmlns:svg": "urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0",
            "xmlns:chart": "urn:oasis:names:tc:opendocument:xmlns:chart:1.0",
            "xmlns:dr3d": "urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0",
            "xmlns:math": "http://www.w3.org/1998/Math/MathML",
            "xmlns:form": "urn:oasis:names:tc:opendocument:xmlns:form:1.0",
            "xmlns:script": "urn:oasis:names:tc:opendocument:xmlns:script:1.0",
            "xmlns:ooo": "http://openoffice.org/2004/office",
            "xmlns:ooow": "http://openoffice.org/2004/writer",
            "xmlns:oooc": "http://openoffice.org/2004/calc",
            "xmlns:dom": "http://www.w3.org/2001/xml-events",
            "xmlns:xforms": "http://www.w3.org/2002/xforms",
            "xmlns:xsd": "http://www.w3.org/2001/XMLSchema",
            "xmlns:xsi": "http://www.w3.org/2001/XMLSchema-instance",
            "xmlns:sheet": "urn:oasis:names:tc:opendocument:sh33tjs:1.0",
            "xmlns:rpt": "http://openoffice.org/2005/report",
            "xmlns:of": "urn:oasis:names:tc:opendocument:xmlns:of:1.2",
            "xmlns:xhtml": "http://www.w3.org/1999/xhtml",
            "xmlns:grddl": "http://www.w3.org/2003/g/data-view#",
            "xmlns:tableooo": "http://openoffice.org/2009/table",
            "xmlns:drawooo": "http://openoffice.org/2010/draw",
            "xmlns:calcext": "urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0",
            "xmlns:loext": "urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0",
            "xmlns:field": "urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0",
            "xmlns:formx": "urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0",
            "xmlns:css3t": "http://www.w3.org/TR/css3-text/",
            "office:version": "1.2"
        })
          , u = C1({
            "xmlns:config": "urn:oasis:names:tc:opendocument:xmlns:config:1.0",
            "office:mimetype": "application/vnd.oasis.opendocument.spreadsheet"
        });
        a.bookType == "fods" ? (c.push("<office:document" + l + u + `>
`),
        c.push(lC().replace(/office:document-meta/g, "office:meta"))) : c.push("<office:document-content" + l + `>
`),
        r(c, o),
        c.push(`  <office:body>
`),
        c.push(`    <office:spreadsheet>
`);
        for (var h = 0; h != o.SheetNames.length; ++h)
            c.push(i(o.Sheets[o.SheetNames[h]], o, h, a));
        return c.push(`    </office:spreadsheet>
`),
        c.push(`  </office:body>
`),
        a.bookType == "fods" ? c.push("</office:document>") : c.push("</office:document-content>"),
        c.join("")
    }
}();
function KC(e, t) {
    if (t.bookType == "fods")
        return Ew(e, t);
    var n = C7()
      , i = ""
      , r = []
      , s = [];
    return i = "mimetype",
    Tt(n, i, "application/vnd.oasis.opendocument.spreadsheet"),
    i = "content.xml",
    Tt(n, i, Ew(e, t)),
    r.push([i, "text/xml"]),
    s.push([i, "ContentFile"]),
    i = "styles.xml",
    Tt(n, i, M$(e, t)),
    r.push([i, "text/xml"]),
    s.push([i, "StylesFile"]),
    i = "meta.xml",
    Tt(n, i, oi + lC()),
    r.push([i, "text/xml"]),
    s.push([i, "MetadataFile"]),
    i = "manifest.rdf",
    Tt(n, i, GB(s)),
    r.push([i, "application/rdf+xml"]),
    i = "META-INF/manifest.xml",
    Tt(n, i, UB(r)),
    n
}
function c2(e) {
    return new DataView(e.buffer,e.byteOffset,e.byteLength)
}
function k$(e) {
    return typeof TextEncoder < "u" ? new TextEncoder().encode(e) : uo(Da(e))
}
function A$(e, t) {
    e: for (var n = 0; n <= e.length - t.length; ++n) {
        for (var i = 0; i < t.length; ++i)
            if (e[n + i] != t[i])
                continue e;
        return !0
    }
    return !1
}
function $c(e) {
    var t = e.reduce(function(r, s) {
        return r + s.length
    }, 0)
      , n = new Uint8Array(t)
      , i = 0;
    return e.forEach(function(r) {
        n.set(r, i),
        i += r.length
    }),
    n
}
function I$(e, t, n) {
    var i = Math.floor(n == 0 ? 0 : Math.LOG10E * Math.log(Math.abs(n))) + 6176 - 20
      , r = n / Math.pow(10, i - 6176);
    e[t + 15] |= i >> 7,
    e[t + 14] |= (i & 127) << 1;
    for (var s = 0; r >= 1; ++s,
    r /= 256)
        e[t + s] = r & 255;
    e[t + 15] |= n >= 0 ? 0 : 128
}
function E1(e, t) {
    var n = t ? t[0] : 0
      , i = e[n] & 127;
    e: if (e[n++] >= 128 && (i |= (e[n] & 127) << 7,
    e[n++] < 128 || (i |= (e[n] & 127) << 14,
    e[n++] < 128) || (i |= (e[n] & 127) << 21,
    e[n++] < 128) || (i += (e[n] & 127) * Math.pow(2, 28),
    ++n,
    e[n++] < 128) || (i += (e[n] & 127) * Math.pow(2, 35),
    ++n,
    e[n++] < 128) || (i += (e[n] & 127) * Math.pow(2, 42),
    ++n,
    e[n++] < 128)))
        break e;
    return t && (t[0] = n),
    i
}
function Jt(e) {
    var t = new Uint8Array(7);
    t[0] = e & 127;
    var n = 1;
    e: if (e > 127) {
        if (t[n - 1] |= 128,
        t[n] = e >> 7 & 127,
        ++n,
        e <= 16383 || (t[n - 1] |= 128,
        t[n] = e >> 14 & 127,
        ++n,
        e <= 2097151) || (t[n - 1] |= 128,
        t[n] = e >> 21 & 127,
        ++n,
        e <= 268435455) || (t[n - 1] |= 128,
        t[n] = e / 256 >>> 21 & 127,
        ++n,
        e <= 34359738367) || (t[n - 1] |= 128,
        t[n] = e / 65536 >>> 21 & 127,
        ++n,
        e <= 4398046511103))
            break e;
        t[n - 1] |= 128,
        t[n] = e / 16777216 >>> 21 & 127,
        ++n
    }
    return t.slice(0, n)
}
function qu(e) {
    var t = 0
      , n = e[t] & 127;
    e: if (e[t++] >= 128) {
        if (n |= (e[t] & 127) << 7,
        e[t++] < 128 || (n |= (e[t] & 127) << 14,
        e[t++] < 128) || (n |= (e[t] & 127) << 21,
        e[t++] < 128))
            break e;
        n |= (e[t] & 127) << 28
    }
    return n
}
function _i(e) {
    for (var t = [], n = [0]; n[0] < e.length; ) {
        var i = n[0]
          , r = E1(e, n)
          , s = r & 7;
        r = Math.floor(r / 8);
        var o = 0, a;
        if (r == 0)
            break;
        switch (s) {
        case 0:
            {
                for (var c = n[0]; e[n[0]++] >= 128; )
                    ;
                a = e.slice(c, n[0])
            }
            break;
        case 5:
            o = 4,
            a = e.slice(n[0], n[0] + o),
            n[0] += o;
            break;
        case 1:
            o = 8,
            a = e.slice(n[0], n[0] + o),
            n[0] += o;
            break;
        case 2:
            o = E1(e, n),
            a = e.slice(n[0], n[0] + o),
            n[0] += o;
            break;
        case 3:
        case 4:
        default:
            throw new Error("PB Type ".concat(s, " for Field ").concat(r, " at offset ").concat(i))
        }
        var l = {
            data: a,
            type: s
        };
        t[r] == null ? t[r] = [l] : t[r].push(l)
    }
    return t
}
function Vi(e) {
    var t = [];
    return e.forEach(function(n, i) {
        n.forEach(function(r) {
            r.data && (t.push(Jt(i * 8 + r.type)),
            r.type == 2 && t.push(Jt(r.data.length)),
            t.push(r.data))
        })
    }),
    $c(t)
}
function co(e) {
    for (var t, n = [], i = [0]; i[0] < e.length; ) {
        var r = E1(e, i)
          , s = _i(e.slice(i[0], i[0] + r));
        i[0] += r;
        var o = {
            id: qu(s[1][0].data),
            messages: []
        };
        s[2].forEach(function(a) {
            var c = _i(a.data)
              , l = qu(c[3][0].data);
            o.messages.push({
                meta: c,
                data: e.slice(i[0], i[0] + l)
            }),
            i[0] += l
        }),
        (t = s[3]) != null && t[0] && (o.merge = qu(s[3][0].data) >>> 0 > 0),
        n.push(o)
    }
    return n
}
function Bu(e) {
    var t = [];
    return e.forEach(function(n) {
        var i = [];
        i[1] = [{
            data: Jt(n.id),
            type: 0
        }],
        i[2] = [],
        n.merge != null && (i[3] = [{
            data: Jt(+!!n.merge),
            type: 0
        }]);
        var r = [];
        n.messages.forEach(function(o) {
            r.push(o.data),
            o.meta[3] = [{
                type: 0,
                data: Jt(o.data.length)
            }],
            i[2].push({
                data: Vi(o.meta),
                type: 2
            })
        });
        var s = Vi(i);
        t.push(Jt(s.length)),
        t.push(s),
        r.forEach(function(o) {
            return t.push(o)
        })
    }),
    $c(t)
}
function R$(e, t) {
    if (e != 0)
        throw new Error("Unexpected Snappy chunk type ".concat(e));
    for (var n = [0], i = E1(t, n), r = []; n[0] < t.length; ) {
        var s = t[n[0]] & 3;
        if (s == 0) {
            var o = t[n[0]++] >> 2;
            if (o < 60)
                ++o;
            else {
                var a = o - 59;
                o = t[n[0]],
                a > 1 && (o |= t[n[0] + 1] << 8),
                a > 2 && (o |= t[n[0] + 2] << 16),
                a > 3 && (o |= t[n[0] + 3] << 24),
                o >>>= 0,
                o++,
                n[0] += a
            }
            r.push(t.slice(n[0], n[0] + o)),
            n[0] += o;
            continue
        } else {
            var c = 0
              , l = 0;
            if (s == 1 ? (l = (t[n[0]] >> 2 & 7) + 4,
            c = (t[n[0]++] & 224) << 3,
            c |= t[n[0]++]) : (l = (t[n[0]++] >> 2) + 1,
            s == 2 ? (c = t[n[0]] | t[n[0] + 1] << 8,
            n[0] += 2) : (c = (t[n[0]] | t[n[0] + 1] << 8 | t[n[0] + 2] << 16 | t[n[0] + 3] << 24) >>> 0,
            n[0] += 4)),
            r = [$c(r)],
            c == 0)
                throw new Error("Invalid offset 0");
            if (c > r[0].length)
                throw new Error("Invalid offset beyond length");
            if (l >= c)
                for (r.push(r[0].slice(-c)),
                l -= c; l >= r[r.length - 1].length; )
                    r.push(r[r.length - 1]),
                    l -= r[r.length - 1].length;
            r.push(r[0].slice(-c, -c + l))
        }
    }
    var u = $c(r);
    if (u.length != i)
        throw new Error("Unexpected length: ".concat(u.length, " != ").concat(i));
    return u
}
function lo(e) {
    for (var t = [], n = 0; n < e.length; ) {
        var i = e[n++]
          , r = e[n] | e[n + 1] << 8 | e[n + 2] << 16;
        n += 3,
        t.push(R$(i, e.slice(n, n + r))),
        n += r
    }
    if (n !== e.length)
        throw new Error("data is not a valid framed stream!");
    return $c(t)
}
function Uu(e) {
    for (var t = [], n = 0; n < e.length; ) {
        var i = Math.min(e.length - n, 268435455)
          , r = new Uint8Array(4);
        t.push(r);
        var s = Jt(i)
          , o = s.length;
        t.push(s),
        i <= 60 ? (o++,
        t.push(new Uint8Array([i - 1 << 2]))) : i <= 256 ? (o += 2,
        t.push(new Uint8Array([240, i - 1 & 255]))) : i <= 65536 ? (o += 3,
        t.push(new Uint8Array([244, i - 1 & 255, i - 1 >> 8 & 255]))) : i <= 16777216 ? (o += 4,
        t.push(new Uint8Array([248, i - 1 & 255, i - 1 >> 8 & 255, i - 1 >> 16 & 255]))) : i <= 4294967296 && (o += 5,
        t.push(new Uint8Array([252, i - 1 & 255, i - 1 >> 8 & 255, i - 1 >> 16 & 255, i - 1 >>> 24 & 255]))),
        t.push(e.slice(n, n + i)),
        o += i,
        r[0] = 0,
        r[1] = o & 255,
        r[2] = o >> 8 & 255,
        r[3] = o >> 16 & 255,
        n += i
    }
    return $c(t)
}
function g7(e, t) {
    var n = new Uint8Array(32)
      , i = c2(n)
      , r = 12
      , s = 0;
    switch (n[0] = 5,
    e.t) {
    case "n":
        n[1] = 2,
        I$(n, r, e.v),
        s |= 1,
        r += 16;
        break;
    case "b":
        n[1] = 6,
        i.setFloat64(r, e.v ? 1 : 0, !0),
        s |= 2,
        r += 8;
        break;
    case "s":
        if (t.indexOf(e.v) == -1)
            throw new Error("Value ".concat(e.v, " missing from SST!"));
        n[1] = 3,
        i.setUint32(r, t.indexOf(e.v), !0),
        s |= 8,
        r += 4;
        break;
    default:
        throw "unsupported cell type " + e.t
    }
    return i.setUint32(8, s, !0),
    n.slice(0, r)
}
function m7(e, t) {
    var n = new Uint8Array(32)
      , i = c2(n)
      , r = 12
      , s = 0;
    switch (n[0] = 3,
    e.t) {
    case "n":
        n[2] = 2,
        i.setFloat64(r, e.v, !0),
        s |= 32,
        r += 8;
        break;
    case "b":
        n[2] = 6,
        i.setFloat64(r, e.v ? 1 : 0, !0),
        s |= 32,
        r += 8;
        break;
    case "s":
        if (t.indexOf(e.v) == -1)
            throw new Error("Value ".concat(e.v, " missing from SST!"));
        n[2] = 3,
        i.setUint32(r, t.indexOf(e.v), !0),
        s |= 16,
        r += 4;
        break;
    default:
        throw "unsupported cell type " + e.t
    }
    return i.setUint32(4, s, !0),
    n.slice(0, r)
}
function Uc(e) {
    var t = _i(e);
    return E1(t[1][0].data)
}
function D$(e, t, n) {
    var i, r, s, o;
    if (!((i = e[6]) != null && i[0]) || !((r = e[7]) != null && r[0]))
        throw "Mutation only works on post-BNC storages!";
    var a = ((o = (s = e[8]) == null ? void 0 : s[0]) == null ? void 0 : o.data) && qu(e[8][0].data) > 0 || !1;
    if (a)
        throw "Math only works with normal offsets";
    for (var c = 0, l = c2(e[7][0].data), u = 0, h = [], d = c2(e[4][0].data), f = 0, g = [], p = 0; p < t.length; ++p) {
        if (t[p] == null) {
            l.setUint16(p * 2, 65535, !0),
            d.setUint16(p * 2, 65535);
            continue
        }
        l.setUint16(p * 2, u, !0),
        d.setUint16(p * 2, f, !0);
        var v, b;
        switch (typeof t[p]) {
        case "string":
            v = g7({
                t: "s",
                v: t[p]
            }, n),
            b = m7({
                t: "s",
                v: t[p]
            }, n);
            break;
        case "number":
            v = g7({
                t: "n",
                v: t[p]
            }, n),
            b = m7({
                t: "n",
                v: t[p]
            }, n);
            break;
        case "boolean":
            v = g7({
                t: "b",
                v: t[p]
            }, n),
            b = m7({
                t: "b",
                v: t[p]
            }, n);
            break;
        default:
            throw new Error("Unsupported value " + t[p])
        }
        h.push(v),
        u += v.length,
        g.push(b),
        f += b.length,
        ++c
    }
    for (e[2][0].data = Jt(c); p < e[7][0].data.length / 2; ++p)
        l.setUint16(p * 2, 65535, !0),
        d.setUint16(p * 2, 65535, !0);
    return e[6][0].data = $c(h),
    e[3][0].data = $c(g),
    c
}
function N$(e, t) {
    if (!t || !t.numbers)
        throw new Error("Must pass a `numbers` option -- check the README");
    var n = e.Sheets[e.SheetNames[0]];
    e.SheetNames.length > 1 && console.error("The Numbers writer currently writes only the first table");
    var i = xs(n["!ref"]);
    i.s.r = i.s.c = 0;
    var r = !1;
    i.e.c > 9 && (r = !0,
    i.e.c = 9),
    i.e.r > 49 && (r = !0,
    i.e.r = 49),
    r && console.error("The Numbers writer is currently limited to ".concat(si(i)));
    var s = l2(n, {
        range: i,
        header: 1
    })
      , o = ["~Sh33tJ5~"];
    s.forEach(function(L) {
        return L.forEach(function(U) {
            typeof U == "string" && o.push(U)
        })
    });
    var a = {}
      , c = []
      , l = nn.read(t.numbers, {
        type: "base64"
    });
    l.FileIndex.map(function(L, U) {
        return [L, l.FullPaths[U]]
    }).forEach(function(L) {
        var U = L[0]
          , te = L[1];
        if (U.type == 2 && U.name.match(/\.iwa/)) {
            var Ce = U.content
              , Ve = lo(Ce)
              , De = co(Ve);
            De.forEach(function(ge) {
                c.push(ge.id),
                a[ge.id] = {
                    deps: [],
                    location: te,
                    type: qu(ge.messages[0].meta[1][0].data)
                }
            })
        }
    }),
    c.sort(function(L, U) {
        return L - U
    });
    var u = c.filter(function(L) {
        return L > 1
    }).map(function(L) {
        return [L, Jt(L)]
    });
    l.FileIndex.map(function(L, U) {
        return [L, l.FullPaths[U]]
    }).forEach(function(L) {
        var U = L[0]
          , te = L[1];
        if (U.name.match(/\.iwa/)) {
            var Ce = co(lo(U.content));
            Ce.forEach(function(Ve) {
                Ve.messages.forEach(function(De) {
                    u.forEach(function(ge) {
                        Ve.messages.some(function(kt) {
                            return qu(kt.meta[1][0].data) != 11006 && A$(kt.data, ge[1])
                        }) && a[ge[0]].deps.push(Ve.id)
                    })
                })
            })
        }
    });
    function h() {
        for (var L = 927262; L < 2e6; ++L)
            if (!a[L])
                return L;
        throw new Error("Too many messages")
    }
    for (var d = nn.find(l, a[1].location), f = co(lo(d.content)), g, p = 0; p < f.length; ++p) {
        var v = f[p];
        v.id == 1 && (g = v)
    }
    var b = Uc(_i(g.messages[0].data)[1][0].data);
    for (d = nn.find(l, a[b].location),
    f = co(lo(d.content)),
    p = 0; p < f.length; ++p)
        v = f[p],
        v.id == b && (g = v);
    for (b = Uc(_i(g.messages[0].data)[2][0].data),
    d = nn.find(l, a[b].location),
    f = co(lo(d.content)),
    p = 0; p < f.length; ++p)
        v = f[p],
        v.id == b && (g = v);
    for (b = Uc(_i(g.messages[0].data)[2][0].data),
    d = nn.find(l, a[b].location),
    f = co(lo(d.content)),
    p = 0; p < f.length; ++p)
        v = f[p],
        v.id == b && (g = v);
    var S = _i(g.messages[0].data);
    {
        S[6][0].data = Jt(i.e.r + 1),
        S[7][0].data = Jt(i.e.c + 1);
        var w = Uc(S[46][0].data)
          , k = nn.find(l, a[w].location)
          , B = co(lo(k.content));
        {
            for (var N = 0; N < B.length && B[N].id != w; ++N)
                ;
            if (B[N].id != w)
                throw "Bad ColumnRowUIDMapArchive";
            var E = _i(B[N].messages[0].data);
            E[1] = [],
            E[2] = [],
            E[3] = [];
            for (var F = 0; F <= i.e.c; ++F) {
                var O = [];
                O[1] = O[2] = [{
                    type: 0,
                    data: Jt(F + 420690)
                }],
                E[1].push({
                    type: 2,
                    data: Vi(O)
                }),
                E[2].push({
                    type: 0,
                    data: Jt(F)
                }),
                E[3].push({
                    type: 0,
                    data: Jt(F)
                })
            }
            E[4] = [],
            E[5] = [],
            E[6] = [];
            for (var V = 0; V <= i.e.r; ++V)
                O = [],
                O[1] = O[2] = [{
                    type: 0,
                    data: Jt(V + 726270)
                }],
                E[4].push({
                    type: 2,
                    data: Vi(O)
                }),
                E[5].push({
                    type: 0,
                    data: Jt(V)
                }),
                E[6].push({
                    type: 0,
                    data: Jt(V)
                });
            B[N].messages[0].data = Vi(E)
        }
        k.content = Uu(Bu(B)),
        k.size = k.content.length,
        delete S[46];
        var X = _i(S[4][0].data);
        {
            X[7][0].data = Jt(i.e.r + 1);
            var x = _i(X[1][0].data)
              , j = Uc(x[2][0].data);
            k = nn.find(l, a[j].location),
            B = co(lo(k.content));
            {
                if (B[0].id != j)
                    throw "Bad HeaderStorageBucket";
                var fe = _i(B[0].messages[0].data);
                for (V = 0; V < s.length; ++V) {
                    var he = _i(fe[2][0].data);
                    he[1][0].data = Jt(V),
                    he[4][0].data = Jt(s[V].length),
                    fe[2][V] = {
                        type: fe[2][0].type,
                        data: Vi(he)
                    }
                }
                B[0].messages[0].data = Vi(fe)
            }
            k.content = Uu(Bu(B)),
            k.size = k.content.length;
            var Re = Uc(X[2][0].data);
            k = nn.find(l, a[Re].location),
            B = co(lo(k.content));
            {
                if (B[0].id != Re)
                    throw "Bad HeaderStorageBucket";
                for (fe = _i(B[0].messages[0].data),
                F = 0; F <= i.e.c; ++F)
                    he = _i(fe[2][0].data),
                    he[1][0].data = Jt(F),
                    he[4][0].data = Jt(i.e.r + 1),
                    fe[2][F] = {
                        type: fe[2][0].type,
                        data: Vi(he)
                    };
                B[0].messages[0].data = Vi(fe)
            }
            k.content = Uu(Bu(B)),
            k.size = k.content.length;
            var Xe = Uc(X[4][0].data);
            (function() {
                for (var L = nn.find(l, a[Xe].location), U = co(lo(L.content)), te, Ce = 0; Ce < U.length; ++Ce) {
                    var Ve = U[Ce];
                    Ve.id == Xe && (te = Ve)
                }
                var De = _i(te.messages[0].data);
                {
                    De[3] = [];
                    var ge = [];
                    o.forEach(function(fn, Ot) {
                        ge[1] = [{
                            type: 0,
                            data: Jt(Ot)
                        }],
                        ge[2] = [{
                            type: 0,
                            data: Jt(1)
                        }],
                        ge[3] = [{
                            type: 2,
                            data: k$(fn)
                        }],
                        De[3].push({
                            type: 2,
                            data: Vi(ge)
                        })
                    })
                }
                te.messages[0].data = Vi(De);
                var kt = Bu(U)
                  , xt = Uu(kt);
                L.content = xt,
                L.size = L.content.length
            }
            )();
            var pt = _i(X[3][0].data);
            {
                var it = pt[1][0];
                delete pt[2];
                var de = _i(it.data);
                {
                    var Ue = Uc(de[2][0].data);
                    (function() {
                        for (var L = nn.find(l, a[Ue].location), U = co(lo(L.content)), te, Ce = 0; Ce < U.length; ++Ce) {
                            var Ve = U[Ce];
                            Ve.id == Ue && (te = Ve)
                        }
                        var De = _i(te.messages[0].data);
                        {
                            delete De[6],
                            delete pt[7];
                            var ge = new Uint8Array(De[5][0].data);
                            De[5] = [];
                            for (var kt = 0, xt = 0; xt <= i.e.r; ++xt) {
                                var fn = _i(ge);
                                kt += D$(fn, s[xt], o),
                                fn[1][0].data = Jt(xt),
                                De[5].push({
                                    data: Vi(fn),
                                    type: 2
                                })
                            }
                            De[1] = [{
                                type: 0,
                                data: Jt(i.e.c + 1)
                            }],
                            De[2] = [{
                                type: 0,
                                data: Jt(i.e.r + 1)
                            }],
                            De[3] = [{
                                type: 0,
                                data: Jt(kt)
                            }],
                            De[4] = [{
                                type: 0,
                                data: Jt(i.e.r + 1)
                            }]
                        }
                        te.messages[0].data = Vi(De);
                        var Ot = Bu(U)
                          , xi = Uu(Ot);
                        L.content = xi,
                        L.size = L.content.length
                    }
                    )()
                }
                it.data = Vi(de)
            }
            X[3][0].data = Vi(pt)
        }
        S[4][0].data = Vi(X)
    }
    g.messages[0].data = Vi(S);
    var A = Bu(f)
      , q = Uu(A);
    return d.content = q,
    d.size = d.content.length,
    l
}
function F$(e) {
    return function(n) {
        for (var i = 0; i != e.length; ++i) {
            var r = e[i];
            n[r[0]] === void 0 && (n[r[0]] = r[1]),
            r[2] === "n" && (n[r[0]] = Number(n[r[0]]))
        }
    }
}
function $7(e) {
    F$([["cellDates", !1], ["bookSST", !1], ["bookType", "xlsx"], ["compression", !1], ["WTF", !1]])(e)
}
function L$(e, t) {
    return t.bookType == "ods" ? KC(e, t) : t.bookType == "numbers" ? N$(e, t) : t.bookType == "xlsb" ? B$(e, t) : U$(e, t)
}
function B$(e, t) {
    Gu = 1024,
    e && !e.SSF && (e.SSF = Jr(Bn)),
    e && e.SSF && (d2(),
    h2(e.SSF),
    t.revssf = f2(e.SSF),
    t.revssf[e.SSF[65535]] = 0,
    t.ssf = e.SSF),
    t.rels = {},
    t.wbrels = {},
    t.Strings = [],
    t.Strings.Count = 0,
    t.Strings.Unique = 0,
    y1 ? t.revStrings = new Map : (t.revStrings = {},
    t.revStrings.foo = [],
    delete t.revStrings.foo);
    var n = t.bookType == "xlsb" ? "bin" : "xml"
      , i = AC.indexOf(t.bookType) > -1
      , r = oC();
    $7(t = t || {});
    var s = C7()
      , o = ""
      , a = 0;
    if (t.cellXfs = [],
    jc(t.cellXfs, {}, {
        revssf: {
            General: 0
        }
    }),
    e.Props || (e.Props = {}),
    o = "docProps/core.xml",
    Tt(s, o, uC(e.Props, t)),
    r.coreprops.push(o),
    Zt(t.rels, 2, o, qt.CORE_PROPS),
    o = "docProps/app.xml",
    !(e.Props && e.Props.SheetNames))
        if (!e.Workbook || !e.Workbook.Sheets)
            e.Props.SheetNames = e.SheetNames;
        else {
            for (var c = [], l = 0; l < e.SheetNames.length; ++l)
                (e.Workbook.Sheets[l] || {}).Hidden != 2 && c.push(e.SheetNames[l]);
            e.Props.SheetNames = c
        }
    for (e.Props.Worksheets = e.Props.SheetNames.length,
    Tt(s, o, dC(e.Props, t)),
    r.extprops.push(o),
    Zt(t.rels, 3, o, qt.EXT_PROPS),
    e.Custprops !== e.Props && zi(e.Custprops || {}).length > 0 && (o = "docProps/custom.xml",
    Tt(s, o, fC(e.Custprops, t)),
    r.custprops.push(o),
    Zt(t.rels, 4, o, qt.CUST_PROPS)),
    a = 1; a <= e.SheetNames.length; ++a) {
        var u = {
            "!id": {}
        }
          , h = e.Sheets[e.SheetNames[a - 1]]
          , d = (h || {})["!type"] || "sheet";
        switch (d) {
        case "chart":
        default:
            o = "xl/worksheets/sheet" + a + "." + n,
            Tt(s, o, GW(a - 1, o, t, e, u)),
            r.sheets.push(o),
            Zt(t.wbrels, -1, "worksheets/sheet" + a + "." + n, qt.WS[0])
        }
        if (h) {
            var f = h["!comments"]
              , g = !1
              , p = "";
            f && f.length > 0 && (p = "xl/comments" + a + "." + n,
            Tt(s, p, $W(f, p, t)),
            r.comments.push(p),
            Zt(u, -1, "../comments" + a + "." + n, qt.CMNT),
            g = !0),
            h["!legacy"] && g && Tt(s, "xl/drawings/vmlDrawing" + a + ".vml", MC(a, h["!comments"])),
            delete h["!comments"],
            delete h["!legacy"]
        }
        u["!id"].rId1 && Tt(s, cC(o), $u(u))
    }
    return t.Strings != null && t.Strings.length > 0 && (o = "xl/sharedStrings." + n,
    Tt(s, o, WW(t.Strings, o, t)),
    r.strs.push(o),
    Zt(t.wbrels, -1, "sharedStrings." + n, qt.SST)),
    o = "xl/workbook." + n,
    Tt(s, o, HW(e, o, t)),
    r.workbooks.push(o),
    Zt(t.rels, 1, o, qt.WB),
    o = "xl/theme/theme1.xml",
    Tt(s, o, OC(e.Themes, t)),
    r.themes.push(o),
    Zt(t.wbrels, -1, "theme/theme1.xml", qt.THEME),
    o = "xl/styles." + n,
    Tt(s, o, VW(e, o, t)),
    r.styles.push(o),
    Zt(t.wbrels, -1, "styles." + n, qt.STY),
    e.vbaraw && i && (o = "xl/vbaProject.bin",
    Tt(s, o, e.vbaraw),
    r.vba.push(o),
    Zt(t.wbrels, -1, "vbaProject.bin", qt.VBA)),
    o = "xl/metadata." + n,
    Tt(s, o, jW(o)),
    r.metadata.push(o),
    Zt(t.wbrels, -1, "metadata." + n, qt.XLMETA),
    Tt(s, "[Content_Types].xml", aC(r, t)),
    Tt(s, "_rels/.rels", $u(t.rels)),
    Tt(s, "xl/_rels/workbook." + n + ".rels", $u(t.wbrels)),
    delete t.revssf,
    delete t.ssf,
    s
}
function U$(e, t) {
    Gu = 1024,
    e && !e.SSF && (e.SSF = Jr(Bn)),
    e && e.SSF && (d2(),
    h2(e.SSF),
    t.revssf = f2(e.SSF),
    t.revssf[e.SSF[65535]] = 0,
    t.ssf = e.SSF),
    t.rels = {},
    t.wbrels = {},
    t.Strings = [],
    t.Strings.Count = 0,
    t.Strings.Unique = 0,
    y1 ? t.revStrings = new Map : (t.revStrings = {},
    t.revStrings.foo = [],
    delete t.revStrings.foo);
    var n = "xml"
      , i = AC.indexOf(t.bookType) > -1
      , r = oC();
    $7(t = t || {});
    var s = C7()
      , o = ""
      , a = 0;
    if (t.cellXfs = [],
    jc(t.cellXfs, {}, {
        revssf: {
            General: 0
        }
    }),
    e.Props || (e.Props = {}),
    o = "docProps/core.xml",
    Tt(s, o, uC(e.Props, t)),
    r.coreprops.push(o),
    Zt(t.rels, 2, o, qt.CORE_PROPS),
    o = "docProps/app.xml",
    !(e.Props && e.Props.SheetNames))
        if (!e.Workbook || !e.Workbook.Sheets)
            e.Props.SheetNames = e.SheetNames;
        else {
            for (var c = [], l = 0; l < e.SheetNames.length; ++l)
                (e.Workbook.Sheets[l] || {}).Hidden != 2 && c.push(e.SheetNames[l]);
            e.Props.SheetNames = c
        }
    e.Props.Worksheets = e.Props.SheetNames.length,
    Tt(s, o, dC(e.Props, t)),
    r.extprops.push(o),
    Zt(t.rels, 3, o, qt.EXT_PROPS),
    e.Custprops !== e.Props && zi(e.Custprops || {}).length > 0 && (o = "docProps/custom.xml",
    Tt(s, o, fC(e.Custprops, t)),
    r.custprops.push(o),
    Zt(t.rels, 4, o, qt.CUST_PROPS));
    var u = ["SheetJ5"];
    for (t.tcid = 0,
    a = 1; a <= e.SheetNames.length; ++a) {
        var h = {
            "!id": {}
        }
          , d = e.Sheets[e.SheetNames[a - 1]]
          , f = (d || {})["!type"] || "sheet";
        switch (f) {
        case "chart":
        default:
            o = "xl/worksheets/sheet" + a + "." + n,
            Tt(s, o, HC(a - 1, t, e, h)),
            r.sheets.push(o),
            Zt(t.wbrels, -1, "worksheets/sheet" + a + "." + n, qt.WS[0])
        }
        if (d) {
            var g = d["!comments"]
              , p = !1
              , v = "";
            if (g && g.length > 0) {
                var b = !1;
                g.forEach(function(S) {
                    S[1].forEach(function(w) {
                        w.T == !0 && (b = !0)
                    })
                }),
                b && (v = "xl/threadedComments/threadedComment" + a + "." + n,
                Tt(s, v, mH(g, u, t)),
                r.threadedcomments.push(v),
                Zt(h, -1, "../threadedComments/threadedComment" + a + "." + n, qt.TCMNT)),
                v = "xl/comments" + a + "." + n,
                Tt(s, v, kC(g, t)),
                r.comments.push(v),
                Zt(h, -1, "../comments" + a + "." + n, qt.CMNT),
                p = !0
            }
            d["!legacy"] && p && Tt(s, "xl/drawings/vmlDrawing" + a + ".vml", MC(a, d["!comments"])),
            delete d["!comments"],
            delete d["!legacy"]
        }
        h["!id"].rId1 && Tt(s, cC(o), $u(h))
    }
    return t.Strings != null && t.Strings.length > 0 && (o = "xl/sharedStrings." + n,
    Tt(s, o, SC(t.Strings, t)),
    r.strs.push(o),
    Zt(t.wbrels, -1, "sharedStrings." + n, qt.SST)),
    o = "xl/workbook." + n,
    Tt(s, o, WC(e, t)),
    r.workbooks.push(o),
    Zt(t.rels, 1, o, qt.WB),
    o = "xl/theme/theme1.xml",
    Tt(s, o, OC(e.Themes, t)),
    r.themes.push(o),
    Zt(t.wbrels, -1, "theme/theme1.xml", qt.THEME),
    o = "xl/styles." + n,
    Tt(s, o, EC(e, t)),
    r.styles.push(o),
    Zt(t.wbrels, -1, "styles." + n, qt.STY),
    e.vbaraw && i && (o = "xl/vbaProject.bin",
    Tt(s, o, e.vbaraw),
    r.vba.push(o),
    Zt(t.wbrels, -1, "vbaProject.bin", qt.VBA)),
    o = "xl/metadata." + n,
    Tt(s, o, PC()),
    r.metadata.push(o),
    Zt(t.wbrels, -1, "metadata." + n, qt.XLMETA),
    u.length > 1 && (o = "xl/persons/person.xml",
    Tt(s, o, vH(u, t)),
    r.people.push(o),
    Zt(t.wbrels, -1, "persons/person.xml", qt.PEOPLE)),
    Tt(s, "[Content_Types].xml", aC(r, t)),
    Tt(s, "_rels/.rels", $u(t.rels)),
    Tt(s, "xl/_rels/workbook." + n + ".rels", $u(t.wbrels)),
    delete t.revssf,
    delete t.ssf,
    s
}
function H$(e, t) {
    var n = "";
    switch ((t || {}).type || "base64") {
    case "buffer":
        return [e[0], e[1], e[2], e[3], e[4], e[5], e[6], e[7]];
    case "base64":
        n = Ba(e.slice(0, 12));
        break;
    case "binary":
        n = e;
        break;
    case "array":
        return [e[0], e[1], e[2], e[3], e[4], e[5], e[6], e[7]];
    default:
        throw new Error("Unrecognized type " + (t && t.type || "undefined"))
    }
    return [n.charCodeAt(0), n.charCodeAt(1), n.charCodeAt(2), n.charCodeAt(3), n.charCodeAt(4), n.charCodeAt(5), n.charCodeAt(6), n.charCodeAt(7)]
}
function YC(e, t) {
    switch (t.type) {
    case "base64":
    case "binary":
        break;
    case "buffer":
    case "array":
        t.type = "";
        break;
    case "file":
        return P1(t.file, nn.write(e, {
            type: zt ? "buffer" : ""
        }));
    case "string":
        throw new Error("'string' output type invalid for '" + t.bookType + "' files");
    default:
        throw new Error("Unrecognized type " + t.type)
    }
    return nn.write(e, t)
}
function G$(e, t) {
    var n = Jr(t || {})
      , i = L$(e, n);
    return V$(i, n)
}
function V$(e, t) {
    var n = {}
      , i = zt ? "nodebuffer" : typeof Uint8Array < "u" ? "array" : "string";
    if (t.compression && (n.compression = "DEFLATE"),
    t.password)
        n.type = i;
    else
        switch (t.type) {
        case "base64":
            n.type = "base64";
            break;
        case "binary":
            n.type = "string";
            break;
        case "string":
            throw new Error("'string' output type invalid for '" + t.bookType + "' files");
        case "buffer":
        case "file":
            n.type = i;
            break;
        default:
            throw new Error("Unrecognized type " + t.type)
        }
    var r = e.FullPaths ? nn.write(e, {
        fileType: "zip",
        type: {
            nodebuffer: "buffer",
            string: "binary"
        }[n.type] || n.type,
        compression: !!t.compression
    }) : e.generate(n);
    if (typeof Deno < "u" && typeof r == "string") {
        if (t.type == "binary" || t.type == "base64")
            return r;
        r = new Uint8Array(u2(r))
    }
    return t.password && typeof encrypt_agile < "u" ? YC(encrypt_agile(r, t.password), t) : t.type === "file" ? P1(t.file, r) : t.type == "string" ? g1(r) : r
}
function W$(e, t) {
    var n = t || {}
      , i = s$(e, n);
    return YC(i, n)
}
function Qo(e, t, n) {
    n || (n = "");
    var i = n + e;
    switch (t.type) {
    case "base64":
        return x1(Da(i));
    case "binary":
        return Da(i);
    case "string":
        return e;
    case "file":
        return P1(t.file, i, "utf8");
    case "buffer":
        return zt ? Ha(i, "utf8") : typeof TextEncoder < "u" ? new TextEncoder().encode(i) : Qo(i, {
            type: "binary"
        }).split("").map(function(r) {
            return r.charCodeAt(0)
        })
    }
    throw new Error("Unrecognized type " + t.type)
}
function $$(e, t) {
    switch (t.type) {
    case "base64":
        return x1(e);
    case "binary":
        return e;
    case "string":
        return e;
    case "file":
        return P1(t.file, e, "binary");
    case "buffer":
        return zt ? Ha(e, "binary") : e.split("").map(function(n) {
            return n.charCodeAt(0)
        })
    }
    throw new Error("Unrecognized type " + t.type)
}
function Y3(e, t) {
    switch (t.type) {
    case "string":
    case "base64":
    case "binary":
        for (var n = "", i = 0; i < e.length; ++i)
            n += String.fromCharCode(e[i]);
        return t.type == "base64" ? x1(n) : t.type == "string" ? g1(n) : n;
    case "file":
        return P1(t.file, e);
    case "buffer":
        return e;
    default:
        throw new Error("Unrecognized type " + t.type)
    }
}
function QC(e, t) {
    mL(),
    MW(e);
    var n = Jr(t || {});
    if (n.cellStyles && (n.cellNF = !0,
    n.sheetStubs = !0),
    n.type == "array") {
        n.type = "binary";
        var i = QC(e, n);
        return n.type = "array",
        u2(i)
    }
    var r = 0;
    if (n.sheet && (typeof n.sheet == "number" ? r = n.sheet : r = e.SheetNames.indexOf(n.sheet),
    !e.SheetNames[r]))
        throw new Error("Sheet not found: " + n.sheet + " : " + typeof n.sheet);
    switch (n.bookType || "xlsb") {
    case "xml":
    case "xlml":
        return Qo(i$(e, n), n);
    case "slk":
    case "sylk":
        return Qo(TU.from_sheet(e.Sheets[e.SheetNames[r]], n), n);
    case "htm":
    case "html":
        return Qo(qC(e.Sheets[e.SheetNames[r]], n), n);
    case "txt":
        return $$(ZC(e.Sheets[e.SheetNames[r]], n), n);
    case "csv":
        return Qo(j7(e.Sheets[e.SheetNames[r]], n), n, "\uFEFF");
    case "dif":
        return Qo(OU.from_sheet(e.Sheets[e.SheetNames[r]], n), n);
    case "dbf":
        return Y3(EU.from_sheet(e.Sheets[e.SheetNames[r]], n), n);
    case "prn":
        return Qo(PU.from_sheet(e.Sheets[e.SheetNames[r]], n), n);
    case "rtf":
        return Qo(NU.from_sheet(e.Sheets[e.SheetNames[r]], n), n);
    case "eth":
        return Qo(bC.from_sheet(e.Sheets[e.SheetNames[r]], n), n);
    case "fods":
        return Qo(KC(e, n), n);
    case "wk1":
        return Y3(_w.sheet_to_wk1(e.Sheets[e.SheetNames[r]], n), n);
    case "wk3":
        return Y3(_w.book_to_wk3(e, n), n);
    case "biff2":
        n.biff || (n.biff = 2);
    case "biff3":
        n.biff || (n.biff = 3);
    case "biff4":
        return n.biff || (n.biff = 4),
        Y3(jC(e, n), n);
    case "biff5":
        n.biff || (n.biff = 5);
    case "biff8":
    case "xla":
    case "xls":
        return n.biff || (n.biff = 8),
        W$(e, n);
    case "xlsx":
    case "xlsm":
    case "xlam":
    case "xlsb":
    case "numbers":
    case "ods":
        return G$(e, n);
    default:
        throw new Error("Unrecognized bookType |" + n.bookType + "|")
    }
}
function j$(e) {
    if (!e.bookType) {
        var t = {
            xls: "biff8",
            htm: "html",
            slk: "sylk",
            socialcalc: "eth",
            Sh33tJS: "WTF"
        }
          , n = e.file.slice(e.file.lastIndexOf(".")).toLowerCase();
        n.match(/^\.[a-z]+$/) && (e.bookType = n.slice(1)),
        e.bookType = t[e.bookType] || e.bookType
    }
}
function JC(e, t, n) {
    var i = n || {};
    return i.type = "file",
    i.file = t,
    j$(i),
    QC(e, i)
}
function q$(e, t, n, i, r, s, o, a) {
    var c = qi(n)
      , l = a.defval
      , u = a.raw || !Object.prototype.hasOwnProperty.call(a, "raw")
      , h = !0
      , d = r === 1 ? [] : {};
    if (r !== 1)
        if (Object.defineProperty)
            try {
                Object.defineProperty(d, "__rowNum__", {
                    value: n,
                    enumerable: !1
                })
            } catch {
                d.__rowNum__ = n
            }
        else
            d.__rowNum__ = n;
    if (!o || e[n])
        for (var f = t.s.c; f <= t.e.c; ++f) {
            var g = o ? e[n][f] : e[i[f] + c];
            if (g === void 0 || g.t === void 0) {
                if (l === void 0)
                    continue;
                s[f] != null && (d[s[f]] = l);
                continue
            }
            var p = g.v;
            switch (g.t) {
            case "z":
                if (p == null)
                    break;
                continue;
            case "e":
                p = p == 0 ? null : void 0;
                break;
            case "s":
            case "d":
            case "b":
            case "n":
                break;
            default:
                throw new Error("unrecognized type " + g.t)
            }
            if (s[f] != null) {
                if (p == null)
                    if (g.t == "e" && p === null)
                        d[s[f]] = null;
                    else if (l !== void 0)
                        d[s[f]] = l;
                    else if (u && p === null)
                        d[s[f]] = null;
                    else
                        continue;
                else
                    d[s[f]] = u && (g.t !== "n" || g.t === "n" && a.rawNumbers !== !1) ? p : Ua(g, p, a);
                p != null && (h = !1)
            }
        }
    return {
        row: d,
        isempty: h
    }
}
function l2(e, t) {
    if (e == null || e["!ref"] == null)
        return [];
    var n = {
        t: "n",
        v: 0
    }
      , i = 0
      , r = 1
      , s = []
      , o = 0
      , a = ""
      , c = {
        s: {
            r: 0,
            c: 0
        },
        e: {
            r: 0,
            c: 0
        }
    }
      , l = t || {}
      , u = l.range != null ? l.range : e["!ref"];
    switch (l.header === 1 ? i = 1 : l.header === "A" ? i = 2 : Array.isArray(l.header) ? i = 3 : l.header == null && (i = 0),
    typeof u) {
    case "string":
        c = bn(u);
        break;
    case "number":
        c = bn(e["!ref"]),
        c.s.r = u;
        break;
    default:
        c = u
    }
    i > 0 && (r = 0);
    var h = qi(c.s.r)
      , d = []
      , f = []
      , g = 0
      , p = 0
      , v = Array.isArray(e)
      , b = c.s.r
      , S = 0
      , w = {};
    v && !e[b] && (e[b] = []);
    var k = l.skipHidden && e["!cols"] || []
      , B = l.skipHidden && e["!rows"] || [];
    for (S = c.s.c; S <= c.e.c; ++S)
        if (!(k[S] || {}).hidden)
            switch (d[S] = lr(S),
            n = v ? e[b][S] : e[d[S] + h],
            i) {
            case 1:
                s[S] = S - c.s.c;
                break;
            case 2:
                s[S] = d[S];
                break;
            case 3:
                s[S] = l.header[S - c.s.c];
                break;
            default:
                if (n == null && (n = {
                    w: "__EMPTY",
                    t: "s"
                }),
                a = o = Ua(n, null, l),
                p = w[o] || 0,
                !p)
                    w[o] = 1;
                else {
                    do
                        a = o + "_" + p++;
                    while (w[a]);
                    w[o] = p,
                    w[a] = 1
                }
                s[S] = a
            }
    for (b = c.s.r + r; b <= c.e.r; ++b)
        if (!(B[b] || {}).hidden) {
            var N = q$(e, c, b, d, i, s, v, l);
            (N.isempty === !1 || (i === 1 ? l.blankrows !== !1 : l.blankrows)) && (f[g++] = N.row)
        }
    return f.length = g,
    f
}
var Tw = /"/g;
function z$(e, t, n, i, r, s, o, a) {
    for (var c = !0, l = [], u = "", h = qi(n), d = t.s.c; d <= t.e.c; ++d)
        if (i[d]) {
            var f = a.dense ? (e[n] || [])[d] : e[i[d] + h];
            if (f == null)
                u = "";
            else if (f.v != null) {
                c = !1,
                u = "" + (a.rawNumbers && f.t == "n" ? f.v : Ua(f, null, a));
                for (var g = 0, p = 0; g !== u.length; ++g)
                    if ((p = u.charCodeAt(g)) === r || p === s || p === 34 || a.forceQuotes) {
                        u = '"' + u.replace(Tw, '""') + '"';
                        break
                    }
                u == "ID" && (u = '"ID"')
            } else
                f.f != null && !f.F ? (c = !1,
                u = "=" + f.f,
                u.indexOf(",") >= 0 && (u = '"' + u.replace(Tw, '""') + '"')) : u = "";
            l.push(u)
        }
    return a.blankrows === !1 && c ? null : l.join(o)
}
function j7(e, t) {
    var n = []
      , i = t ?? {};
    if (e == null || e["!ref"] == null)
        return "";
    var r = bn(e["!ref"])
      , s = i.FS !== void 0 ? i.FS : ","
      , o = s.charCodeAt(0)
      , a = i.RS !== void 0 ? i.RS : `
`
      , c = a.charCodeAt(0)
      , l = new RegExp((s == "|" ? "\\|" : s) + "+$")
      , u = ""
      , h = [];
    i.dense = Array.isArray(e);
    for (var d = i.skipHidden && e["!cols"] || [], f = i.skipHidden && e["!rows"] || [], g = r.s.c; g <= r.e.c; ++g)
        (d[g] || {}).hidden || (h[g] = lr(g));
    for (var p = 0, v = r.s.r; v <= r.e.r; ++v)
        (f[v] || {}).hidden || (u = z$(e, r, v, h, o, c, s, i),
        u != null && (i.strip && (u = u.replace(l, "")),
        (u || i.blankrows !== !1) && n.push((p++ ? a : "") + u)));
    return delete i.dense,
    n.join("")
}
function ZC(e, t) {
    t || (t = {}),
    t.FS = "	",
    t.RS = `
`;
    var n = j7(e, t);
    if (typeof un > "u" || t.type == "string")
        return n;
    var i = un.utils.encode(1200, n, "str");
    return "\xFF\xFE" + i
}
function X$(e) {
    var t = "", n, i = "";
    if (e == null || e["!ref"] == null)
        return [];
    var r = bn(e["!ref"]), s = "", o = [], a, c = [], l = Array.isArray(e);
    for (a = r.s.c; a <= r.e.c; ++a)
        o[a] = lr(a);
    for (var u = r.s.r; u <= r.e.r; ++u)
        for (s = qi(u),
        a = r.s.c; a <= r.e.c; ++a)
            if (t = o[a] + s,
            n = l ? (e[u] || [])[a] : e[t],
            i = "",
            n !== void 0) {
                if (n.F != null) {
                    if (t = n.F,
                    !n.f)
                        continue;
                    i = n.f,
                    t.indexOf(":") == -1 && (t = t + ":" + t)
                }
                if (n.f != null)
                    i = n.f;
                else {
                    if (n.t == "z")
                        continue;
                    if (n.t == "n" && n.v != null)
                        i = "" + n.v;
                    else if (n.t == "b")
                        i = n.v ? "TRUE" : "FALSE";
                    else if (n.w !== void 0)
                        i = "'" + n.w;
                    else {
                        if (n.v === void 0)
                            continue;
                        n.t == "s" ? i = "'" + n.v : i = "" + n.v
                    }
                }
                c[c.length] = t + "=" + i
            }
    return c
}
function eE(e, t, n) {
    var i = n || {}
      , r = +!i.skipHeader
      , s = e || {}
      , o = 0
      , a = 0;
    if (s && i.origin != null)
        if (typeof i.origin == "number")
            o = i.origin;
        else {
            var c = typeof i.origin == "string" ? Ii(i.origin) : i.origin;
            o = c.r,
            a = c.c
        }
    var l, u = {
        s: {
            c: 0,
            r: 0
        },
        e: {
            c: a,
            r: o + t.length - 1 + r
        }
    };
    if (s["!ref"]) {
        var h = bn(s["!ref"]);
        u.e.c = Math.max(u.e.c, h.e.c),
        u.e.r = Math.max(u.e.r, h.e.r),
        o == -1 && (o = h.e.r + 1,
        u.e.r = o + t.length - 1 + r)
    } else
        o == -1 && (o = 0,
        u.e.r = t.length - 1 + r);
    var d = i.header || []
      , f = 0;
    t.forEach(function(p, v) {
        zi(p).forEach(function(b) {
            (f = d.indexOf(b)) == -1 && (d[f = d.length] = b);
            var S = p[b]
              , w = "z"
              , k = ""
              , B = tn({
                c: a + f,
                r: o + v + r
            });
            l = T1(s, B),
            S && typeof S == "object" && !(S instanceof Date) ? s[B] = S : (typeof S == "number" ? w = "n" : typeof S == "boolean" ? w = "b" : typeof S == "string" ? w = "s" : S instanceof Date ? (w = "d",
            i.cellDates || (w = "n",
            S = Qr(S)),
            k = i.dateNF || Bn[14]) : S === null && i.nullError && (w = "e",
            S = 0),
            l ? (l.t = w,
            l.v = S,
            delete l.w,
            delete l.R,
            k && (l.z = k)) : s[B] = l = {
                t: w,
                v: S
            },
            k && (l.z = k))
        })
    }),
    u.e.c = Math.max(u.e.c, a + d.length - 1);
    var g = qi(o);
    if (r)
        for (f = 0; f < d.length; ++f)
            s[lr(f + a) + g] = {
                t: "s",
                v: d[f]
            };
    return s["!ref"] = si(u),
    s
}
function K$(e, t) {
    return eE(null, e, t)
}
function T1(e, t, n) {
    if (typeof t == "string") {
        if (Array.isArray(e)) {
            var i = Ii(t);
            return e[i.r] || (e[i.r] = []),
            e[i.r][i.c] || (e[i.r][i.c] = {
                t: "z"
            })
        }
        return e[t] || (e[t] = {
            t: "z"
        })
    }
    return typeof t != "number" ? T1(e, tn(t)) : T1(e, tn({
        r: t,
        c: n || 0
    }))
}
function Y$(e, t) {
    if (typeof t == "number") {
        if (t >= 0 && e.SheetNames.length > t)
            return t;
        throw new Error("Cannot find sheet # " + t)
    } else if (typeof t == "string") {
        var n = e.SheetNames.indexOf(t);
        if (n > -1)
            return n;
        throw new Error("Cannot find sheet name |" + t + "|")
    } else
        throw new Error("Cannot find sheet |" + t + "|")
}
function Q$() {
    return {
        SheetNames: [],
        Sheets: {}
    }
}
function J$(e, t, n, i) {
    var r = 1;
    if (!n)
        for (; r <= 65535 && e.SheetNames.indexOf(n = "Sheet" + r) != -1; ++r,
        n = void 0)
            ;
    if (!n || e.SheetNames.length >= 65535)
        throw new Error("Too many worksheets");
    if (i && e.SheetNames.indexOf(n) >= 0) {
        var s = n.match(/(^.*?)(\d+)$/);
        r = s && +s[2] || 0;
        var o = s && s[1] || n;
        for (++r; r <= 65535 && e.SheetNames.indexOf(n = o + r) != -1; ++r)
            ;
    }
    if (VC(n),
    e.SheetNames.indexOf(n) >= 0)
        throw new Error("Worksheet with name |" + n + "| already exists!");
    return e.SheetNames.push(n),
    e.Sheets[n] = t,
    n
}
function Z$(e, t, n) {
    e.Workbook || (e.Workbook = {}),
    e.Workbook.Sheets || (e.Workbook.Sheets = []);
    var i = Y$(e, t);
    switch (e.Workbook.Sheets[i] || (e.Workbook.Sheets[i] = {}),
    n) {
    case 0:
    case 1:
    case 2:
        break;
    default:
        throw new Error("Bad sheet visibility setting " + n)
    }
    e.Workbook.Sheets[i].Hidden = n
}
function ej(e, t) {
    return e.z = t,
    e
}
function tE(e, t, n) {
    return t ? (e.l = {
        Target: t
    },
    n && (e.l.Tooltip = n)) : delete e.l,
    e
}
function tj(e, t, n) {
    return tE(e, "#" + t, n)
}
function nj(e, t, n) {
    e.c || (e.c = []),
    e.c.push({
        t,
        a: n || "SheetJS"
    })
}
function ij(e, t, n, i) {
    for (var r = typeof t != "string" ? t : bn(t), s = typeof t == "string" ? t : si(t), o = r.s.r; o <= r.e.r; ++o)
        for (var a = r.s.c; a <= r.e.c; ++a) {
            var c = T1(e, o, a);
            c.t = "n",
            c.F = s,
            delete c.v,
            o == r.s.r && a == r.s.c && (c.f = n,
            i && (c.D = !0))
        }
    return e
}
var I1 = {
    encode_col: lr,
    encode_row: qi,
    encode_cell: tn,
    encode_range: si,
    decode_col: D7,
    decode_row: R7,
    split_cell: _B,
    decode_cell: Ii,
    decode_range: xs,
    format_cell: Ua,
    sheet_add_aoa: eC,
    sheet_add_json: eE,
    sheet_add_dom: zC,
    aoa_to_sheet: Qu,
    json_to_sheet: K$,
    table_to_sheet: XC,
    table_to_book: O$,
    sheet_to_csv: j7,
    sheet_to_txt: ZC,
    sheet_to_json: l2,
    sheet_to_html: qC,
    sheet_to_formulae: X$,
    sheet_to_row_object_array: l2,
    sheet_get_cell: T1,
    book_new: Q$,
    book_append_sheet: J$,
    book_set_sheet_visibility: Z$,
    cell_set_number_format: ej,
    cell_set_hyperlink: tE,
    cell_set_internal_link: tj,
    cell_add_comment: nj,
    sheet_set_array_formula: ij,
    consts: {
        SHEET_VISIBLE: 0,
        SHEET_HIDDEN: 1,
        SHEET_VERY_HIDDEN: 2
    }
};
var t0e = b1.version;
var n0e = (e, t, n) => {
    let i = e.map(o => ({
        wch: o.width ?? o.title.length
    }))
      , r = I1.json_to_sheet(t);
    r["!cols"] = i,
    I1.sheet_add_aoa(r, [e.map(o => o.title)], {
        origin: "A1"
    });
    let s = I1.book_new();
    I1.book_append_sheet(s, r, "Sheet1"),
    JC(s, `${n}.xlsx`)
}
;
function sj(e) {
    return new Promise( (t, n) => {
        let i = new FileReader;
        i.readAsDataURL(e),
        i.onloadend = () => t(i.result)
    }
    )
}
function nE(e) {
    return Qn(sj(e))
}
Boolean.prototype.toPersian = function() {
    return this ? "\u0628\u0644\u06CC" : "\u062E\u06CC\u0631"
}
;
function a0e(e, t) {
    for (let n of t)
        Reflect.deleteProperty(e, n);
    return e
}
Array.prototype.first = function() {
    return this[0] ?? void 0
}
;
Array.prototype.update = function(e, t, n=!1) {
    let i = this.findIndex(r => r[t ?? "id"] === e[t ?? "id"]);
    return i >= 0 ? [...this.slice(0, i), C(C({}, this[i]), e), ...this.slice(i + 1)] : n ? [...this, e] : [...this]
}
;
Array.prototype.toSort = function(e) {
    return Array.prototype.toSorted ? this.toSorted(e) : [...[...this].sort(e)]
}
;
Array.prototype.replaceByIndex = function(e, t) {
    return Array.prototype.with ? this.with(e, t) : (this[e] = t,
    [...this])
}
;
Array.prototype.groupBy = function(e) {
    return this.reduce(function(t, n) {
        return (t[n[e]] = t[n[e]] || []).push(n),
        t
    }, {})
}
;
function u0e(e, t) {
    return e ? new URL(e).searchParams.get(t) : null
}
var d0e = e => !((e?.value || "").trim().length === 0) ? null : {
    whitespace: !0
}
  , f0e = e => isNaN(e.value) ? {
    nan: {
        value: e.value
    }
} : null;
var iE = class {
    static noWhitespace(t) {
        let n = t?.value || ""
          , i = n.trim().length === 0;
        return n.length > 0 && i ? {
            noWhitespace: !0
        } : null
    }
}
;
function m0e(e, t) {
    let n = t.map(r => ({
        title: r.title,
        width: r.width
    }))
      , i = e.map(r => {
        let s = {};
        return t.forEach(o => {
            typeof r[o.fieldName] == "boolean" ? s[o.fieldName] = (!!+r[o.fieldName]).toPersian() : s[o.fieldName] = r[o.fieldName]
        }
        ),
        s
    }
    );
    return {
        headers: n,
        values: i
    }
}
var y2 = function(e) {
    return e[e.none = 1] = "none",
    e[e.asc = 2] = "asc",
    e[e.decs = -1] = "decs",
    e
}(y2 || {})
  , b0e = new Map().set(y2.none, "opacity-3").set(y2.asc, "text-global").set(y2.decs, "text-global")
  , rE = class {
    constructor(t) {
        this.sortStrategy = t
    }
    compareFunction(t, n) {
        return this.sortStrategy.compareFunction(t, n)
    }
}
;
var sE = class {
    compareFunction(t, n) {
        return (i, r) => Fo(i[t]) < Fo(r[t]) ? 1 * n : Fo(i[t]) > Fo(r[t]) ? -1 * n : 0
    }
}
  , oE = class {
    compareFunction(t, n) {
        return (i, r) => (r[t] - i[t]) * +n
    }
}
;
function $0e(e) {
    let {[se.SymbolSchema.lastTradedPrice]: t, [se.SymbolSchema.feeOfPreviousDaysClosingPrice]: n, [se.SymbolSchema.closingPrice]: i, [se.SymbolSchema.stateCode]: r, [se.SymbolSchema.totalNumberOfSharesTraded]: s, [se.SymbolSchema.lastTradedPriceVarPercent]: o} = e
      , a = {
        lastTradedPrice: +t || 0,
        lastTradedPriceVarPercent: +o || 0,
        closingPrice: +i || 0,
        totalNumberOfSharesTraded: +s || 0,
        feeOfPreviousDaysClosingPrice: +n || 0,
        stateCode: r && r.trim() || ""
    };
    return ve(C({}, a), {
        stateColor: du(a.stateCode),
        lastTradedPriceVar: t - n
    })
}
function aE(e) {
    let {[se.SymbolSchema.lastTradedPrice]: t, [se.SymbolSchema.lastTradedPriceVarPercent]: n, [se.SymbolSchema.firstPrice]: i, [se.SymbolSchema.closingPrice]: r, [se.SymbolSchema.totalNumberOfSharesTraded]: s, [se.SymbolSchema.totalNumberOfTrades]: o, [se.SymbolSchema.totalTradeValue]: a, [se.SymbolSchema.bestBuyLimitVolume]: c, [se.SymbolSchema.bestBuyLimitPrice]: l, [se.SymbolSchema.bestSellLimitVolume]: u, [se.SymbolSchema.bestSellLimitPrice]: h, [se.SymbolSchema.feeOfPreviousDaysClosingPrice]: d, [se.SymbolSchema.minDailyPrice]: f, [se.SymbolSchema.maxDailyPrice]: g, [se.SymbolSchema.minDailyTradedPrice]: p, [se.SymbolSchema.maxDailyTradedPrice]: v, [se.SymbolSchema.stateCode]: b, [se.SymbolSchema.tradeDate]: S, [se.SymbolSchema.navDate]: w, [se.SymbolSchema.navSubscription]: k, [se.SymbolSchema.navRedemption]: B, [se.SymbolSchema.priceTickSize]: N, [se.SymbolSchema.minValidBuyVolume]: E, [se.SymbolSchema.minValidSellVolume]: F, [se.SymbolSchema.maxValidBuyVolume]: O, [se.SymbolSchema.maxValidSellVolume]: V, [se.SymbolSchema.bestSellLimitPrice]: X, [se.SymbolSchema.bestBuyLimitPrice]: x} = e
      , j = {
        lastTradedPrice: +t || 0,
        firstTradedPrice: +i || 0,
        lastTradedPriceVarPercent: +n || 0,
        closingPrice: +r || 0,
        totalNumberOfSharesTraded: +s || 0,
        feeOfPreviousDaysClosingPrice: +d || 0,
        totalNumberOfTrades: +o || 0,
        totalTradeValue: +a || 0,
        bestBuyLimitVolume: +c || 0,
        bestBuyLimitPrice: +l || 0,
        bestSellLimitVolume: +u || 0,
        bestSellLimitPrice: +h || 0,
        minDailyPrice: +f || 0,
        maxDailyPrice: +g || 0,
        minDailyTradedPrice: +p || 0,
        maxDailyTradedPrice: +v || 0,
        stateCode: b && b.trim() || "",
        tradeDate: S || "",
        navDate: w || "",
        navSubscription: +k || 0,
        navRedemption: +B || 0,
        priceTickSize: +N || 0,
        minValidBuyVolume: +E || 0,
        minValidSellVolume: +F || 0,
        maxValidBuyVolume: +O || 0,
        maxValidSellVolume: +V || 0,
        bidPrice: +X || 0,
        askPrice: +x || 0
    };
    return ve(C({}, j), {
        stateColor: du(j.stateCode),
        lastTradedPriceVar: t - d
    })
}
function j0e(e) {
    let {[se.SameGroupSchema.lastTradedPrice]: t, [se.SameGroupSchema.totalNumberOfSharesTraded]: n, [se.SameGroupSchema.feeOfPreviousDaysClosingPrice]: i, [se.SameGroupSchema.minDailyPrice]: r, [se.SameGroupSchema.maxDailyPrice]: s, [se.SameGroupSchema.minDailyTradedPrice]: o, [se.SameGroupSchema.maxDailyTradedPrice]: a, [se.SameGroupSchema.stateCode]: c, [se.SameGroupSchema.lastTradedPriceVarPercent]: l} = e.val
      , u = {
        lastTradedPrice: +t || 0,
        totalNumberOfSharesTraded: +n || 0,
        feeOfPreviousDaysClosingPrice: +i || 0,
        minDailyPrice: +r || 0,
        maxDailyPrice: +s || 0,
        minDailyTradedPrice: +o || 0,
        maxDailyTradedPrice: +a || 0,
        stateCode: c && c.trim() || "",
        lastTradedPriceVarPercent: +l || 0
    };
    return ve(C({}, u), {
        stateColor: du(u.stateCode),
        lastTradedPriceVar: t - i
    })
}
function q0e(e) {
    let {[se.MobilePortfolioSchema.closingPrice]: t, [se.MobilePortfolioSchema.lastTradedPrice]: n, [se.MobilePortfolioSchema.lastTradedPriceVarPercent]: i, [se.MobilePortfolioSchema.feeOfPreviousDaysClosingPrice]: r, [se.MobilePortfolioSchema.totalNumberOfSharesTraded]: s, [se.MobilePortfolioSchema.stateCode]: o} = e;
    return {
        lastTradedPrice: +n || 0,
        priceVar: +i || 0,
        closingPrice: +t || 0,
        totalNumberOfSharesTraded: +s || 0,
        feeOfPreviousDaysClosingPrice: +r || 0,
        stateCode: o && o.trim() || "",
        closingPriceVar: 0,
        symbolISIN: ""
    }
}
function z0e(e) {
    let {[se.DPortfolioSchema.closingPrice]: t, [se.DPortfolioSchema.lastTradedPrice]: n, [se.DPortfolioSchema.lastTradedPriceVarPercent]: i, [se.DPortfolioSchema.feeOfPreviousDaysClosingPrice]: r, [se.DPortfolioSchema.totalNumberOfSharesTraded]: s, [se.DPortfolioSchema.stateCode]: o, [se.DPortfolioSchema.bestBuyLimitPrice]: a, [se.DPortfolioSchema.bestBuyLimitVolume]: c, [se.DPortfolioSchema.bestSellLimitPrice]: l, [se.DPortfolioSchema.bestSellLimitVolume]: u, [se.DPortfolioSchema.firstTradedPrice]: h, [se.DPortfolioSchema.totalNumberOfTrades]: d, [se.DPortfolioSchema.totalTradeValue]: f} = e;
    return {
        lastTradedPrice: +n || 0,
        priceVar: +i || 0,
        closingPrice: +t || 0,
        totalNumberOfSharesTraded: +s || 0,
        feeOfPreviousDaysClosingPrice: +r || 0,
        stateCode: o && o.trim() || "",
        closingPriceVar: 0,
        symbolISIN: "",
        bestBuyPrice: +a || 0,
        bestBuyQuantity: +c || 0,
        bestSellPrice: +l || 0,
        bestSellQuantity: +u || 0,
        firstTradedPrice: +h || 0,
        totalNumberOfTrades: +d || 0,
        totalTradeValue: +f || 0
    }
}
var cue = ( () => {
    let t = class t extends gn {
        constructor() {
            super(),
            this.lsService = z(Jl),
            this.marketViewUrl = `${this.mtsPath + this.apiUrls.easy}MarketView`,
            this.indexes = [],
            this.indexesSubject = new Ne(this.indexes),
            this.indexes$ = this.indexesSubject.asObservable(),
            this.lsDataReceivedIntervalSubs = {},
            this.lsDataReceived = new Map([]),
            this.subscribeToLsIndex(),
            this.lsService.resetLsManually$.pipe(mt(i => i)).subscribe( () => {
                this.subscribeToLsIndex()
            }
            )
        }
        getTseIndex() {
            return this.httpService.get(`${this.mtsPath + this.apiUrls.symbol}MarketData/tse-index`).pipe(Ge(i => {
                this.indexes = i,
                this.indexesSubject.next(i)
            }
            ))
        }
        GetMarketData(i, r) {
            let s = Hx[i]
              , o = `query {marketData(request: { isins: ${JSON.stringify(r)}}) {${s.join(" ")}}}`;
            return this.httpService.post(`${this.mtsPath + this.apiUrls.symbol}marketdata`, {
                body: {
                    query: o
                }
            }).pipe($e(a => this.mapMarketData(a?.marketData, r)))
        }
        mapMarketData(i, r) {
            let s = o => ve(C({}, o), {
                symbolISIN: o?.symbolIsin,
                bestBuyLimitVolume: o?.bestBuyQuantity,
                bestSellLimitVolume: o?.bestSellQuantity,
                minDailyTradedPrice: o?.lowPrice,
                maxDailyTradedPrice: o?.highPrice
            });
            return Array.isArray(r) ? i.map(s) : s(i?.[0])
        }
        GetStockInfo(i) {
            return this.httpService.post(`${this.mtsPath + this.apiUrls.symbol}MarketData/symbol-info-data`, {
                body: {
                    isin: i
                }
            })
        }
        getReturnChartData(i) {
            return this.httpService.post(`${this.mtsPath + this.apiUrls.symbol}MarketData/return-chart-data`, {
                body: {
                    isin: i
                }
            })
        }
        GetSymbolDetailsMarketDepth(i) {
            return this.httpService.post(`${this.mtsPath + this.apiUrls.symbol}MarketData/market-depth`, {
                body: {
                    isin: i
                }
            })
        }
        GetSymbolDetailsIndInstTrade(i) {
            return this.httpService.post(`${this.mtsPath + this.apiUrls.symbol}MarketData/indInstTrade`, {
                body: {
                    isin: i
                }
            })
        }
        getMarketMapData(i) {
            let r = this.httpService.get(`${this.mtsPath + this.apiUrls.symbol}MarketData/market-map`);
            return i ? ul(i).pipe(Oh(0)).pipe(ci( () => r)) : r
        }
        subscribeToLsIndex() {
            this.lsService.subscribeToLs(K.Index, gu.code.TEDPIX).subscribe(i => {
                this.setIndexParameters(i)
            }
            )
        }
        getOtherIndexes() {
            let i = `${this.marketViewUrl}/otherIndexes`;
            return this.httpService.get(i)
        }
        setIndexParameters(i) {
            let r = -1;
            switch (i.inst == gu.code.TEDPIX ? r = this.indexes.findIndex(s => s.symbolIsin.toUpperCase() === gu.code.TEDPIX) : i.inst == gu.code.IFX && (r = this.indexes.findIndex(s => s.symbolIsin.toUpperCase() === gu.code.IFX)),
            r < 0 && (this.indexes.push({
                symbolIsin: i.inst,
                dayOfEvent: new Date,
                indexChanges: 0,
                lastIndexValue: 0,
                symbolTitle: "",
                percentVariation: 0,
                yesterdayPrice: 0
            }),
            r = this.indexes.length - 1),
            i.name) {
            case se.IndexSchema.YesterdayPrice:
                this.indexes[r].yesterdayPrice = parseFloat(i.val),
                this.indexes[r].indexChanges = this.indexes[r].lastIndexValue - this.indexes[r].yesterdayPrice;
                break;
            case se.IndexSchema.LastIndexValue:
                this.indexes[r].lastIndexValue = parseFloat(i.val),
                this.indexes[r].indexChanges = this.indexes[r].lastIndexValue - this.indexes[r].yesterdayPrice;
                break;
            case se.IndexSchema.PercentVariation:
                this.indexes[r].percentVariation = parseFloat(i.val) / 100;
                break;
            case se.IndexSchema.DayOfEvent:
                this.indexes[r].dayOfEvent = new Date(i.val.trim().substring(0, 4),i.val.trim().substring(4, 6) - 1,i.val.trim().substring(6, 8));
                break
            }
            this.indexesSubject.next(this.indexes)
        }
        getMethodName(i) {
            return i.toString().replace(/[^a-zA-Z]/gm, "").replace("this", "").replace("function", "").replace("return", "")
        }
        callMarketDataIfLsNotConnected(i, r=2e3) {
            let s = this.getMethodName(i);
            this.lsDataReceived.set(s, !1),
            this.lsDataReceivedIntervalSubs[s] && this.lsDataReceivedIntervalSubs[s].unsubscribe(),
            this.lsDataReceivedIntervalSubs[s] = ul(r).pipe(Lt(1), Ge( () => {
                this.lsDataReceived.get(s) || i()
            }
            )).subscribe()
        }
        lsDataIsReceived(i) {
            let r = this.getMethodName(i);
            for (let[s] of this.lsDataReceived.entries())
                (s.includes(r) || r.includes(s)) && (r = s);
            this.lsDataReceived.set(r, !0)
        }
    }
    ;
    t.\u0275fac = function(r) {
        return new (r || t)
    }
    ,
    t.\u0275prov = re({
        token: t,
        factory: t.\u0275fac,
        providedIn: "root"
    });
    let e = t;
    return e
}
)()
  , cE = class {
    constructor(t, n, i) {
        this.marketData = new Ne(C({}, xg)),
        this.marketData$ = this.marketData.asObservable(),
        this.marketDataService = t,
        this.lsService = n,
        this.symbolIsin = i
    }
    initFlow() {
        this.marketDataService.callMarketDataIfLsNotConnected( () => this.getStockDetailsMarketData()),
        this.lsService.subscribeToLs(K.ActiveStock, this.symbolIsin).subscribe(t => {
            if (t.inst === this.symbolIsin) {
                this.subId || (this.subId = t.subId),
                this.marketDataService.lsDataIsReceived(this.getStockDetailsMarketData.name);
                let n = aE(t.val);
                n.closingPriceVarPercent = this.calculateClosingPriceVarPercent(n.closingPrice, n.feeOfPreviousDaysClosingPrice, n.totalNumberOfSharesTraded) || 0,
                this.marketData.next(n)
            }
        }
        )
    }
    getStockDetailsMarketData() {
        let t = this.marketDataService.GetMarketData(9, this.symbolIsin).pipe(Ge(n => {
            let i = this.marketData.value ?? xg;
            i.lastTradedPrice = n.lastTradedPrice,
            i.feeOfPreviousDaysClosingPrice = n.feeOfPreviousDaysClosingPrice,
            i.lastTradedPriceVar = this.calculateLastTradedPriceVar(n.lastTradedPrice, n.feeOfPreviousDaysClosingPrice),
            i.lastTradedPriceVarPercent = n.priceVar,
            i.stateColor = du(n.stateCode),
            i.closingPrice = n.closingPrice,
            i.closingPriceVarPercent = this.calculateClosingPriceVarPercent(n.closingPrice, n.feeOfPreviousDaysClosingPrice, n.totalNumberOfSharesTraded),
            i.totalNumberOfSharesTraded = n.totalNumberOfSharesTraded,
            i.stateCode = n.stateCode,
            this.marketData.next(i)
        }
        ), on( (n, i) => i), gr( () => t.unsubscribe())).subscribe()
    }
    calculateLastTradedPriceVar(t, n) {
        return t - (n ?? 0)
    }
    calculateClosingPriceVarPercent(t, n, i) {
        return n === 0 || !n || !i || i === 0 ? 0 : t > 0 && n > 0 ? Math.round((t - n) / n * 1e4) / 100 : 0
    }
    destroy() {
        this.lsService.unsubscribeSchemaById(this.subId)
    }
}
;
var Us = ( () => {
    let t = class t {
        constructor() {
            this.subject = new lt,
            this.notify$ = this.subject.asObservable(),
            this.notifyOrderFormSubject = new Ne(!1),
            this.notifyOrderForm$ = this.notifyOrderFormSubject.asObservable(),
            this.isStockDetailsAvailable = new Ne(!1),
            this.isStockDetailsAvailable$ = this.isStockDetailsAvailable.asObservable(),
            this.isActive = !0,
            this.canShowNotification = wt(null),
            this.getNotifyActions = i => ({
                action: i.action,
                title: i.title
            }),
            this.getNotifyActionClick = i => ({
                [i.action]: {
                    operation: "openWindow",
                    url: i.url
                }
            }),
            this.getDefaultActionClick = i => ({
                default: i ? {
                    operation: "navigateLastFocusedOrOpen",
                    url: i
                } : {
                    operation: "navigateLastFocusedOrOpen"
                }
            }),
            window.addEventListener("focus", () => {
                this.isActive = !0
            }
            ),
            window.addEventListener("blur", () => {
                this.isActive = !1
            }
            )
        }
        alertNotification(i, r=!1, s, o) {
            this.alert(i.text, i.type, r, s, o)
        }
        alert(i, r, s=!1, o, a) {
            switch (r) {
            case ii.danger:
                this.danger(i, s, o);
                break;
            case ii.info:
                this.info(i, s, o);
                break;
            case ii.success:
                this.success(i, s, o);
                break;
            case ii.warning:
                this.warning(i, s, o, a);
                break;
            case ii.secondary:
                this.secondary(i, s, o);
                break;
            case ii.pinkRose:
                this.pinkRose(i, s, o);
                break;
            case ii.globalSecondary:
                this.globalSecondary(i, s, o);
                break;
            default:
                break
            }
        }
        alertError(i) {
            this.danger(i)
        }
        alertWarning(i) {
            this.warning(i)
        }
        alertSuccess(i) {
            this.success(i)
        }
        notif(i) {
            if (this.canShowNotification() && !this.isActive && this.checkPermission()) {
                let r = {}
                  , s = [];
                i.actions && i.actions.map(a => {
                    s.push(this.getNotifyActions(a)),
                    r = Object.assign(r, this.getNotifyActionClick(a))
                }
                ),
                r = Object.assign(r, this.getDefaultActionClick(i.defaultUrl));
                let o = {
                    body: i.body ? i.body : "",
                    icon: "../assets/images/mofid-logo.png",
                    badge: "../assets/images/mofid-logo.png",
                    data: {
                        defaultUrl: i.defaultUrl,
                        onActionClick: r
                    }
                };
                try {
                    this.pwaNotif(i.title, o)
                } catch {
                    try {
                        this.html5notif(i.title, o)
                    } catch {
                        return null
                    }
                }
            }
        }
        changeNotifyOrderFormState(i) {
            this.notifyOrderFormSubject.next(i)
        }
        danger(i, r=!1, s, o) {
            let a = {
                class: "bg-danger-400",
                text: i,
                icon: "close-box",
                showCount: r,
                extra: s,
                detailText: o
            };
            this.subject.next(a)
        }
        success(i, r=!1, s, o) {
            let a = {
                class: "bg-success-400",
                text: i,
                icon: "check",
                showCount: r,
                extra: s,
                detailText: o
            };
            this.subject.next(a)
        }
        secondary(i, r=!1, s, o) {
            let a = {
                class: "bg-secondary",
                text: i,
                icon: "check",
                showCount: r,
                extra: s,
                detailText: o
            };
            this.subject.next(a)
        }
        info(i, r=!1, s, o) {
            let a = {
                class: "bg-global-400",
                text: i,
                icon: "info-box",
                showCount: r,
                extra: s,
                detailText: o
            };
            this.subject.next(a)
        }
        pinkRose(i, r=!1, s, o) {
            let a = {
                class: "bg-pink_rose",
                text: i,
                icon: "info-box",
                showCount: r,
                extra: s,
                detailText: o
            };
            this.subject.next(a)
        }
        globalSecondary(i, r=!1, s, o) {
            let a = {
                class: "bg-global-700 text-body",
                text: i,
                icon: "info-box",
                showCount: r,
                extra: s,
                detailText: o
            };
            this.subject.next(a)
        }
        warning(i, r=!1, s, o) {
            let a = {
                class: "bg-warning-400",
                text: i,
                icon: "alert",
                showCount: r,
                extra: s,
                detailText: o
            };
            this.subject.next(a)
        }
        checkPermission() {
            if ("Notification"in window) {
                if (Notification.permission === "granted")
                    return !0;
                Notification.permission !== "denied" && Notification.requestPermission().then(function(i) {
                    return i === "granted"
                })
            } else
                return !1;
            return !1
        }
        html5notif(i, r) {
            try {
                let s = new Notification(i,r);
                s.onclick = () => {
                    this.success("\u{1F463}\u{1F463}")
                }
            } catch (s) {
                alert(s)
            }
        }
        pwaNotif(i, r) {
            try {
                navigator.serviceWorker.ready.then(s => {
                    s.showNotification(i, r)
                }
                )
            } catch {
                return null
            }
        }
    }
    ;
    t.\u0275fac = function(r) {
        return new (r || t)
    }
    ,
    t.\u0275prov = re({
        token: t,
        factory: t.\u0275fac,
        providedIn: "root"
    });
    let e = t;
    return e
}
)();
var mue = ( () => {
    let t = class t extends gn {
        get(i) {
            return this.httpService.post(this.mtsPath + this.apiUrls.easy + "transaction/transactions", {
                body: i
            })
        }
        convertToShortDescription(i) {
            if (i.startsWith("\u0634\u0627\u0631\u0698 \u0645\u0641\u06CC\u062F \u06A9\u0627\u0631\u062A"))
                return "\u0634\u0627\u0631\u0698 \u0645\u0641\u06CC\u062F \u06A9\u0627\u0631\u062A";
            if (i.startsWith("\u067E\u0631\u062F\u0627\u062E\u062A \u0648\u062C\u0647"))
                return i.includes("\u0635\u0646\u062F\u0648\u0642") ? `\u067E\u0631\u062F\u0627\u062E\u062A \u0648\u062C\u0647 (\u062C\u0647\u062A \u0627\u0628\u0637\u0627\u0644 \u0635\u0646\u062F\u0648\u0642 ${i.split("\u0635\u0646\u062F\u0648\u0642")[1]})` : "\u067E\u0631\u062F\u0627\u062E\u062A \u0648\u062C\u0647";
            if (i.startsWith("\u062F\u0631\u06CC\u0627\u0641\u062A \u0648\u062C\u0647"))
                return i.includes("\u0635\u0646\u062F\u0648\u0642") ? `\u062F\u0631\u06CC\u0627\u0641\u062A \u0648\u062C\u0647 (\u062C\u0647\u062A \u062E\u0631\u06CC\u062F \u0635\u0646\u062F\u0648\u0642 ${i.split("\u0635\u0646\u062F\u0648\u0642")[1].split(" ")[1]})` : "\u062F\u0631\u06CC\u0627\u0641\u062A \u0648\u062C\u0647";
            if (i.startsWith("\u062E\u0631\u06CC\u062F") || i.startsWith("\u062E\u0631\u06CC\u062F") || i.indexOf("\u0641\u0631\u0648\u0634") >= 0) {
                if (i.indexOf(")") <= 0 || i.indexOf(")") - i.indexOf("(") === 1 || i.indexOf("(") - i.indexOf(")") === 1) {
                    let r = i.indexOf("\u0637\u06CC")
                      , s = i.indexOf("\u0628\u0647 \u0634\u0645\u0627\u0631\u0647")
                      , o = r > 0 ? r : s;
                    return o < 0 ? i : i.substr(0, o).replace(")", "").replace("(", "")
                } else if (i.indexOf(")") - i.indexOf("(") > 1) {
                    if (i = i.slice(0, i.indexOf(")") - 1) + i.slice(i.indexOf(")")),
                    i.indexOf("\u0633\u0647\u0645") >= 0) {
                        let r = i.indexOf("\u0633\u0647\u0645") + 3
                          , s = i.indexOf("(")
                          , o = i.indexOf("\u0637\u06CC")
                          , a = i.indexOf("\u0628\u0647 \u0634\u0645\u0627\u0631\u0647")
                          , c = o > 0 ? o : a;
                        return c < 0 ? i : i.substr(0, r) + " " + i.substr(s, c - s).replace(")", "").replace("(", "")
                    }
                    if (i.indexOf("\u0648\u0627\u062D\u062F") >= 0) {
                        let r = i.indexOf("\u0648\u0627\u062D\u062F") + 4
                          , s = i.indexOf("(")
                          , o = i.indexOf("\u0637\u06CC")
                          , a = i.indexOf("\u0628\u0647 \u0634\u0645\u0627\u0631\u0647")
                          , c = o > 0 ? o : a;
                        return c < 0 ? i : i.substr(0, r) + " " + i.substr(s, c - s).replace(")", "").replace("(", "")
                    }
                    if (i.indexOf("\u062D\u0642 \u062A\u0642\u062F\u0645") >= 0) {
                        let r = i.indexOf("\u062D\u0642 \u062A\u0642\u062F\u0645")
                          , s = i.indexOf("(")
                          , o = i.indexOf("\u0637\u06CC")
                          , a = i.indexOf("\u0628\u0647 \u0634\u0645\u0627\u0631\u0647")
                          , c = o > 0 ? o : a;
                        return c < 0 ? i : i.substr(0, r) + " \u0633\u0647\u0645 " + i.substr(s, c - s).replace(")", "").replace("(", "")
                    }
                }
            }
            return i
        }
    }
    ;
    t.\u0275fac = ( () => {
        let i;
        return function(s) {
            return (i || (i = On(t)))(s || t)
        }
    }
    )(),
    t.\u0275prov = re({
        token: t,
        factory: t.\u0275fac,
        providedIn: "root"
    });
    let e = t;
    return e
}
)();
var uE = ( () => {
    let t = class t {
        constructor() {
            this.openSidePanelWithDataSubject = new Ne(null),
            this.openSidePanelWithData$ = this.openSidePanelWithDataSubject.asObservable(),
            this.closeSidePanelSubject = new lt,
            this.closeSidePanel$ = this.closeSidePanelSubject.asObservable(),
            this.closeSidePanel = (i=!0) => this.closeSidePanelSubject.next(i)
        }
        openSidePanelFromRoute(i) {
            this.openSidePanelWithDataSubject.next(i)
        }
    }
    ;
    t.\u0275fac = function(r) {
        return new (r || t)
    }
    ,
    t.\u0275prov = re({
        token: t,
        factory: t.\u0275fac,
        providedIn: "root"
    });
    let e = t;
    return e
}
)();
var ai = "top"
  , Xi = "bottom"
  , Di = "right"
  , yi = "left"
  , b2 = "auto"
  , qc = [ai, Xi, Di, yi]
  , Ga = "start"
  , u0 = "end"
  , hE = "clippingParents"
  , S2 = "viewport"
  , eh = "popper"
  , dE = "reference"
  , q7 = qc.reduce(function(e, t) {
    return e.concat([t + "-" + Ga, t + "-" + u0])
}, [])
  , x2 = [].concat(qc, [b2]).reduce(function(e, t) {
    return e.concat([t, t + "-" + Ga, t + "-" + u0])
}, [])
  , oj = "beforeRead"
  , aj = "read"
  , cj = "afterRead"
  , lj = "beforeMain"
  , uj = "main"
  , hj = "afterMain"
  , dj = "beforeWrite"
  , fj = "write"
  , pj = "afterWrite"
  , fE = [oj, aj, cj, lj, uj, hj, dj, fj, pj];
function Ni(e) {
    return e ? (e.nodeName || "").toLowerCase() : null
}
function Tn(e) {
    if (e == null)
        return window;
    if (e.toString() !== "[object Window]") {
        var t = e.ownerDocument;
        return t && t.defaultView || window
    }
    return e
}
function Hs(e) {
    var t = Tn(e).Element;
    return e instanceof t || e instanceof Element
}
function bi(e) {
    var t = Tn(e).HTMLElement;
    return e instanceof t || e instanceof HTMLElement
}
function th(e) {
    if (typeof ShadowRoot > "u")
        return !1;
    var t = Tn(e).ShadowRoot;
    return e instanceof t || e instanceof ShadowRoot
}
function gj(e) {
    var t = e.state;
    Object.keys(t.elements).forEach(function(n) {
        var i = t.styles[n] || {}
          , r = t.attributes[n] || {}
          , s = t.elements[n];
        !bi(s) || !Ni(s) || (Object.assign(s.style, i),
        Object.keys(r).forEach(function(o) {
            var a = r[o];
            a === !1 ? s.removeAttribute(o) : s.setAttribute(o, a === !0 ? "" : a)
        }))
    })
}
function mj(e) {
    var t = e.state
      , n = {
        popper: {
            position: t.options.strategy,
            left: "0",
            top: "0",
            margin: "0"
        },
        arrow: {
            position: "absolute"
        },
        reference: {}
    };
    return Object.assign(t.elements.popper.style, n.popper),
    t.styles = n,
    t.elements.arrow && Object.assign(t.elements.arrow.style, n.arrow),
    function() {
        Object.keys(t.elements).forEach(function(i) {
            var r = t.elements[i]
              , s = t.attributes[i] || {}
              , o = Object.keys(t.styles.hasOwnProperty(i) ? t.styles[i] : n[i])
              , a = o.reduce(function(c, l) {
                return c[l] = "",
                c
            }, {});
            !bi(r) || !Ni(r) || (Object.assign(r.style, a),
            Object.keys(s).forEach(function(c) {
                r.removeAttribute(c)
            }))
        })
    }
}
var pE = {
    name: "applyStyles",
    enabled: !0,
    phase: "write",
    fn: gj,
    effect: mj,
    requires: ["computeStyles"]
};
function Fi(e) {
    return e.split("-")[0]
}
var po = Math.max
  , h0 = Math.min
  , Va = Math.round;
function nh() {
    var e = navigator.userAgentData;
    return e != null && e.brands && Array.isArray(e.brands) ? e.brands.map(function(t) {
        return t.brand + "/" + t.version
    }).join(" ") : navigator.userAgent
}
function R1() {
    return !/^((?!chrome|android).)*safari/i.test(nh())
}
function Gs(e, t, n) {
    t === void 0 && (t = !1),
    n === void 0 && (n = !1);
    var i = e.getBoundingClientRect()
      , r = 1
      , s = 1;
    t && bi(e) && (r = e.offsetWidth > 0 && Va(i.width) / e.offsetWidth || 1,
    s = e.offsetHeight > 0 && Va(i.height) / e.offsetHeight || 1);
    var o = Hs(e) ? Tn(e) : window
      , a = o.visualViewport
      , c = !R1() && n
      , l = (i.left + (c && a ? a.offsetLeft : 0)) / r
      , u = (i.top + (c && a ? a.offsetTop : 0)) / s
      , h = i.width / r
      , d = i.height / s;
    return {
        width: h,
        height: d,
        top: u,
        right: l + h,
        bottom: u + d,
        left: l,
        x: l,
        y: u
    }
}
function d0(e) {
    var t = Gs(e)
      , n = e.offsetWidth
      , i = e.offsetHeight;
    return Math.abs(t.width - n) <= 1 && (n = t.width),
    Math.abs(t.height - i) <= 1 && (i = t.height),
    {
        x: e.offsetLeft,
        y: e.offsetTop,
        width: n,
        height: i
    }
}
function D1(e, t) {
    var n = t.getRootNode && t.getRootNode();
    if (e.contains(t))
        return !0;
    if (n && th(n)) {
        var i = t;
        do {
            if (i && e.isSameNode(i))
                return !0;
            i = i.parentNode || i.host
        } while (i)
    }
    return !1
}
function Ar(e) {
    return Tn(e).getComputedStyle(e)
}
function z7(e) {
    return ["table", "td", "th"].indexOf(Ni(e)) >= 0
}
function Ki(e) {
    return ((Hs(e) ? e.ownerDocument : e.document) || window.document).documentElement
}
function Wa(e) {
    return Ni(e) === "html" ? e : e.assignedSlot || e.parentNode || (th(e) ? e.host : null) || Ki(e)
}
function gE(e) {
    return !bi(e) || Ar(e).position === "fixed" ? null : e.offsetParent
}
function vj(e) {
    var t = /firefox/i.test(nh())
      , n = /Trident/i.test(nh());
    if (n && bi(e)) {
        var i = Ar(e);
        if (i.position === "fixed")
            return null
    }
    var r = Wa(e);
    for (th(r) && (r = r.host); bi(r) && ["html", "body"].indexOf(Ni(r)) < 0; ) {
        var s = Ar(r);
        if (s.transform !== "none" || s.perspective !== "none" || s.contain === "paint" || ["transform", "perspective"].indexOf(s.willChange) !== -1 || t && s.willChange === "filter" || t && s.filter && s.filter !== "none")
            return r;
        r = r.parentNode
    }
    return null
}
function go(e) {
    for (var t = Tn(e), n = gE(e); n && z7(n) && Ar(n).position === "static"; )
        n = gE(n);
    return n && (Ni(n) === "html" || Ni(n) === "body" && Ar(n).position === "static") ? t : n || vj(e) || t
}
function f0(e) {
    return ["top", "bottom"].indexOf(e) >= 0 ? "x" : "y"
}
function p0(e, t, n) {
    return po(e, h0(t, n))
}
function mE(e, t, n) {
    var i = p0(e, t, n);
    return i > n ? n : i
}
function N1() {
    return {
        top: 0,
        right: 0,
        bottom: 0,
        left: 0
    }
}
function F1(e) {
    return Object.assign({}, N1(), e)
}
function L1(e, t) {
    return t.reduce(function(n, i) {
        return n[i] = e,
        n
    }, {})
}
var _j = function(t, n) {
    return t = typeof t == "function" ? t(Object.assign({}, n.rects, {
        placement: n.placement
    })) : t,
    F1(typeof t != "number" ? t : L1(t, qc))
};
function yj(e) {
    var t, n = e.state, i = e.name, r = e.options, s = n.elements.arrow, o = n.modifiersData.popperOffsets, a = Fi(n.placement), c = f0(a), l = [yi, Di].indexOf(a) >= 0, u = l ? "height" : "width";
    if (!(!s || !o)) {
        var h = _j(r.padding, n)
          , d = d0(s)
          , f = c === "y" ? ai : yi
          , g = c === "y" ? Xi : Di
          , p = n.rects.reference[u] + n.rects.reference[c] - o[c] - n.rects.popper[u]
          , v = o[c] - n.rects.reference[c]
          , b = go(s)
          , S = b ? c === "y" ? b.clientHeight || 0 : b.clientWidth || 0 : 0
          , w = p / 2 - v / 2
          , k = h[f]
          , B = S - d[u] - h[g]
          , N = S / 2 - d[u] / 2 + w
          , E = p0(k, N, B)
          , F = c;
        n.modifiersData[i] = (t = {},
        t[F] = E,
        t.centerOffset = E - N,
        t)
    }
}
function bj(e) {
    var t = e.state
      , n = e.options
      , i = n.element
      , r = i === void 0 ? "[data-popper-arrow]" : i;
    r != null && (typeof r == "string" && (r = t.elements.popper.querySelector(r),
    !r) || D1(t.elements.popper, r) && (t.elements.arrow = r))
}
var X7 = {
    name: "arrow",
    enabled: !0,
    phase: "main",
    fn: yj,
    effect: bj,
    requires: ["popperOffsets"],
    requiresIfExists: ["preventOverflow"]
};
function Vs(e) {
    return e.split("-")[1]
}
var Sj = {
    top: "auto",
    right: "auto",
    bottom: "auto",
    left: "auto"
};
function xj(e, t) {
    var n = e.x
      , i = e.y
      , r = t.devicePixelRatio || 1;
    return {
        x: Va(n * r) / r || 0,
        y: Va(i * r) / r || 0
    }
}
function vE(e) {
    var t, n = e.popper, i = e.popperRect, r = e.placement, s = e.variation, o = e.offsets, a = e.position, c = e.gpuAcceleration, l = e.adaptive, u = e.roundOffsets, h = e.isFixed, d = o.x, f = d === void 0 ? 0 : d, g = o.y, p = g === void 0 ? 0 : g, v = typeof u == "function" ? u({
        x: f,
        y: p
    }) : {
        x: f,
        y: p
    };
    f = v.x,
    p = v.y;
    var b = o.hasOwnProperty("x")
      , S = o.hasOwnProperty("y")
      , w = yi
      , k = ai
      , B = window;
    if (l) {
        var N = go(n)
          , E = "clientHeight"
          , F = "clientWidth";
        if (N === Tn(n) && (N = Ki(n),
        Ar(N).position !== "static" && a === "absolute" && (E = "scrollHeight",
        F = "scrollWidth")),
        N = N,
        r === ai || (r === yi || r === Di) && s === u0) {
            k = Xi;
            var O = h && N === B && B.visualViewport ? B.visualViewport.height : N[E];
            p -= O - i.height,
            p *= c ? 1 : -1
        }
        if (r === yi || (r === ai || r === Xi) && s === u0) {
            w = Di;
            var V = h && N === B && B.visualViewport ? B.visualViewport.width : N[F];
            f -= V - i.width,
            f *= c ? 1 : -1
        }
    }
    var X = Object.assign({
        position: a
    }, l && Sj)
      , x = u === !0 ? xj({
        x: f,
        y: p
    }, Tn(n)) : {
        x: f,
        y: p
    };
    if (f = x.x,
    p = x.y,
    c) {
        var j;
        return Object.assign({}, X, (j = {},
        j[k] = S ? "0" : "",
        j[w] = b ? "0" : "",
        j.transform = (B.devicePixelRatio || 1) <= 1 ? "translate(" + f + "px, " + p + "px)" : "translate3d(" + f + "px, " + p + "px, 0)",
        j))
    }
    return Object.assign({}, X, (t = {},
    t[k] = S ? p + "px" : "",
    t[w] = b ? f + "px" : "",
    t.transform = "",
    t))
}
function wj(e) {
    var t = e.state
      , n = e.options
      , i = n.gpuAcceleration
      , r = i === void 0 ? !0 : i
      , s = n.adaptive
      , o = s === void 0 ? !0 : s
      , a = n.roundOffsets
      , c = a === void 0 ? !0 : a
      , l = {
        placement: Fi(t.placement),
        variation: Vs(t.placement),
        popper: t.elements.popper,
        popperRect: t.rects.popper,
        gpuAcceleration: r,
        isFixed: t.options.strategy === "fixed"
    };
    t.modifiersData.popperOffsets != null && (t.styles.popper = Object.assign({}, t.styles.popper, vE(Object.assign({}, l, {
        offsets: t.modifiersData.popperOffsets,
        position: t.options.strategy,
        adaptive: o,
        roundOffsets: c
    })))),
    t.modifiersData.arrow != null && (t.styles.arrow = Object.assign({}, t.styles.arrow, vE(Object.assign({}, l, {
        offsets: t.modifiersData.arrow,
        position: "absolute",
        adaptive: !1,
        roundOffsets: c
    })))),
    t.attributes.popper = Object.assign({}, t.attributes.popper, {
        "data-popper-placement": t.placement
    })
}
var _E = {
    name: "computeStyles",
    enabled: !0,
    phase: "beforeWrite",
    fn: wj,
    data: {}
};
var w2 = {
    passive: !0
};
function Cj(e) {
    var t = e.state
      , n = e.instance
      , i = e.options
      , r = i.scroll
      , s = r === void 0 ? !0 : r
      , o = i.resize
      , a = o === void 0 ? !0 : o
      , c = Tn(t.elements.popper)
      , l = [].concat(t.scrollParents.reference, t.scrollParents.popper);
    return s && l.forEach(function(u) {
        u.addEventListener("scroll", n.update, w2)
    }),
    a && c.addEventListener("resize", n.update, w2),
    function() {
        s && l.forEach(function(u) {
            u.removeEventListener("scroll", n.update, w2)
        }),
        a && c.removeEventListener("resize", n.update, w2)
    }
}
var yE = {
    name: "eventListeners",
    enabled: !0,
    phase: "write",
    fn: function() {},
    effect: Cj,
    data: {}
};
var Ej = {
    left: "right",
    right: "left",
    bottom: "top",
    top: "bottom"
};
function ih(e) {
    return e.replace(/left|right|bottom|top/g, function(t) {
        return Ej[t]
    })
}
var Tj = {
    start: "end",
    end: "start"
};
function C2(e) {
    return e.replace(/start|end/g, function(t) {
        return Tj[t]
    })
}
function g0(e) {
    var t = Tn(e)
      , n = t.pageXOffset
      , i = t.pageYOffset;
    return {
        scrollLeft: n,
        scrollTop: i
    }
}
function m0(e) {
    return Gs(Ki(e)).left + g0(e).scrollLeft
}
function K7(e, t) {
    var n = Tn(e)
      , i = Ki(e)
      , r = n.visualViewport
      , s = i.clientWidth
      , o = i.clientHeight
      , a = 0
      , c = 0;
    if (r) {
        s = r.width,
        o = r.height;
        var l = R1();
        (l || !l && t === "fixed") && (a = r.offsetLeft,
        c = r.offsetTop)
    }
    return {
        width: s,
        height: o,
        x: a + m0(e),
        y: c
    }
}
function Y7(e) {
    var t, n = Ki(e), i = g0(e), r = (t = e.ownerDocument) == null ? void 0 : t.body, s = po(n.scrollWidth, n.clientWidth, r ? r.scrollWidth : 0, r ? r.clientWidth : 0), o = po(n.scrollHeight, n.clientHeight, r ? r.scrollHeight : 0, r ? r.clientHeight : 0), a = -i.scrollLeft + m0(e), c = -i.scrollTop;
    return Ar(r || n).direction === "rtl" && (a += po(n.clientWidth, r ? r.clientWidth : 0) - s),
    {
        width: s,
        height: o,
        x: a,
        y: c
    }
}
function v0(e) {
    var t = Ar(e)
      , n = t.overflow
      , i = t.overflowX
      , r = t.overflowY;
    return /auto|scroll|overlay|hidden/.test(n + r + i)
}
function E2(e) {
    return ["html", "body", "#document"].indexOf(Ni(e)) >= 0 ? e.ownerDocument.body : bi(e) && v0(e) ? e : E2(Wa(e))
}
function zc(e, t) {
    var n;
    t === void 0 && (t = []);
    var i = E2(e)
      , r = i === ((n = e.ownerDocument) == null ? void 0 : n.body)
      , s = Tn(i)
      , o = r ? [s].concat(s.visualViewport || [], v0(i) ? i : []) : i
      , a = t.concat(o);
    return r ? a : a.concat(zc(Wa(o)))
}
function rh(e) {
    return Object.assign({}, e, {
        left: e.x,
        top: e.y,
        right: e.x + e.width,
        bottom: e.y + e.height
    })
}
function Oj(e, t) {
    var n = Gs(e, !1, t === "fixed");
    return n.top = n.top + e.clientTop,
    n.left = n.left + e.clientLeft,
    n.bottom = n.top + e.clientHeight,
    n.right = n.left + e.clientWidth,
    n.width = e.clientWidth,
    n.height = e.clientHeight,
    n.x = n.left,
    n.y = n.top,
    n
}
function bE(e, t, n) {
    return t === S2 ? rh(K7(e, n)) : Hs(t) ? Oj(t, n) : rh(Y7(Ki(e)))
}
function Pj(e) {
    var t = zc(Wa(e))
      , n = ["absolute", "fixed"].indexOf(Ar(e).position) >= 0
      , i = n && bi(e) ? go(e) : e;
    return Hs(i) ? t.filter(function(r) {
        return Hs(r) && D1(r, i) && Ni(r) !== "body"
    }) : []
}
function Q7(e, t, n, i) {
    var r = t === "clippingParents" ? Pj(e) : [].concat(t)
      , s = [].concat(r, [n])
      , o = s[0]
      , a = s.reduce(function(c, l) {
        var u = bE(e, l, i);
        return c.top = po(u.top, c.top),
        c.right = h0(u.right, c.right),
        c.bottom = h0(u.bottom, c.bottom),
        c.left = po(u.left, c.left),
        c
    }, bE(e, o, i));
    return a.width = a.right - a.left,
    a.height = a.bottom - a.top,
    a.x = a.left,
    a.y = a.top,
    a
}
function B1(e) {
    var t = e.reference, n = e.element, i = e.placement, r = i ? Fi(i) : null, s = i ? Vs(i) : null, o = t.x + t.width / 2 - n.width / 2, a = t.y + t.height / 2 - n.height / 2, c;
    switch (r) {
    case ai:
        c = {
            x: o,
            y: t.y - n.height
        };
        break;
    case Xi:
        c = {
            x: o,
            y: t.y + t.height
        };
        break;
    case Di:
        c = {
            x: t.x + t.width,
            y: a
        };
        break;
    case yi:
        c = {
            x: t.x - n.width,
            y: a
        };
        break;
    default:
        c = {
            x: t.x,
            y: t.y
        }
    }
    var l = r ? f0(r) : null;
    if (l != null) {
        var u = l === "y" ? "height" : "width";
        switch (s) {
        case Ga:
            c[l] = c[l] - (t[u] / 2 - n[u] / 2);
            break;
        case u0:
            c[l] = c[l] + (t[u] / 2 - n[u] / 2);
            break;
        default:
        }
    }
    return c
}
function Xc(e, t) {
    t === void 0 && (t = {});
    var n = t
      , i = n.placement
      , r = i === void 0 ? e.placement : i
      , s = n.strategy
      , o = s === void 0 ? e.strategy : s
      , a = n.boundary
      , c = a === void 0 ? hE : a
      , l = n.rootBoundary
      , u = l === void 0 ? S2 : l
      , h = n.elementContext
      , d = h === void 0 ? eh : h
      , f = n.altBoundary
      , g = f === void 0 ? !1 : f
      , p = n.padding
      , v = p === void 0 ? 0 : p
      , b = F1(typeof v != "number" ? v : L1(v, qc))
      , S = d === eh ? dE : eh
      , w = e.rects.popper
      , k = e.elements[g ? S : d]
      , B = Q7(Hs(k) ? k : k.contextElement || Ki(e.elements.popper), c, u, o)
      , N = Gs(e.elements.reference)
      , E = B1({
        reference: N,
        element: w,
        strategy: "absolute",
        placement: r
    })
      , F = rh(Object.assign({}, w, E))
      , O = d === eh ? F : N
      , V = {
        top: B.top - O.top + b.top,
        bottom: O.bottom - B.bottom + b.bottom,
        left: B.left - O.left + b.left,
        right: O.right - B.right + b.right
    }
      , X = e.modifiersData.offset;
    if (d === eh && X) {
        var x = X[r];
        Object.keys(V).forEach(function(j) {
            var fe = [Di, Xi].indexOf(j) >= 0 ? 1 : -1
              , he = [ai, Xi].indexOf(j) >= 0 ? "y" : "x";
            V[j] += x[he] * fe
        })
    }
    return V
}
function J7(e, t) {
    t === void 0 && (t = {});
    var n = t
      , i = n.placement
      , r = n.boundary
      , s = n.rootBoundary
      , o = n.padding
      , a = n.flipVariations
      , c = n.allowedAutoPlacements
      , l = c === void 0 ? x2 : c
      , u = Vs(i)
      , h = u ? a ? q7 : q7.filter(function(g) {
        return Vs(g) === u
    }) : qc
      , d = h.filter(function(g) {
        return l.indexOf(g) >= 0
    });
    d.length === 0 && (d = h);
    var f = d.reduce(function(g, p) {
        return g[p] = Xc(e, {
            placement: p,
            boundary: r,
            rootBoundary: s,
            padding: o
        })[Fi(p)],
        g
    }, {});
    return Object.keys(f).sort(function(g, p) {
        return f[g] - f[p]
    })
}
function Mj(e) {
    if (Fi(e) === b2)
        return [];
    var t = ih(e);
    return [C2(e), t, C2(t)]
}
function kj(e) {
    var t = e.state
      , n = e.options
      , i = e.name;
    if (!t.modifiersData[i]._skip) {
        for (var r = n.mainAxis, s = r === void 0 ? !0 : r, o = n.altAxis, a = o === void 0 ? !0 : o, c = n.fallbackPlacements, l = n.padding, u = n.boundary, h = n.rootBoundary, d = n.altBoundary, f = n.flipVariations, g = f === void 0 ? !0 : f, p = n.allowedAutoPlacements, v = t.options.placement, b = Fi(v), S = b === v, w = c || (S || !g ? [ih(v)] : Mj(v)), k = [v].concat(w).reduce(function(L, U) {
            return L.concat(Fi(U) === b2 ? J7(t, {
                placement: U,
                boundary: u,
                rootBoundary: h,
                padding: l,
                flipVariations: g,
                allowedAutoPlacements: p
            }) : U)
        }, []), B = t.rects.reference, N = t.rects.popper, E = new Map, F = !0, O = k[0], V = 0; V < k.length; V++) {
            var X = k[V]
              , x = Fi(X)
              , j = Vs(X) === Ga
              , fe = [ai, Xi].indexOf(x) >= 0
              , he = fe ? "width" : "height"
              , Re = Xc(t, {
                placement: X,
                boundary: u,
                rootBoundary: h,
                altBoundary: d,
                padding: l
            })
              , Xe = fe ? j ? Di : yi : j ? Xi : ai;
            B[he] > N[he] && (Xe = ih(Xe));
            var pt = ih(Xe)
              , it = [];
            if (s && it.push(Re[x] <= 0),
            a && it.push(Re[Xe] <= 0, Re[pt] <= 0),
            it.every(function(L) {
                return L
            })) {
                O = X,
                F = !1;
                break
            }
            E.set(X, it)
        }
        if (F)
            for (var de = g ? 3 : 1, Ue = function(U) {
                var te = k.find(function(Ce) {
                    var Ve = E.get(Ce);
                    if (Ve)
                        return Ve.slice(0, U).every(function(De) {
                            return De
                        })
                });
                if (te)
                    return O = te,
                    "break"
            }, A = de; A > 0; A--) {
                var q = Ue(A);
                if (q === "break")
                    break
            }
        t.placement !== O && (t.modifiersData[i]._skip = !0,
        t.placement = O,
        t.reset = !0)
    }
}
var Z7 = {
    name: "flip",
    enabled: !0,
    phase: "main",
    fn: kj,
    requiresIfExists: ["offset"],
    data: {
        _skip: !1
    }
};
function Aj(e, t, n) {
    var i = Fi(e)
      , r = [yi, ai].indexOf(i) >= 0 ? -1 : 1
      , s = typeof n == "function" ? n(Object.assign({}, t, {
        placement: e
    })) : n
      , o = s[0]
      , a = s[1];
    return o = o || 0,
    a = (a || 0) * r,
    [yi, Di].indexOf(i) >= 0 ? {
        x: a,
        y: o
    } : {
        x: o,
        y: a
    }
}
function Ij(e) {
    var t = e.state
      , n = e.options
      , i = e.name
      , r = n.offset
      , s = r === void 0 ? [0, 0] : r
      , o = x2.reduce(function(u, h) {
        return u[h] = Aj(h, t.rects, s),
        u
    }, {})
      , a = o[t.placement]
      , c = a.x
      , l = a.y;
    t.modifiersData.popperOffsets != null && (t.modifiersData.popperOffsets.x += c,
    t.modifiersData.popperOffsets.y += l),
    t.modifiersData[i] = o
}
var e9 = {
    name: "offset",
    enabled: !0,
    phase: "main",
    requires: ["popperOffsets"],
    fn: Ij
};
function Rj(e) {
    var t = e.state
      , n = e.name;
    t.modifiersData[n] = B1({
        reference: t.rects.reference,
        element: t.rects.popper,
        strategy: "absolute",
        placement: t.placement
    })
}
var SE = {
    name: "popperOffsets",
    enabled: !0,
    phase: "read",
    fn: Rj,
    data: {}
};
function t9(e) {
    return e === "x" ? "y" : "x"
}
function Dj(e) {
    var t = e.state
      , n = e.options
      , i = e.name
      , r = n.mainAxis
      , s = r === void 0 ? !0 : r
      , o = n.altAxis
      , a = o === void 0 ? !1 : o
      , c = n.boundary
      , l = n.rootBoundary
      , u = n.altBoundary
      , h = n.padding
      , d = n.tether
      , f = d === void 0 ? !0 : d
      , g = n.tetherOffset
      , p = g === void 0 ? 0 : g
      , v = Xc(t, {
        boundary: c,
        rootBoundary: l,
        padding: h,
        altBoundary: u
    })
      , b = Fi(t.placement)
      , S = Vs(t.placement)
      , w = !S
      , k = f0(b)
      , B = t9(k)
      , N = t.modifiersData.popperOffsets
      , E = t.rects.reference
      , F = t.rects.popper
      , O = typeof p == "function" ? p(Object.assign({}, t.rects, {
        placement: t.placement
    })) : p
      , V = typeof O == "number" ? {
        mainAxis: O,
        altAxis: O
    } : Object.assign({
        mainAxis: 0,
        altAxis: 0
    }, O)
      , X = t.modifiersData.offset ? t.modifiersData.offset[t.placement] : null
      , x = {
        x: 0,
        y: 0
    };
    if (N) {
        if (s) {
            var j, fe = k === "y" ? ai : yi, he = k === "y" ? Xi : Di, Re = k === "y" ? "height" : "width", Xe = N[k], pt = Xe + v[fe], it = Xe - v[he], de = f ? -F[Re] / 2 : 0, Ue = S === Ga ? E[Re] : F[Re], A = S === Ga ? -F[Re] : -E[Re], q = t.elements.arrow, L = f && q ? d0(q) : {
                width: 0,
                height: 0
            }, U = t.modifiersData["arrow#persistent"] ? t.modifiersData["arrow#persistent"].padding : N1(), te = U[fe], Ce = U[he], Ve = p0(0, E[Re], L[Re]), De = w ? E[Re] / 2 - de - Ve - te - V.mainAxis : Ue - Ve - te - V.mainAxis, ge = w ? -E[Re] / 2 + de + Ve + Ce + V.mainAxis : A + Ve + Ce + V.mainAxis, kt = t.elements.arrow && go(t.elements.arrow), xt = kt ? k === "y" ? kt.clientTop || 0 : kt.clientLeft || 0 : 0, fn = (j = X?.[k]) != null ? j : 0, Ot = Xe + De - fn - xt, xi = Xe + ge - fn, Xt = p0(f ? h0(pt, Ot) : pt, Xe, f ? po(it, xi) : it);
            N[k] = Xt,
            x[k] = Xt - Xe
        }
        if (a) {
            var He, er = k === "x" ? ai : yi, ns = k === "x" ? Xi : Di, Bi = N[B], is = B === "y" ? "height" : "width", al = Bi + v[er], Kn = Bi - v[ns], pn = [ai, yi].indexOf(b) !== -1, ca = (He = X?.[B]) != null ? He : 0, tc = pn ? al : Bi - E[is] - F[is] - ca + V.altAxis, ne = pn ? Bi + E[is] + F[is] - ca - V.altAxis : Kn, _e = f && pn ? mE(tc, Bi, ne) : p0(f ? tc : al, Bi, f ? ne : Kn);
            N[B] = _e,
            x[B] = _e - Bi
        }
        t.modifiersData[i] = x
    }
}
var n9 = {
    name: "preventOverflow",
    enabled: !0,
    phase: "main",
    fn: Dj,
    requiresIfExists: ["offset"]
};
function i9(e) {
    return {
        scrollLeft: e.scrollLeft,
        scrollTop: e.scrollTop
    }
}
function r9(e) {
    return e === Tn(e) || !bi(e) ? g0(e) : i9(e)
}
function Nj(e) {
    var t = e.getBoundingClientRect()
      , n = Va(t.width) / e.offsetWidth || 1
      , i = Va(t.height) / e.offsetHeight || 1;
    return n !== 1 || i !== 1
}
function s9(e, t, n) {
    n === void 0 && (n = !1);
    var i = bi(t)
      , r = bi(t) && Nj(t)
      , s = Ki(t)
      , o = Gs(e, r, n)
      , a = {
        scrollLeft: 0,
        scrollTop: 0
    }
      , c = {
        x: 0,
        y: 0
    };
    return (i || !i && !n) && ((Ni(t) !== "body" || v0(s)) && (a = r9(t)),
    bi(t) ? (c = Gs(t, !0),
    c.x += t.clientLeft,
    c.y += t.clientTop) : s && (c.x = m0(s))),
    {
        x: o.left + a.scrollLeft - c.x,
        y: o.top + a.scrollTop - c.y,
        width: o.width,
        height: o.height
    }
}
function Fj(e) {
    var t = new Map
      , n = new Set
      , i = [];
    e.forEach(function(s) {
        t.set(s.name, s)
    });
    function r(s) {
        n.add(s.name);
        var o = [].concat(s.requires || [], s.requiresIfExists || []);
        o.forEach(function(a) {
            if (!n.has(a)) {
                var c = t.get(a);
                c && r(c)
            }
        }),
        i.push(s)
    }
    return e.forEach(function(s) {
        n.has(s.name) || r(s)
    }),
    i
}
function o9(e) {
    var t = Fj(e);
    return fE.reduce(function(n, i) {
        return n.concat(t.filter(function(r) {
            return r.phase === i
        }))
    }, [])
}
function a9(e) {
    var t;
    return function() {
        return t || (t = new Promise(function(n) {
            Promise.resolve().then(function() {
                t = void 0,
                n(e())
            })
        }
        )),
        t
    }
}
function c9(e) {
    var t = e.reduce(function(n, i) {
        var r = n[i.name];
        return n[i.name] = r ? Object.assign({}, r, i, {
            options: Object.assign({}, r.options, i.options),
            data: Object.assign({}, r.data, i.data)
        }) : i,
        n
    }, {});
    return Object.keys(t).map(function(n) {
        return t[n]
    })
}
var xE = {
    placement: "bottom",
    modifiers: [],
    strategy: "absolute"
};
function wE() {
    for (var e = arguments.length, t = new Array(e), n = 0; n < e; n++)
        t[n] = arguments[n];
    return !t.some(function(i) {
        return !(i && typeof i.getBoundingClientRect == "function")
    })
}
function CE(e) {
    e === void 0 && (e = {});
    var t = e
      , n = t.defaultModifiers
      , i = n === void 0 ? [] : n
      , r = t.defaultOptions
      , s = r === void 0 ? xE : r;
    return function(a, c, l) {
        l === void 0 && (l = s);
        var u = {
            placement: "bottom",
            orderedModifiers: [],
            options: Object.assign({}, xE, s),
            modifiersData: {},
            elements: {
                reference: a,
                popper: c
            },
            attributes: {},
            styles: {}
        }
          , h = []
          , d = !1
          , f = {
            state: u,
            setOptions: function(b) {
                var S = typeof b == "function" ? b(u.options) : b;
                p(),
                u.options = Object.assign({}, s, u.options, S),
                u.scrollParents = {
                    reference: Hs(a) ? zc(a) : a.contextElement ? zc(a.contextElement) : [],
                    popper: zc(c)
                };
                var w = o9(c9([].concat(i, u.options.modifiers)));
                return u.orderedModifiers = w.filter(function(k) {
                    return k.enabled
                }),
                g(),
                f.update()
            },
            forceUpdate: function() {
                if (!d) {
                    var b = u.elements
                      , S = b.reference
                      , w = b.popper;
                    if (wE(S, w)) {
                        u.rects = {
                            reference: s9(S, go(w), u.options.strategy === "fixed"),
                            popper: d0(w)
                        },
                        u.reset = !1,
                        u.placement = u.options.placement,
                        u.orderedModifiers.forEach(function(V) {
                            return u.modifiersData[V.name] = Object.assign({}, V.data)
                        });
                        for (var k = 0; k < u.orderedModifiers.length; k++) {
                            if (u.reset === !0) {
                                u.reset = !1,
                                k = -1;
                                continue
                            }
                            var B = u.orderedModifiers[k]
                              , N = B.fn
                              , E = B.options
                              , F = E === void 0 ? {} : E
                              , O = B.name;
                            typeof N == "function" && (u = N({
                                state: u,
                                options: F,
                                name: O,
                                instance: f
                            }) || u)
                        }
                    }
                }
            },
            update: a9(function() {
                return new Promise(function(v) {
                    f.forceUpdate(),
                    v(u)
                }
                )
            }),
            destroy: function() {
                p(),
                d = !0
            }
        };
        if (!wE(a, c))
            return f;
        f.setOptions(l).then(function(v) {
            !d && l.onFirstUpdate && l.onFirstUpdate(v)
        });
        function g() {
            u.orderedModifiers.forEach(function(v) {
                var b = v.name
                  , S = v.options
                  , w = S === void 0 ? {} : S
                  , k = v.effect;
                if (typeof k == "function") {
                    var B = k({
                        state: u,
                        name: b,
                        instance: f,
                        options: w
                    })
                      , N = function() {};
                    h.push(B || N)
                }
            })
        }
        function p() {
            h.forEach(function(v) {
                return v()
            }),
            h = []
        }
        return f
    }
}
var Lj = [yE, SE, _E, pE]
  , l9 = CE({
    defaultModifiers: Lj
});
var p9 = ["*"];
var Bj = ["dialog"];
function Uj(e, t) {
    if (e & 1 && oe(0),
    e & 2) {
        let n = Te(2);
        Pn(n.title)
    }
}
function Hj(e, t) {}
function Gj(e, t) {
    if (e & 1 && (H(0, "h3", 2),
    at(1, Uj, 1, 1, "ng-template", null, 0, hc)(3, Hj, 0, 0, "ng-template", 4),
    W()),
    e & 2) {
        let n = uc(2)
          , i = Te();
        Q(3),
        ye("ngTemplateOutlet", i.isTitleTemplate() ? i.title : n)("ngTemplateOutletContext", i.context)
    }
}
var PE = {
    animation: !0,
    transitionTimerDelayMs: 5
}
  , g9 = ( () => {
    let t = class t {
        constructor() {
            this.animation = PE.animation
        }
    }
    ;
    t.\u0275fac = function(r) {
        return new (r || t)
    }
    ,
    t.\u0275prov = re({
        token: t,
        factory: t.\u0275fac,
        providedIn: "root"
    });
    let e = t;
    return e
}
)();
function Vj(e) {
    let {transitionDelay: t, transitionDuration: n} = window.getComputedStyle(e)
      , i = parseFloat(t)
      , r = parseFloat(n);
    return (i + r) * 1e3
}
function k2(e) {
    return typeof e == "string"
}
function u9(e) {
    return e != null
}
function Wj(e) {
    return e && e.then
}
function $j(e, t) {
    return !t || typeof e.closest > "u" ? null : e.closest(t)
}
function ME(e) {
    return (e || document.body).getBoundingClientRect()
}
function jj(e) {
    return t => new bo(n => {
        let i = o => e.run( () => n.next(o))
          , r = o => e.run( () => n.error(o))
          , s = () => e.run( () => n.complete());
        return t.subscribe({
            next: i,
            error: r,
            complete: s
        })
    }
    )
}
function kE(e=document) {
    let t = e?.activeElement;
    return t ? t.shadowRoot ? kE(t.shadowRoot) : t : null
}
var qj = () => {}
  , {transitionTimerDelayMs: zj} = PE
  , T2 = new Map
  , $a = (e, t, n, i) => {
    let r = i.context || {}
      , s = T2.get(t);
    if (s)
        switch (i.runningTransition) {
        case "continue":
            return Ur;
        case "stop":
            e.run( () => s.transition$.complete()),
            r = Object.assign(s.context, r),
            T2.delete(t)
        }
    let o = n(t, i.animation, r) || qj;
    if (!i.animation || window.getComputedStyle(t).transitionProperty === "none")
        return e.run( () => o()),
        Be(void 0).pipe(jj(e));
    let a = new lt
      , c = new lt
      , l = a.pipe(nv(!0));
    T2.set(t, {
        transition$: a,
        complete: () => {
            c.next(),
            c.complete()
        }
        ,
        context: r
    });
    let u = Vj(t);
    return e.runOutsideAngular( () => {
        let h = sn(t, "transitionend").pipe(In(l), mt( ({target: f}) => f === t))
          , d = li(u + zj).pipe(In(l));
        zp(d, h, c).pipe(In(l)).subscribe( () => {
            T2.delete(t),
            e.run( () => {
                o(),
                a.next(),
                a.complete()
            }
            )
        }
        )
    }
    ),
    a.asObservable()
}
;
var O2 = (e, t) => t ? t.some(n => n.contains(e)) : !1
  , EE = (e, t) => !t || $j(e, t) != null
  , Xj = ( () => {
    let e = () => /iPad|iPhone|iPod/.test(navigator.userAgent) || /Macintosh/.test(navigator.userAgent) && navigator.maxTouchPoints && navigator.maxTouchPoints > 2
      , t = () => /Android/.test(navigator.userAgent);
    return typeof navigator < "u" ? !!navigator.userAgent && (e() || t()) : !1
}
)()
  , Kj = e => Xj ? () => setTimeout( () => e(), 100) : e;
function m9(e, t, n, i, r, s, o, a) {
    n && e.runOutsideAngular(Kj( () => {
        let c = d => {
            let f = d.target;
            return d.button === 2 || O2(f, o) ? !1 : n === "inside" ? O2(f, s) && EE(f, a) : n === "outside" ? !O2(f, s) : EE(f, a) || !O2(f, s)
        }
          , l = sn(t, "keydown").pipe(In(r), mt(d => d.key === "Escape"), Ge(d => d.preventDefault()))
          , u = sn(t, "mousedown").pipe($e(c), In(r))
          , h = sn(t, "mouseup").pipe(L0(u), mt( ([d,f]) => f), ss(0), In(r));
        zp([l.pipe($e(d => 0)), h.pipe($e(d => 1))]).subscribe(d => e.run( () => i(d)))
    }
    ))
}
var AE = ["a[href]", "button:not([disabled])", 'input:not([disabled]):not([type="hidden"])', "select:not([disabled])", "textarea:not([disabled])", "[contenteditable]", '[tabindex]:not([tabindex="-1"])'].join(", ");
function IE(e) {
    let t = Array.from(e.querySelectorAll(AE)).filter(n => n.tabIndex !== -1);
    return [t[0], t[t.length - 1]]
}
var Yj = (e, t, n, i=!1) => {
    e.runOutsideAngular( () => {
        let r = sn(t, "focusin").pipe(In(n), $e(s => s.target));
        sn(t, "keydown").pipe(In(n), mt(s => s.key === "Tab"), L0(r)).subscribe( ([s,o]) => {
            let[a,c] = IE(t);
            (o === a || o === t) && s.shiftKey && (c.focus(),
            s.preventDefault()),
            o === c && !s.shiftKey && (a.focus(),
            s.preventDefault())
        }
        ),
        i && sn(t, "click").pipe(In(n), L0(r), $e(s => s[1])).subscribe(s => s.focus())
    }
    )
}
  , Qj = ( () => {
    let t = class t {
        constructor() {
            this._element = z(Nn).documentElement
        }
        isRTL() {
            return (this._element.getAttribute("dir") || "").toLowerCase() === "rtl"
        }
    }
    ;
    t.\u0275fac = function(r) {
        return new (r || t)
    }
    ,
    t.\u0275prov = re({
        token: t,
        factory: t.\u0275fac,
        providedIn: "root"
    });
    let e = t;
    return e
}
)()
  , Jj = /\s+/
  , Zj = /  +/gi
  , eq = {
    top: ["top"],
    bottom: ["bottom"],
    start: ["left", "right"],
    left: ["left"],
    end: ["right", "left"],
    right: ["right"],
    "top-start": ["top-start", "top-end"],
    "top-left": ["top-start"],
    "top-end": ["top-end", "top-start"],
    "top-right": ["top-end"],
    "bottom-start": ["bottom-start", "bottom-end"],
    "bottom-left": ["bottom-start"],
    "bottom-end": ["bottom-end", "bottom-start"],
    "bottom-right": ["bottom-end"],
    "start-top": ["left-start", "right-start"],
    "left-top": ["left-start"],
    "start-bottom": ["left-end", "right-end"],
    "left-bottom": ["left-end"],
    "end-top": ["right-start", "left-start"],
    "right-top": ["right-start"],
    "end-bottom": ["right-end", "left-end"],
    "right-bottom": ["right-end"]
};
function tq(e, t) {
    let[n,i] = eq[e];
    return t && i || n
}
var nq = /^left/
  , iq = /^right/
  , rq = /^start/
  , sq = /^end/;
function oq(e, t) {
    let[n,i] = t.split("-")
      , r = n.replace(nq, "start").replace(iq, "end")
      , s = [r];
    if (i) {
        let o = i;
        (n === "left" || n === "right") && (o = o.replace(rq, "top").replace(sq, "bottom")),
        s.push(`${r}-${o}`)
    }
    return e && (s = s.map(o => `${e}-${o}`)),
    s.join(" ")
}
function TE({placement: e, baseClass: t}, n) {
    let i = Array.isArray(e) ? e : e.split(Jj)
      , r = ["top", "bottom", "start", "end", "top-start", "top-end", "bottom-start", "bottom-end", "start-top", "start-bottom", "end-top", "end-bottom"]
      , s = i.findIndex(l => l === "auto");
    s >= 0 && r.forEach(function(l) {
        i.find(u => u.search("^" + l) !== -1) == null && i.splice(s++, 1, l)
    });
    let o = i.map(l => tq(l, n.isRTL()));
    return {
        placement: o.shift(),
        modifiers: [{
            name: "bootstrapClasses",
            enabled: !!t,
            phase: "write",
            fn({state: l}) {
                let u = new RegExp(t + "(-[a-z]+)*","gi")
                  , h = l.elements.popper
                  , d = l.placement
                  , f = h.className;
                f = f.replace(u, ""),
                f += ` ${oq(t, d)}`,
                f = f.trim().replace(Zj, " "),
                h.className = f
            }
        }, Z7, n9, X7, {
            enabled: !0,
            name: "flip",
            options: {
                fallbackPlacements: o
            }
        }]
    }
}
function OE(e) {
    return e
}
function v9() {
    let e = z(Qj)
      , t = null;
    return {
        createPopper(n) {
            if (!t) {
                let r = (n.updatePopperOptions || OE)(TE(n, e));
                t = l9(n.hostElement, n.targetElement, r)
            }
        },
        update() {
            t && t.update()
        },
        setOptions(n) {
            if (t) {
                let r = (n.updatePopperOptions || OE)(TE(n, e));
                t.setOptions(r)
            }
        },
        destroy() {
            t && (t.destroy(),
            t = null)
        }
    }
}
function _9(e) {
    return t => (t.modifiers.push(e9, {
        name: "offset",
        options: {
            offset: () => e
        }
    }),
    t)
}
var G5e = new Date(1882,10,12)
  , V5e = new Date(2174,10,25);
var W5e = 1e3 * 60 * 60 * 24;
var y9 = 1080
  , aq = 24 * y9
  , cq = 12 * y9 + 793
  , $5e = 29 * aq + cq
  , j5e = 11 * y9 + 204;
var lq = ( () => {
    let t = class t {
        constructor() {
            this.autoClose = !0,
            this.placement = ["bottom-start", "bottom-end", "top-start", "top-end"],
            this.popperOptions = i => i,
            this.container = null
        }
    }
    ;
    t.\u0275fac = function(r) {
        return new (r || t)
    }
    ,
    t.\u0275prov = re({
        token: t,
        factory: t.\u0275fac,
        providedIn: "root"
    });
    let e = t;
    return e
}
)()
  , RE = ( () => {
    let t = class t {
        constructor() {
            this._disabled = !1,
            this.nativeElement = z(Os).nativeElement,
            this.tabindex = 0
        }
        set disabled(i) {
            this._disabled = i === "" || i === !0
        }
        get disabled() {
            return this._disabled
        }
    }
    ;
    t.\u0275fac = function(r) {
        return new (r || t)
    }
    ,
    t.\u0275dir = as({
        type: t,
        selectors: [["", "ngbDropdownItem", ""]],
        hostAttrs: [1, "dropdown-item"],
        hostVars: 3,
        hostBindings: function(r, s) {
            r & 2 && (Ah("tabIndex", s.disabled ? -1 : s.tabindex),
            wo("disabled", s.disabled))
        },
        inputs: {
            tabindex: "tabindex",
            disabled: "disabled"
        }
    });
    let e = t;
    return e
}
)()
  , q5e = ( () => {
    let t = class t {
        constructor() {
            this.item = z(RE)
        }
    }
    ;
    t.\u0275fac = function(r) {
        return new (r || t)
    }
    ,
    t.\u0275dir = as({
        type: t,
        selectors: [["button", "ngbDropdownItem", ""]],
        hostVars: 1,
        hostBindings: function(r, s) {
            r & 2 && Ah("disabled", s.item.disabled)
        }
    });
    let e = t;
    return e
}
)()
  , uq = ( () => {
    let t = class t {
        constructor() {
            this.dropdown = z(DE),
            this.nativeElement = z(Os).nativeElement
        }
    }
    ;
    t.\u0275fac = function(r) {
        return new (r || t)
    }
    ,
    t.\u0275dir = as({
        type: t,
        selectors: [["", "ngbDropdownMenu", ""]],
        contentQueries: function(r, s, o) {
            if (r & 1 && Ih(o, RE, 4),
            r & 2) {
                let a;
                G0(a = V0()) && (s.menuItems = a)
            }
        },
        hostAttrs: [1, "dropdown-menu"],
        hostVars: 2,
        hostBindings: function(r, s) {
            r & 1 && Qe("keydown.ArrowUp", function(a) {
                return s.dropdown.onKeyDown(a)
            })("keydown.ArrowDown", function(a) {
                return s.dropdown.onKeyDown(a)
            })("keydown.Home", function(a) {
                return s.dropdown.onKeyDown(a)
            })("keydown.End", function(a) {
                return s.dropdown.onKeyDown(a)
            })("keydown.Enter", function(a) {
                return s.dropdown.onKeyDown(a)
            })("keydown.Space", function(a) {
                return s.dropdown.onKeyDown(a)
            })("keydown.Tab", function(a) {
                return s.dropdown.onKeyDown(a)
            })("keydown.Shift.Tab", function(a) {
                return s.dropdown.onKeyDown(a)
            }),
            r & 2 && wo("show", s.dropdown.isOpen())
        }
    });
    let e = t;
    return e
}
)()
  , h9 = ( () => {
    let t = class t {
        constructor() {
            this.dropdown = z(DE),
            this.nativeElement = z(Os).nativeElement
        }
    }
    ;
    t.\u0275fac = function(r) {
        return new (r || t)
    }
    ,
    t.\u0275dir = as({
        type: t,
        selectors: [["", "ngbDropdownAnchor", ""]],
        hostAttrs: [1, "dropdown-toggle"],
        hostVars: 3,
        hostBindings: function(r, s) {
            r & 2 && (U0("aria-expanded", s.dropdown.isOpen()),
            wo("show", s.dropdown.isOpen()))
        }
    });
    let e = t;
    return e
}
)()
  , z5e = ( () => {
    let t = class t extends h9 {
    }
    ;
    t.\u0275fac = ( () => {
        let i;
        return function(s) {
            return (i || (i = On(t)))(s || t)
        }
    }
    )(),
    t.\u0275dir = as({
        type: t,
        selectors: [["", "ngbDropdownToggle", ""]],
        hostAttrs: [1, "dropdown-toggle"],
        hostVars: 3,
        hostBindings: function(r, s) {
            r & 1 && Qe("click", function() {
                return s.dropdown.toggle()
            })("keydown.ArrowUp", function(a) {
                return s.dropdown.onKeyDown(a)
            })("keydown.ArrowDown", function(a) {
                return s.dropdown.onKeyDown(a)
            })("keydown.Home", function(a) {
                return s.dropdown.onKeyDown(a)
            })("keydown.End", function(a) {
                return s.dropdown.onKeyDown(a)
            })("keydown.Tab", function(a) {
                return s.dropdown.onKeyDown(a)
            })("keydown.Shift.Tab", function(a) {
                return s.dropdown.onKeyDown(a)
            }),
            r & 2 && (U0("aria-expanded", s.dropdown.isOpen()),
            wo("show", s.dropdown.isOpen()))
        },
        features: [c4([{
            provide: h9,
            useExisting: av( () => t)
        }]), xo]
    });
    let e = t;
    return e
}
)()
  , DE = ( () => {
    let t = class t {
        constructor() {
            this._changeDetector = z(dc),
            this._config = z(lq),
            this._document = z(Nn),
            this._injector = z(an),
            this._ngZone = z(Rn),
            this._nativeElement = z(Os).nativeElement,
            this._destroyCloseHandlers$ = new lt,
            this._bodyContainer = null,
            this._positioning = v9(),
            this.autoClose = this._config.autoClose,
            this._open = !1,
            this.placement = this._config.placement,
            this.popperOptions = this._config.popperOptions,
            this.container = this._config.container,
            this.openChange = new os
        }
        ngOnInit() {
            this.display || (this.display = this._nativeElement.closest(".navbar") ? "static" : "dynamic")
        }
        ngAfterContentInit() {
            fl({
                write: () => {
                    this._applyPlacementClasses(),
                    this._open && this._setCloseHandlers()
                }
            }, {
                injector: this._injector
            })
        }
        ngOnChanges(i) {
            if (i.container && this._open && this._applyContainer(this.container),
            i.placement && !i.placement.firstChange && (this._positioning.setOptions({
                hostElement: this._anchor.nativeElement,
                targetElement: this._bodyContainer || this._menu.nativeElement,
                placement: this.placement
            }),
            this._applyPlacementClasses()),
            i.dropdownClass) {
                let {currentValue: r, previousValue: s} = i.dropdownClass;
                this._applyCustomDropdownClass(r, s)
            }
            i.autoClose && this._open && (this.autoClose = i.autoClose.currentValue,
            this._setCloseHandlers())
        }
        isOpen() {
            return this._open
        }
        open() {
            this._open || (this._open = !0,
            this._applyContainer(this.container),
            this.openChange.emit(!0),
            this._setCloseHandlers(),
            this._anchor && (this._anchor.nativeElement.focus(),
            this.display === "dynamic" && this._ngZone.runOutsideAngular( () => {
                this._positioning.createPopper({
                    hostElement: this._anchor.nativeElement,
                    targetElement: this._bodyContainer || this._menu.nativeElement,
                    placement: this.placement,
                    updatePopperOptions: i => this.popperOptions(_9([0, 2])(i))
                }),
                this._applyPlacementClasses(),
                this._afterRenderRef = _5({
                    write: () => {
                        this._positionMenu()
                    }
                }, {
                    injector: this._injector
                })
            }
            )))
        }
        _setCloseHandlers() {
            this._destroyCloseHandlers$.next(),
            m9(this._ngZone, this._document, this.autoClose, i => {
                this.close(),
                i === 0 && this._anchor.nativeElement.focus()
            }
            , this._destroyCloseHandlers$, this._menu ? [this._menu.nativeElement] : [], this._anchor ? [this._anchor.nativeElement] : [], ".dropdown-item,.dropdown-divider")
        }
        close() {
            this._open && (this._open = !1,
            this._resetContainer(),
            this._positioning.destroy(),
            this._afterRenderRef?.destroy(),
            this._destroyCloseHandlers$.next(),
            this.openChange.emit(!1),
            this._changeDetector.markForCheck())
        }
        toggle() {
            this.isOpen() ? this.close() : this.open()
        }
        ngOnDestroy() {
            this.close()
        }
        onKeyDown(i) {
            let {key: r} = i
              , s = this._getMenuElements()
              , o = -1
              , a = null
              , c = this._isEventFromToggle(i);
            if (!c && s.length && s.forEach( (l, u) => {
                l.contains(i.target) && (a = l),
                l === kE(this._document) && (o = u)
            }
            ),
            r === " " || r === "Enter") {
                a && (this.autoClose === !0 || this.autoClose === "inside") && sn(a, "click").pipe(Lt(1)).subscribe( () => this.close());
                return
            }
            if (r === "Tab") {
                if (i.target && this.isOpen() && this.autoClose)
                    if (this._anchor.nativeElement === i.target) {
                        this.container === "body" && !i.shiftKey ? (this._menu.nativeElement.setAttribute("tabindex", "0"),
                        this._menu.nativeElement.focus(),
                        this._menu.nativeElement.removeAttribute("tabindex")) : i.shiftKey && this.close();
                        return
                    } else if (this.container === "body") {
                        let l = this._menu.nativeElement.querySelectorAll(AE);
                        i.shiftKey && i.target === l[0] ? (this._anchor.nativeElement.focus(),
                        i.preventDefault()) : !i.shiftKey && i.target === l[l.length - 1] && (this._anchor.nativeElement.focus(),
                        this.close())
                    } else
                        sn(i.target, "focusout").pipe(Lt(1)).subscribe( ({relatedTarget: l}) => {
                            this._nativeElement.contains(l) || this.close()
                        }
                        );
                return
            }
            if (c || a) {
                if (this.open(),
                s.length) {
                    switch (r) {
                    case "ArrowDown":
                        o = Math.min(o + 1, s.length - 1);
                        break;
                    case "ArrowUp":
                        if (this._isDropup() && o === -1) {
                            o = s.length - 1;
                            break
                        }
                        o = Math.max(o - 1, 0);
                        break;
                    case "Home":
                        o = 0;
                        break;
                    case "End":
                        o = s.length - 1;
                        break
                    }
                    s[o].focus()
                }
                i.preventDefault()
            }
        }
        _isDropup() {
            return this._nativeElement.classList.contains("dropup")
        }
        _isEventFromToggle(i) {
            return this._anchor.nativeElement.contains(i.target)
        }
        _getMenuElements() {
            return this._menu ? this._menu.menuItems.filter( ({disabled: i}) => !i).map( ({nativeElement: i}) => i) : []
        }
        _positionMenu() {
            let i = this._menu;
            this.isOpen() && i && (this.display === "dynamic" ? (this._positioning.update(),
            this._applyPlacementClasses()) : this._applyPlacementClasses(this._getFirstPlacement(this.placement)))
        }
        _getFirstPlacement(i) {
            return Array.isArray(i) ? i[0] : i.split(" ")[0]
        }
        _resetContainer() {
            this._menu && this._nativeElement.appendChild(this._menu.nativeElement),
            this._bodyContainer && (this._document.body.removeChild(this._bodyContainer),
            this._bodyContainer = null)
        }
        _applyContainer(i=null) {
            if (this._resetContainer(),
            i === "body") {
                let r = this._menu.nativeElement
                  , s = this._bodyContainer = this._bodyContainer || this._document.createElement("div");
                s.style.position = "absolute",
                r.style.position = "static",
                s.style.zIndex = "1055",
                s.appendChild(r),
                this._document.body.appendChild(s)
            }
            this._applyCustomDropdownClass(this.dropdownClass)
        }
        _applyCustomDropdownClass(i, r) {
            let s = this.container === "body" ? this._bodyContainer : this._nativeElement;
            s && (r && s.classList.remove(r),
            i && s.classList.add(i))
        }
        _applyPlacementClasses(i) {
            if (this._menu) {
                i || (i = this._getFirstPlacement(this.placement)),
                this._nativeElement.classList.remove("dropup", "dropdown"),
                this.display === "static" ? this._menu.nativeElement.setAttribute("data-bs-popper", "static") : this._menu.nativeElement.removeAttribute("data-bs-popper");
                let r = i.search("^top") !== -1 ? "dropup" : "dropdown";
                this._nativeElement.classList.add(r),
                this._bodyContainer && (this._bodyContainer.classList.remove("dropup", "dropdown"),
                this._bodyContainer.classList.add(r))
            }
        }
    }
    ;
    t.\u0275fac = function(r) {
        return new (r || t)
    }
    ,
    t.\u0275dir = as({
        type: t,
        selectors: [["", "ngbDropdown", ""]],
        contentQueries: function(r, s, o) {
            if (r & 1 && (Ih(o, uq, 5),
            Ih(o, h9, 5)),
            r & 2) {
                let a;
                G0(a = V0()) && (s._menu = a.first),
                G0(a = V0()) && (s._anchor = a.first)
            }
        },
        hostVars: 2,
        hostBindings: function(r, s) {
            r & 2 && wo("show", s.isOpen())
        },
        inputs: {
            autoClose: "autoClose",
            dropdownClass: "dropdownClass",
            _open: [0, "open", "_open"],
            placement: "placement",
            popperOptions: "popperOptions",
            container: "container",
            display: "display"
        },
        outputs: {
            openChange: "openChange"
        },
        exportAs: ["ngbDropdown"],
        features: [qs]
    });
    let e = t;
    return e
}
)();
var X5e = ( () => {
    let t = class t {
    }
    ;
    t.\u0275fac = function(r) {
        return new (r || t)
    }
    ,
    t.\u0275mod = ir({
        type: t
    }),
    t.\u0275inj = nr({});
    let e = t;
    return e
}
)()
  , hq = ( () => {
    let t = class t {
        constructor() {
            this._ngbConfig = z(g9),
            this.backdrop = !0,
            this.fullscreen = !1,
            this.keyboard = !0,
            this.role = "dialog"
        }
        get animation() {
            return this._animation ?? this._ngbConfig.animation
        }
        set animation(i) {
            this._animation = i
        }
    }
    ;
    t.\u0275fac = function(r) {
        return new (r || t)
    }
    ,
    t.\u0275prov = re({
        token: t,
        factory: t.\u0275fac,
        providedIn: "root"
    });
    let e = t;
    return e
}
)()
  , ja = class {
    constructor(t, n, i) {
        this.nodes = t,
        this.viewRef = n,
        this.componentRef = i
    }
}
  , P2 = class {
    constructor(t) {
        this._componentType = t,
        this._windowRef = null,
        this._contentRef = null,
        this._document = z(Nn),
        this._applicationRef = z(ua),
        this._injector = z(an),
        this._viewContainerRef = z(b5),
        this._ngZone = z(Rn)
    }
    open(t, n, i=!1) {
        this._windowRef || (this._contentRef = this._getContentRef(t, n),
        this._windowRef = this._viewContainerRef.createComponent(this._componentType, {
            injector: this._injector,
            projectableNodes: this._contentRef.nodes
        }));
        let {nativeElement: r} = this._windowRef.location
          , s = new lt;
        fl({
            mixedReadWrite: () => {
                s.next(),
                s.complete()
            }
        }, {
            injector: this._injector
        });
        let o = s.pipe(ci( () => $a(this._ngZone, r, ({classList: a}) => a.add("show"), {
            animation: i,
            runningTransition: "continue"
        })));
        return {
            windowRef: this._windowRef,
            transition$: o
        }
    }
    close(t=!1) {
        return this._windowRef ? $a(this._ngZone, this._windowRef.location.nativeElement, ({classList: n}) => n.remove("show"), {
            animation: t,
            runningTransition: "stop"
        }).pipe(Ge( () => {
            this._windowRef?.destroy(),
            this._contentRef?.viewRef?.destroy(),
            this._windowRef = null,
            this._contentRef = null
        }
        )) : Be(void 0)
    }
    _getContentRef(t, n) {
        if (t)
            if (t instanceof y5) {
                let i = t.createEmbeddedView(n);
                return this._applicationRef.attachView(i),
                new ja([i.rootNodes],i)
            } else
                return new ja([[this._document.createTextNode(`${t}`)]]);
        else
            return new ja([])
    }
}
  , dq = ( () => {
    let t = class t {
        constructor() {
            this._document = z(Nn)
        }
        hide() {
            let i = Math.abs(window.innerWidth - this._document.documentElement.clientWidth)
              , r = this._document.body
              , s = r.style
              , {overflow: o, paddingRight: a} = s;
            if (i > 0) {
                let c = parseFloat(window.getComputedStyle(r).paddingRight);
                s.paddingRight = `${c + i}px`
            }
            return s.overflow = "hidden",
            () => {
                i > 0 && (s.paddingRight = a),
                s.overflow = o
            }
        }
    }
    ;
    t.\u0275fac = function(r) {
        return new (r || t)
    }
    ,
    t.\u0275prov = re({
        token: t,
        factory: t.\u0275fac,
        providedIn: "root"
    });
    let e = t;
    return e
}
)()
  , fq = ( () => {
    let t = class t {
        constructor() {
            this._nativeElement = z(Os).nativeElement,
            this._zone = z(Rn),
            this._injector = z(an)
        }
        ngOnInit() {
            fl({
                mixedReadWrite: () => $a(this._zone, this._nativeElement, (i, r) => {
                    r && ME(i),
                    i.classList.add("show")
                }
                , {
                    animation: this.animation,
                    runningTransition: "continue"
                })
            }, {
                injector: this._injector
            })
        }
        hide() {
            return $a(this._zone, this._nativeElement, ({classList: i}) => i.remove("show"), {
                animation: this.animation,
                runningTransition: "stop"
            })
        }
    }
    ;
    t.\u0275fac = function(r) {
        return new (r || t)
    }
    ,
    t.\u0275cmp = Ye({
        type: t,
        selectors: [["ngb-modal-backdrop"]],
        hostAttrs: [2, "z-index", "1055"],
        hostVars: 6,
        hostBindings: function(r, s) {
            r & 2 && (mr("modal-backdrop" + (s.backdropClass ? " " + s.backdropClass : "")),
            wo("show", !s.animation)("fade", s.animation))
        },
        inputs: {
            animation: "animation",
            backdropClass: "backdropClass"
        },
        decls: 0,
        vars: 0,
        template: function(r, s) {},
        encapsulation: 2
    });
    let e = t;
    return e
}
)()
  , M2 = class {
    update(t) {}
    close(t) {}
    dismiss(t) {}
}
  , pq = ["animation", "ariaLabelledBy", "ariaDescribedBy", "backdrop", "centered", "fullscreen", "keyboard", "role", "scrollable", "size", "windowClass", "modalDialogClass"]
  , gq = ["animation", "backdropClass"]
  , d9 = class {
    _applyWindowOptions(t, n) {
        pq.forEach(i => {
            u9(n[i]) && (t[i] = n[i])
        }
        )
    }
    _applyBackdropOptions(t, n) {
        gq.forEach(i => {
            u9(n[i]) && (t[i] = n[i])
        }
        )
    }
    update(t) {
        this._applyWindowOptions(this._windowCmptRef.instance, t),
        this._backdropCmptRef && this._backdropCmptRef.instance && this._applyBackdropOptions(this._backdropCmptRef.instance, t)
    }
    get componentInstance() {
        if (this._contentRef && this._contentRef.componentRef)
            return this._contentRef.componentRef.instance
    }
    get closed() {
        return this._closed.asObservable().pipe(In(this._hidden))
    }
    get dismissed() {
        return this._dismissed.asObservable().pipe(In(this._hidden))
    }
    get hidden() {
        return this._hidden.asObservable()
    }
    get shown() {
        return this._windowCmptRef.instance.shown.asObservable()
    }
    constructor(t, n, i, r) {
        this._windowCmptRef = t,
        this._contentRef = n,
        this._backdropCmptRef = i,
        this._beforeDismiss = r,
        this._closed = new lt,
        this._dismissed = new lt,
        this._hidden = new lt,
        t.instance.dismissEvent.subscribe(s => {
            this.dismiss(s)
        }
        ),
        this.result = new Promise( (s, o) => {
            this._resolve = s,
            this._reject = o
        }
        ),
        this.result.then(null, () => {}
        )
    }
    close(t) {
        this._windowCmptRef && (this._closed.next(t),
        this._resolve(t),
        this._removeModalElements())
    }
    _dismiss(t) {
        this._dismissed.next(t),
        this._reject(t),
        this._removeModalElements()
    }
    dismiss(t) {
        if (this._windowCmptRef)
            if (!this._beforeDismiss)
                this._dismiss(t);
            else {
                let n = this._beforeDismiss();
                Wj(n) ? n.then(i => {
                    i !== !1 && this._dismiss(t)
                }
                , () => {}
                ) : n !== !1 && this._dismiss(t)
            }
    }
    _removeModalElements() {
        let t = this._windowCmptRef.instance.hide()
          , n = this._backdropCmptRef ? this._backdropCmptRef.instance.hide() : Be(void 0);
        t.subscribe( () => {
            let {nativeElement: i} = this._windowCmptRef.location;
            i.parentNode.removeChild(i),
            this._windowCmptRef.destroy(),
            this._contentRef?.viewRef?.destroy(),
            this._windowCmptRef = null,
            this._contentRef = null
        }
        ),
        n.subscribe( () => {
            if (this._backdropCmptRef) {
                let {nativeElement: i} = this._backdropCmptRef.location;
                i.parentNode.removeChild(i),
                this._backdropCmptRef.destroy(),
                this._backdropCmptRef = null
            }
        }
        ),
        m5(t, n).subscribe( () => {
            this._hidden.next(),
            this._hidden.complete()
        }
        )
    }
}
  , f9 = function(e) {
    return e[e.BACKDROP_CLICK = 0] = "BACKDROP_CLICK",
    e[e.ESC = 1] = "ESC",
    e
}(f9 || {})
  , mq = ( () => {
    let t = class t {
        constructor() {
            this._document = z(Nn),
            this._elRef = z(Os),
            this._zone = z(Rn),
            this._injector = z(an),
            this._closed$ = new lt,
            this._elWithFocus = null,
            this.backdrop = !0,
            this.keyboard = !0,
            this.role = "dialog",
            this.dismissEvent = new os,
            this.shown = new lt,
            this.hidden = new lt
        }
        get fullscreenClass() {
            return this.fullscreen === !0 ? " modal-fullscreen" : k2(this.fullscreen) ? ` modal-fullscreen-${this.fullscreen}-down` : ""
        }
        dismiss(i) {
            this.dismissEvent.emit(i)
        }
        ngOnInit() {
            this._elWithFocus = this._document.activeElement,
            fl({
                mixedReadWrite: () => this._show()
            }, {
                injector: this._injector
            })
        }
        ngOnDestroy() {
            this._disableEventHandling()
        }
        hide() {
            let {nativeElement: i} = this._elRef
              , r = {
                animation: this.animation,
                runningTransition: "stop"
            }
              , s = $a(this._zone, i, () => i.classList.remove("show"), r)
              , o = $a(this._zone, this._dialogEl.nativeElement, () => {}
            , r)
              , a = m5(s, o);
            return a.subscribe( () => {
                this.hidden.next(),
                this.hidden.complete()
            }
            ),
            this._disableEventHandling(),
            this._restoreFocus(),
            a
        }
        _show() {
            let i = {
                animation: this.animation,
                runningTransition: "continue"
            }
              , r = $a(this._zone, this._elRef.nativeElement, (o, a) => {
                a && ME(o),
                o.classList.add("show")
            }
            , i)
              , s = $a(this._zone, this._dialogEl.nativeElement, () => {}
            , i);
            m5(r, s).subscribe( () => {
                this.shown.next(),
                this.shown.complete()
            }
            ),
            this._enableEventHandling(),
            this._setFocus()
        }
        _enableEventHandling() {
            let {nativeElement: i} = this._elRef;
            this._zone.runOutsideAngular( () => {
                sn(i, "keydown").pipe(In(this._closed$), mt(s => s.key === "Escape")).subscribe(s => {
                    this.keyboard ? requestAnimationFrame( () => {
                        s.defaultPrevented || this._zone.run( () => this.dismiss(f9.ESC))
                    }
                    ) : this.backdrop === "static" && this._bumpBackdrop()
                }
                );
                let r = !1;
                sn(this._dialogEl.nativeElement, "mousedown").pipe(In(this._closed$), Ge( () => r = !1), Vt( () => sn(i, "mouseup").pipe(In(this._closed$), Lt(1))), mt( ({target: s}) => i === s)).subscribe( () => {
                    r = !0
                }
                ),
                sn(i, "click").pipe(In(this._closed$)).subscribe( ({target: s}) => {
                    i === s && (this.backdrop === "static" ? this._bumpBackdrop() : this.backdrop === !0 && !r && this._zone.run( () => this.dismiss(f9.BACKDROP_CLICK))),
                    r = !1
                }
                )
            }
            )
        }
        _disableEventHandling() {
            this._closed$.next()
        }
        _setFocus() {
            let {nativeElement: i} = this._elRef;
            if (!i.contains(document.activeElement)) {
                let r = i.querySelector("[ngbAutofocus]")
                  , s = IE(i)[0];
                (r || s || i).focus()
            }
        }
        _restoreFocus() {
            let i = this._document.body, r = this._elWithFocus, s;
            r && r.focus && i.contains(r) ? s = r : s = i,
            this._zone.runOutsideAngular( () => {
                setTimeout( () => s.focus()),
                this._elWithFocus = null
            }
            )
        }
        _bumpBackdrop() {
            this.backdrop === "static" && $a(this._zone, this._elRef.nativeElement, ({classList: i}) => (i.add("modal-static"),
            () => i.remove("modal-static")), {
                animation: this.animation,
                runningTransition: "continue"
            })
        }
    }
    ;
    t.\u0275fac = function(r) {
        return new (r || t)
    }
    ,
    t.\u0275cmp = Ye({
        type: t,
        selectors: [["ngb-modal-window"]],
        viewQuery: function(r, s) {
            if (r & 1 && Cv(Bj, 7),
            r & 2) {
                let o;
                G0(o = V0()) && (s._dialogEl = o.first)
            }
        },
        hostAttrs: ["tabindex", "-1"],
        hostVars: 8,
        hostBindings: function(r, s) {
            r & 2 && (U0("aria-modal", !0)("aria-labelledby", s.ariaLabelledBy)("aria-describedby", s.ariaDescribedBy)("role", s.role),
            mr("modal d-block" + (s.windowClass ? " " + s.windowClass : "")),
            wo("fade", s.animation))
        },
        inputs: {
            animation: "animation",
            ariaLabelledBy: "ariaLabelledBy",
            ariaDescribedBy: "ariaDescribedBy",
            backdrop: "backdrop",
            centered: "centered",
            fullscreen: "fullscreen",
            keyboard: "keyboard",
            role: "role",
            scrollable: "scrollable",
            size: "size",
            windowClass: "windowClass",
            modalDialogClass: "modalDialogClass"
        },
        outputs: {
            dismissEvent: "dismiss"
        },
        ngContentSelectors: p9,
        decls: 4,
        vars: 2,
        consts: [["dialog", ""], ["role", "document"], [1, "modal-content"]],
        template: function(r, s) {
            r & 1 && (C5(),
            H(0, "div", 1, 0)(2, "div", 2),
            E5(3),
            W()()),
            r & 2 && mr("modal-dialog" + (s.size ? " modal-" + s.size : "") + (s.centered ? " modal-dialog-centered" : "") + s.fullscreenClass + (s.scrollable ? " modal-dialog-scrollable" : "") + (s.modalDialogClass ? " " + s.modalDialogClass : ""))
        },
        styles: [`ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}
`],
        encapsulation: 2
    });
    let e = t;
    return e
}
)()
  , vq = ( () => {
    let t = class t {
        constructor() {
            this._applicationRef = z(ua),
            this._injector = z(an),
            this._environmentInjector = z(rc),
            this._document = z(Nn),
            this._scrollBar = z(dq),
            this._activeWindowCmptHasChanged = new lt,
            this._ariaHiddenValues = new Map,
            this._scrollBarRestoreFn = null,
            this._modalRefs = [],
            this._windowCmpts = [],
            this._activeInstances = new os;
            let i = z(Rn);
            this._activeWindowCmptHasChanged.subscribe( () => {
                if (this._windowCmpts.length) {
                    let r = this._windowCmpts[this._windowCmpts.length - 1];
                    Yj(i, r.location.nativeElement, this._activeWindowCmptHasChanged),
                    this._revertAriaHidden(),
                    this._setAriaHidden(r.location.nativeElement)
                }
            }
            )
        }
        _restoreScrollBar() {
            let i = this._scrollBarRestoreFn;
            i && (this._scrollBarRestoreFn = null,
            i())
        }
        _hideScrollBar() {
            this._scrollBarRestoreFn || (this._scrollBarRestoreFn = this._scrollBar.hide())
        }
        open(i, r, s) {
            let o = s.container instanceof HTMLElement ? s.container : u9(s.container) ? this._document.querySelector(s.container) : this._document.body;
            if (!o)
                throw new Error(`The specified modal container "${s.container || "body"}" was not found in the DOM.`);
            this._hideScrollBar();
            let a = new M2;
            i = s.injector || i;
            let c = i.get(rc, null) || this._environmentInjector
              , l = this._getContentRef(i, c, r, a, s)
              , u = s.backdrop !== !1 ? this._attachBackdrop(o) : void 0
              , h = this._attachWindowComponent(o, l.nodes)
              , d = new d9(h,l,u,s.beforeDismiss);
            return this._registerModalRef(d),
            this._registerWindowCmpt(h),
            d.hidden.pipe(Lt(1)).subscribe( () => Promise.resolve(!0).then( () => {
                this._modalRefs.length || (this._document.body.classList.remove("modal-open"),
                this._restoreScrollBar(),
                this._revertAriaHidden())
            }
            )),
            a.close = f => {
                d.close(f)
            }
            ,
            a.dismiss = f => {
                d.dismiss(f)
            }
            ,
            a.update = f => {
                d.update(f)
            }
            ,
            d.update(s),
            this._modalRefs.length === 1 && this._document.body.classList.add("modal-open"),
            u && u.instance && u.changeDetectorRef.detectChanges(),
            h.changeDetectorRef.detectChanges(),
            d
        }
        get activeInstances() {
            return this._activeInstances
        }
        dismissAll(i) {
            this._modalRefs.forEach(r => r.dismiss(i))
        }
        hasOpenModals() {
            return this._modalRefs.length > 0
        }
        _attachBackdrop(i) {
            let r = k5(fq, {
                environmentInjector: this._applicationRef.injector,
                elementInjector: this._injector
            });
            return this._applicationRef.attachView(r.hostView),
            i.appendChild(r.location.nativeElement),
            r
        }
        _attachWindowComponent(i, r) {
            let s = k5(mq, {
                environmentInjector: this._applicationRef.injector,
                elementInjector: this._injector,
                projectableNodes: r
            });
            return this._applicationRef.attachView(s.hostView),
            i.appendChild(s.location.nativeElement),
            s
        }
        _getContentRef(i, r, s, o, a) {
            return s ? s instanceof y5 ? this._createFromTemplateRef(s, o) : k2(s) ? this._createFromString(s) : this._createFromComponent(i, r, s, o, a) : new ja([])
        }
        _createFromTemplateRef(i, r) {
            let s = {
                $implicit: r,
                close(a) {
                    r.close(a)
                },
                dismiss(a) {
                    r.dismiss(a)
                }
            }
              , o = i.createEmbeddedView(s);
            return this._applicationRef.attachView(o),
            new ja([o.rootNodes],o)
        }
        _createFromString(i) {
            let r = this._document.createTextNode(`${i}`);
            return new ja([[r]])
        }
        _createFromComponent(i, r, s, o, a) {
            let c = an.create({
                providers: [{
                    provide: M2,
                    useValue: o
                }],
                parent: i
            })
              , l = k5(s, {
                environmentInjector: r,
                elementInjector: c
            })
              , u = l.location.nativeElement;
            return a.scrollable && u.classList.add("component-host-scrollable"),
            this._applicationRef.attachView(l.hostView),
            new ja([[u]],l.hostView,l)
        }
        _setAriaHidden(i) {
            let r = i.parentElement;
            r && i !== this._document.body && (Array.from(r.children).forEach(s => {
                s !== i && s.nodeName !== "SCRIPT" && (this._ariaHiddenValues.set(s, s.getAttribute("aria-hidden")),
                s.setAttribute("aria-hidden", "true"))
            }
            ),
            this._setAriaHidden(r))
        }
        _revertAriaHidden() {
            this._ariaHiddenValues.forEach( (i, r) => {
                i ? r.setAttribute("aria-hidden", i) : r.removeAttribute("aria-hidden")
            }
            ),
            this._ariaHiddenValues.clear()
        }
        _registerModalRef(i) {
            let r = () => {
                let s = this._modalRefs.indexOf(i);
                s > -1 && (this._modalRefs.splice(s, 1),
                this._activeInstances.emit(this._modalRefs))
            }
            ;
            this._modalRefs.push(i),
            this._activeInstances.emit(this._modalRefs),
            i.result.then(r, r)
        }
        _registerWindowCmpt(i) {
            this._windowCmpts.push(i),
            this._activeWindowCmptHasChanged.next(),
            i.onDestroy( () => {
                let r = this._windowCmpts.indexOf(i);
                r > -1 && (this._windowCmpts.splice(r, 1),
                this._activeWindowCmptHasChanged.next())
            }
            )
        }
    }
    ;
    t.\u0275fac = function(r) {
        return new (r || t)
    }
    ,
    t.\u0275prov = re({
        token: t,
        factory: t.\u0275fac,
        providedIn: "root"
    });
    let e = t;
    return e
}
)()
  , NE = ( () => {
    let t = class t {
        constructor() {
            this._injector = z(an),
            this._modalStack = z(vq),
            this._config = z(hq)
        }
        open(i, r={}) {
            let s = C(ve(C({}, this._config), {
                animation: this._config.animation
            }), r);
            return this._modalStack.open(this._injector, i, s)
        }
        get activeInstances() {
            return this._modalStack.activeInstances
        }
        dismissAll(i) {
            this._modalStack.dismissAll(i)
        }
        hasOpenModals() {
            return this._modalStack.hasOpenModals()
        }
    }
    ;
    t.\u0275fac = function(r) {
        return new (r || t)
    }
    ,
    t.\u0275prov = re({
        token: t,
        factory: t.\u0275fac,
        providedIn: "root"
    });
    let e = t;
    return e
}
)();
var _q = {
    hover: ["mouseenter", "mouseleave"],
    focus: ["focusin", "focusout"]
};
function yq(e) {
    let t = (e || "").trim();
    if (t.length === 0)
        return [];
    let n = t.split(/\s+/).map(r => r.split(":")).map(r => _q[r[0]] || r)
      , i = n.filter(r => r.includes("manual"));
    if (i.length > 1)
        throw "Triggers parse error: only one manual trigger is allowed";
    if (i.length === 1 && n.length > 1)
        throw "Triggers parse error: manual trigger can't be mixed with other triggers";
    return i.length ? [] : n
}
function FE(e, t, n, i, r, s=0, o=0) {
    let a = yq(t);
    if (a.length === 0)
        return () => {}
        ;
    let c = new Set, l = [], u;
    function h(f, g) {
        e.addEventListener(f, g),
        l.push( () => e.removeEventListener(f, g))
    }
    function d(f, g) {
        clearTimeout(u),
        g > 0 ? u = setTimeout(f, g) : f()
    }
    for (let[f,g] of a)
        g ? (h(f, () => {
            c.add(f),
            d( () => c.size > 0 && i(), s)
        }
        ),
        h(g, () => {
            c.delete(f),
            d( () => c.size === 0 && r(), o)
        }
        )) : h(f, () => n() ? d(r, o) : d(i, s));
    return () => l.forEach(f => f())
}
var bq = ( () => {
    let t = class t {
        constructor() {
            this._ngbConfig = z(g9),
            this.autoClose = !0,
            this.placement = "auto",
            this.popperOptions = i => i,
            this.triggers = "click",
            this.disablePopover = !1,
            this.openDelay = 0,
            this.closeDelay = 0
        }
        get animation() {
            return this._animation ?? this._ngbConfig.animation
        }
        set animation(i) {
            this._animation = i
        }
    }
    ;
    t.\u0275fac = function(r) {
        return new (r || t)
    }
    ,
    t.\u0275prov = re({
        token: t,
        factory: t.\u0275fac,
        providedIn: "root"
    });
    let e = t;
    return e
}
)()
  , Sq = 0
  , xq = ( () => {
    let t = class t {
        isTitleTemplate() {
            return this.title instanceof y5
        }
    }
    ;
    t.\u0275fac = function(r) {
        return new (r || t)
    }
    ,
    t.\u0275cmp = Ye({
        type: t,
        selectors: [["ngb-popover-window"]],
        hostAttrs: ["role", "tooltip", 2, "position", "absolute"],
        hostVars: 5,
        hostBindings: function(r, s) {
            r & 2 && (Ah("id", s.id),
            mr("popover" + (s.popoverClass ? " " + s.popoverClass : "")),
            wo("fade", s.animation))
        },
        inputs: {
            animation: "animation",
            title: "title",
            id: "id",
            popoverClass: "popoverClass",
            context: "context"
        },
        ngContentSelectors: p9,
        decls: 4,
        vars: 1,
        consts: [["simpleTitle", ""], ["data-popper-arrow", "", 1, "popover-arrow"], [1, "popover-header"], [1, "popover-body"], [3, "ngTemplateOutlet", "ngTemplateOutletContext"]],
        template: function(r, s) {
            r & 1 && (C5(),
            me(0, "div", 1),
            at(1, Gj, 4, 2, "h3", 2),
            H(2, "div", 3),
            E5(3),
            W()),
            r & 2 && (Q(),
            tt(s.title ? 1 : -1))
        },
        dependencies: [Lv],
        encapsulation: 2,
        changeDetection: 0
    });
    let e = t;
    return e
}
)()
  , LE = ( () => {
    let t = class t {
        constructor() {
            this._config = z(bq),
            this.animation = this._config.animation,
            this.autoClose = this._config.autoClose,
            this.placement = this._config.placement,
            this.popperOptions = this._config.popperOptions,
            this.triggers = this._config.triggers,
            this.container = this._config.container,
            this.disablePopover = this._config.disablePopover,
            this.popoverClass = this._config.popoverClass,
            this.openDelay = this._config.openDelay,
            this.closeDelay = this._config.closeDelay,
            this.shown = new os,
            this.hidden = new os,
            this._nativeElement = z(Os).nativeElement,
            this._ngZone = z(Rn),
            this._document = z(Nn),
            this._changeDetector = z(dc),
            this._injector = z(an),
            this._ngbPopoverWindowId = `ngb-popover-${Sq++}`,
            this._popupService = new P2(xq),
            this._windowRef = null,
            this._positioning = v9()
        }
        open(i) {
            if (!this._windowRef && !this._isDisabled()) {
                let {windowRef: r, transition$: s} = this._popupService.open(this.ngbPopover, i ?? this.popoverContext, this.animation);
                this._windowRef = r,
                this._windowRef.setInput("animation", this.animation),
                this._windowRef.setInput("title", this.popoverTitle),
                this._windowRef.setInput("context", i ?? this.popoverContext),
                this._windowRef.setInput("popoverClass", this.popoverClass),
                this._windowRef.setInput("id", this._ngbPopoverWindowId),
                this._getPositionTargetElement().setAttribute("aria-describedby", this._ngbPopoverWindowId),
                this.container === "body" && this._document.body.appendChild(this._windowRef.location.nativeElement),
                this._windowRef.changeDetectorRef.detectChanges(),
                this._windowRef.changeDetectorRef.markForCheck(),
                this._ngZone.runOutsideAngular( () => {
                    this._positioning.createPopper({
                        hostElement: this._getPositionTargetElement(),
                        targetElement: this._windowRef.location.nativeElement,
                        placement: this.placement,
                        baseClass: "bs-popover",
                        updatePopperOptions: o => this.popperOptions(_9([0, 8])(o))
                    }),
                    Promise.resolve().then( () => {
                        this._positioning.update()
                    }
                    ),
                    this._afterRenderRef = _5({
                        mixedReadWrite: () => {
                            this._positioning.update()
                        }
                    }, {
                        injector: this._injector
                    })
                }
                ),
                m9(this._ngZone, this._document, this.autoClose, () => this.close(), this.hidden, [this._windowRef.location.nativeElement]),
                s.subscribe( () => this.shown.emit())
            }
        }
        close(i=this.animation) {
            this._windowRef && (this._getPositionTargetElement().removeAttribute("aria-describedby"),
            this._popupService.close(i).subscribe( () => {
                this._windowRef = null,
                this._positioning.destroy(),
                this._afterRenderRef?.destroy(),
                this.hidden.emit(),
                this._changeDetector.markForCheck()
            }
            ))
        }
        toggle() {
            this._windowRef ? this.close() : this.open()
        }
        isOpen() {
            return this._windowRef != null
        }
        ngOnInit() {
            this._unregisterListenersFn = FE(this._nativeElement, this.triggers, this.isOpen.bind(this), this.open.bind(this), this.close.bind(this), +this.openDelay, +this.closeDelay)
        }
        ngOnChanges({ngbPopover: i, popoverTitle: r, disablePopover: s, popoverClass: o}) {
            o && this.isOpen() && this._windowRef.setInput("popoverClass", o.currentValue),
            (i || r || s) && this._isDisabled() && this.close()
        }
        ngOnDestroy() {
            this.close(!1),
            this._unregisterListenersFn?.()
        }
        _isDisabled() {
            return this.disablePopover ? !0 : !this.ngbPopover && !this.popoverTitle
        }
        _getPositionTargetElement() {
            return (k2(this.positionTarget) ? this._document.querySelector(this.positionTarget) : this.positionTarget) || this._nativeElement
        }
    }
    ;
    t.\u0275fac = function(r) {
        return new (r || t)
    }
    ,
    t.\u0275dir = as({
        type: t,
        selectors: [["", "ngbPopover", ""]],
        inputs: {
            animation: "animation",
            autoClose: "autoClose",
            ngbPopover: "ngbPopover",
            popoverTitle: "popoverTitle",
            placement: "placement",
            popperOptions: "popperOptions",
            triggers: "triggers",
            positionTarget: "positionTarget",
            container: "container",
            disablePopover: "disablePopover",
            popoverClass: "popoverClass",
            popoverContext: "popoverContext",
            openDelay: "openDelay",
            closeDelay: "closeDelay"
        },
        outputs: {
            shown: "shown",
            hidden: "hidden"
        },
        exportAs: ["ngbPopover"],
        features: [qs]
    });
    let e = t;
    return e
}
)()
  , K5e = ( () => {
    let t = class t {
    }
    ;
    t.\u0275fac = function(r) {
        return new (r || t)
    }
    ,
    t.\u0275mod = ir({
        type: t
    }),
    t.\u0275inj = nr({});
    let e = t;
    return e
}
)();
var wq = ( () => {
    let t = class t {
        constructor() {
            this._ngbConfig = z(g9),
            this.autoClose = !0,
            this.placement = "auto",
            this.popperOptions = i => i,
            this.triggers = "hover focus",
            this.disableTooltip = !1,
            this.openDelay = 0,
            this.closeDelay = 0
        }
        get animation() {
            return this._animation ?? this._ngbConfig.animation
        }
        set animation(i) {
            this._animation = i
        }
    }
    ;
    t.\u0275fac = function(r) {
        return new (r || t)
    }
    ,
    t.\u0275prov = re({
        token: t,
        factory: t.\u0275fac,
        providedIn: "root"
    });
    let e = t;
    return e
}
)()
  , Cq = 0
  , Eq = ( () => {
    let t = class t {
    }
    ;
    t.\u0275fac = function(r) {
        return new (r || t)
    }
    ,
    t.\u0275cmp = Ye({
        type: t,
        selectors: [["ngb-tooltip-window"]],
        hostAttrs: ["role", "tooltip"],
        hostVars: 5,
        hostBindings: function(r, s) {
            r & 2 && (Ah("id", s.id),
            mr("tooltip" + (s.tooltipClass ? " " + s.tooltipClass : "")),
            wo("fade", s.animation))
        },
        inputs: {
            animation: "animation",
            id: "id",
            tooltipClass: "tooltipClass"
        },
        ngContentSelectors: p9,
        decls: 3,
        vars: 0,
        consts: [["data-popper-arrow", "", 1, "tooltip-arrow"], [1, "tooltip-inner"]],
        template: function(r, s) {
            r & 1 && (C5(),
            me(0, "div", 0),
            H(1, "div", 1),
            E5(2),
            W())
        },
        styles: [`ngb-tooltip-window{pointer-events:none;position:absolute}ngb-tooltip-window .tooltip-inner{pointer-events:auto}ngb-tooltip-window.bs-tooltip-top,ngb-tooltip-window.bs-tooltip-bottom{padding-left:0;padding-right:0}ngb-tooltip-window.bs-tooltip-start,ngb-tooltip-window.bs-tooltip-end{padding-top:0;padding-bottom:0}
`],
        encapsulation: 2,
        changeDetection: 0
    });
    let e = t;
    return e
}
)()
  , Y5e = ( () => {
    let t = class t {
        constructor() {
            this._config = z(wq),
            this.animation = this._config.animation,
            this.autoClose = this._config.autoClose,
            this.placement = this._config.placement,
            this.popperOptions = this._config.popperOptions,
            this.triggers = this._config.triggers,
            this.container = this._config.container,
            this.disableTooltip = this._config.disableTooltip,
            this.tooltipClass = this._config.tooltipClass,
            this.openDelay = this._config.openDelay,
            this.closeDelay = this._config.closeDelay,
            this.shown = new os,
            this.hidden = new os,
            this._nativeElement = z(Os).nativeElement,
            this._ngZone = z(Rn),
            this._document = z(Nn),
            this._changeDetector = z(dc),
            this._injector = z(an),
            this._ngbTooltipWindowId = `ngb-tooltip-${Cq++}`,
            this._popupService = new P2(Eq),
            this._windowRef = null,
            this._positioning = v9()
        }
        set ngbTooltip(i) {
            this._ngbTooltip = i,
            !i && this._windowRef && this.close()
        }
        get ngbTooltip() {
            return this._ngbTooltip
        }
        open(i) {
            if (!this._windowRef && this._ngbTooltip && !this.disableTooltip) {
                let {windowRef: r, transition$: s} = this._popupService.open(this._ngbTooltip, i ?? this.tooltipContext, this.animation);
                this._windowRef = r,
                this._windowRef.setInput("animation", this.animation),
                this._windowRef.setInput("tooltipClass", this.tooltipClass),
                this._windowRef.setInput("id", this._ngbTooltipWindowId),
                this._getPositionTargetElement().setAttribute("aria-describedby", this._ngbTooltipWindowId),
                this.container === "body" && this._document.body.appendChild(this._windowRef.location.nativeElement),
                this._windowRef.changeDetectorRef.detectChanges(),
                this._windowRef.changeDetectorRef.markForCheck(),
                this._ngZone.runOutsideAngular( () => {
                    this._positioning.createPopper({
                        hostElement: this._getPositionTargetElement(),
                        targetElement: this._windowRef.location.nativeElement,
                        placement: this.placement,
                        baseClass: "bs-tooltip",
                        updatePopperOptions: o => this.popperOptions(_9([0, 6])(o))
                    }),
                    Promise.resolve().then( () => {
                        this._positioning.update()
                    }
                    ),
                    this._afterRenderRef = _5({
                        mixedReadWrite: () => {
                            this._positioning.update()
                        }
                    }, {
                        injector: this._injector
                    })
                }
                ),
                m9(this._ngZone, this._document, this.autoClose, () => this.close(), this.hidden, [this._windowRef.location.nativeElement], [this._nativeElement]),
                s.subscribe( () => this.shown.emit())
            }
        }
        close(i=this.animation) {
            this._windowRef != null && (this._getPositionTargetElement().removeAttribute("aria-describedby"),
            this._popupService.close(i).subscribe( () => {
                this._windowRef = null,
                this._positioning.destroy(),
                this._afterRenderRef?.destroy(),
                this.hidden.emit(),
                this._changeDetector.markForCheck()
            }
            ))
        }
        toggle() {
            this._windowRef ? this.close() : this.open()
        }
        isOpen() {
            return this._windowRef != null
        }
        ngOnInit() {
            this._unregisterListenersFn = FE(this._nativeElement, this.triggers, this.isOpen.bind(this), this.open.bind(this), this.close.bind(this), +this.openDelay, +this.closeDelay)
        }
        ngOnChanges({tooltipClass: i}) {
            i && this.isOpen() && this._windowRef.setInput("tooltipClass", i.currentValue)
        }
        ngOnDestroy() {
            this.close(!1),
            this._unregisterListenersFn?.()
        }
        _getPositionTargetElement() {
            return (k2(this.positionTarget) ? this._document.querySelector(this.positionTarget) : this.positionTarget) || this._nativeElement
        }
    }
    ;
    t.\u0275fac = function(r) {
        return new (r || t)
    }
    ,
    t.\u0275dir = as({
        type: t,
        selectors: [["", "ngbTooltip", ""]],
        inputs: {
            animation: "animation",
            autoClose: "autoClose",
            placement: "placement",
            popperOptions: "popperOptions",
            triggers: "triggers",
            positionTarget: "positionTarget",
            container: "container",
            disableTooltip: "disableTooltip",
            tooltipClass: "tooltipClass",
            tooltipContext: "tooltipContext",
            openDelay: "openDelay",
            closeDelay: "closeDelay",
            ngbTooltip: "ngbTooltip"
        },
        outputs: {
            shown: "shown",
            hidden: "hidden"
        },
        exportAs: ["ngbTooltip"],
        features: [qs]
    });
    let e = t;
    return e
}
)();
var Q5e = new Ze("live announcer delay",{
    providedIn: "root",
    factory: () => 100
});
var S9 = function(e, t) {
    return S9 = Object.setPrototypeOf || {
        __proto__: []
    }instanceof Array && function(n, i) {
        n.__proto__ = i
    }
    || function(n, i) {
        for (var r in i)
            Object.prototype.hasOwnProperty.call(i, r) && (n[r] = i[r])
    }
    ,
    S9(e, t)
}
  , Un = function() {
    return Un = Object.assign || function(e) {
        for (var t, n = 1, i = arguments.length; n < i; n++)
            for (var r in t = arguments[n])
                Object.prototype.hasOwnProperty.call(t, r) && (e[r] = t[r]);
        return e
    }
    ,
    Un.apply(this, arguments)
};
function Ir(e, t, n, i) {
    return new (n || (n = Promise))(function(r, s) {
        function o(l) {
            try {
                c(i.next(l))
            } catch (u) {
                s(u)
            }
        }
        function a(l) {
            try {
                c(i.throw(l))
            } catch (u) {
                s(u)
            }
        }
        function c(l) {
            var u;
            l.done ? r(l.value) : (u = l.value,
            u instanceof n ? u : new n(function(h) {
                h(u)
            }
            )).then(o, a)
        }
        c((i = i.apply(e, t || [])).next())
    }
    )
}
function Rr(e, t) {
    var n, i, r, s = {
        label: 0,
        sent: function() {
            if (1 & r[0])
                throw r[1];
            return r[1]
        },
        trys: [],
        ops: []
    }, o = Object.create((typeof Iterator == "function" ? Iterator : Object).prototype);
    return o.next = a(0),
    o.throw = a(1),
    o.return = a(2),
    typeof Symbol == "function" && (o[Symbol.iterator] = function() {
        return this
    }
    ),
    o;
    function a(c) {
        return function(l) {
            return function(u) {
                if (n)
                    throw new TypeError("Generator is already executing.");
                for (; o && (o = 0,
                u[0] && (s = 0)),
                s; )
                    try {
                        if (n = 1,
                        i && (r = 2 & u[0] ? i.return : u[0] ? i.throw || ((r = i.return) && r.call(i),
                        0) : i.next) && !(r = r.call(i, u[1])).done)
                            return r;
                        switch (i = 0,
                        r && (u = [2 & u[0], r.value]),
                        u[0]) {
                        case 0:
                        case 1:
                            r = u;
                            break;
                        case 4:
                            return s.label++,
                            {
                                value: u[1],
                                done: !1
                            };
                        case 5:
                            s.label++,
                            i = u[1],
                            u = [0];
                            continue;
                        case 7:
                            u = s.ops.pop(),
                            s.trys.pop();
                            continue;
                        default:
                            if (r = s.trys,
                            !((r = r.length > 0 && r[r.length - 1]) || u[0] !== 6 && u[0] !== 2)) {
                                s = 0;
                                continue
                            }
                            if (u[0] === 3 && (!r || u[1] > r[0] && u[1] < r[3])) {
                                s.label = u[1];
                                break
                            }
                            if (u[0] === 6 && s.label < r[1]) {
                                s.label = r[1],
                                r = u;
                                break
                            }
                            if (r && s.label < r[2]) {
                                s.label = r[2],
                                s.ops.push(u);
                                break
                            }
                            r[2] && s.ops.pop(),
                            s.trys.pop();
                            continue
                        }
                        u = t.call(e, s)
                    } catch (h) {
                        u = [6, h],
                        i = 0
                    } finally {
                        n = r = 0
                    }
                if (5 & u[0])
                    throw u[1];
                return {
                    value: u[0] ? u[1] : void 0,
                    done: !0
                }
            }([c, l])
        }
    }
}
var VE = {
    exports: {}
};
function x9() {}
x9.prototype = {
    on: function(e, t, n) {
        var i = this.e || (this.e = {});
        return (i[e] || (i[e] = [])).push({
            fn: t,
            ctx: n
        }),
        this
    },
    once: function(e, t, n) {
        var i = this;
        function r() {
            i.off(e, r),
            t.apply(n, arguments)
        }
        return r._ = t,
        this.on(e, r, n)
    },
    emit: function(e) {
        for (var t = [].slice.call(arguments, 1), n = ((this.e || (this.e = {}))[e] || []).slice(), i = 0, r = n.length; i < r; i++)
            n[i].fn.apply(n[i].ctx, t);
        return this
    },
    off: function(e, t) {
        var n = this.e || (this.e = {})
          , i = n[e]
          , r = [];
        if (i && t)
            for (var s = 0, o = i.length; s < o; s++)
                i[s].fn !== t && i[s].fn._ !== t && r.push(i[s]);
        return r.length ? n[e] = r : delete n[e],
        this
    }
},
VE.exports = x9;
var Oq = VE.exports.TinyEmitter = x9, I2 = function(e) {
    var t = e[1];
    return t != null
}, Pq = function(e) {
    var t = e.properties
      , n = t === void 0 ? {} : t
      , i = function(s, o) {
        var a = {};
        for (var c in s)
            Object.prototype.hasOwnProperty.call(s, c) && o.indexOf(c) < 0 && (a[c] = s[c]);
        if (s != null && typeof Object.getOwnPropertySymbols == "function") {
            var l = 0;
            for (c = Object.getOwnPropertySymbols(s); l < c.length; l++)
                o.indexOf(c[l]) < 0 && Object.prototype.propertyIsEnumerable.call(s, c[l]) && (a[c[l]] = s[c[l]])
        }
        return a
    }(e, ["properties"])
      , r = function(s) {
        return Object.entries(s).sort(function(o, a) {
            var c = o[0]
              , l = a[0];
            return c.localeCompare(l, void 0)
        })
    };
    return JSON.stringify([r(i), r(n)])
}, BE = function(e) {
    return Ir(void 0, void 0, void 0, function() {
        var t;
        return Rr(this, function(n) {
            switch (n.label) {
            case 0:
                t = Pq(e),
                n.label = 1;
            case 1:
                return n.trys.push([1, 3, , 4]),
                [4, (i = t,
                Ir(void 0, void 0, void 0, function() {
                    var r, s, o, a, c;
                    return Rr(this, function(l) {
                        switch (l.label) {
                        case 0:
                            if (r = typeof globalThis < "u" && (!((a = globalThis.crypto) === null || a === void 0) && a.subtle) ? (c = globalThis.crypto) === null || c === void 0 ? void 0 : c.subtle : void 0,
                            typeof TextEncoder > "u" || !r?.digest || typeof Uint8Array > "u")
                                throw new Error("Hashing function not available");
                            return s = new TextEncoder().encode(i),
                            [4, r.digest("SHA-256", s)];
                        case 1:
                            return o = l.sent(),
                            [2, Array.from(new Uint8Array(o)).map(function(u) {
                                return u.toString(16).padStart(2, "0")
                            }).join("")]
                        }
                    })
                }))];
            case 2:
                return [2, n.sent()];
            case 3:
                return n.sent(),
                [2, t];
            case 4:
                return [2]
            }
            var i
        })
    })
}, WE = "unleash-js@3.7.2", Mq = function() {}, kq = function() {
    function e(t) {
        var n = t.onError
          , i = t.onSent
          , r = t.appName
          , s = t.metricsInterval
          , o = t.disableMetrics
          , a = o !== void 0 && o
          , c = t.url
          , l = t.clientKey
          , u = t.fetch
          , h = t.headerName
          , d = t.customHeaders
          , f = d === void 0 ? {} : d
          , g = t.metricsIntervalInitial
          , p = t.connectionId;
        this.onError = n,
        this.onSent = i || Mq,
        this.disabled = a,
        this.metricsInterval = 1e3 * s,
        this.metricsIntervalInitial = 1e3 * g,
        this.appName = r,
        this.url = c instanceof URL ? c : new URL(c),
        this.clientKey = l,
        this.bucket = this.createEmptyBucket(),
        this.fetch = u,
        this.headerName = h,
        this.customHeaders = f,
        this.connectionId = p
    }
    return e.prototype.start = function() {
        var t = this;
        if (this.disabled)
            return !1;
        typeof this.metricsInterval == "number" && this.metricsInterval > 0 && (this.metricsIntervalInitial > 0 ? setTimeout(function() {
            t.startTimer(),
            t.sendMetrics()
        }, this.metricsIntervalInitial) : this.startTimer())
    }
    ,
    e.prototype.stop = function() {
        this.timer && (clearTimeout(this.timer),
        delete this.timer)
    }
    ,
    e.prototype.createEmptyBucket = function() {
        return {
            start: new Date,
            stop: null,
            toggles: {}
        }
    }
    ,
    e.prototype.getHeaders = function() {
        var t, n = ((t = {})[this.headerName] = this.clientKey,
        t.Accept = "application/json",
        t["Content-Type"] = "application/json",
        t["x-unleash-sdk"] = WE,
        t["x-unleash-connection-id"] = this.connectionId,
        t["x-unleash-appname"] = this.appName,
        t);
        return Object.entries(this.customHeaders).filter(I2).forEach(function(i) {
            var r = i[0]
              , s = i[1];
            return n[r] = s
        }),
        n
    }
    ,
    e.prototype.sendMetrics = function() {
        return Ir(this, void 0, void 0, function() {
            var t, n, i;
            return Rr(this, function(r) {
                switch (r.label) {
                case 0:
                    if (t = "".concat(this.url, "/client/metrics"),
                    n = this.getPayload(),
                    this.bucketIsEmpty(n))
                        return [2];
                    r.label = 1;
                case 1:
                    return r.trys.push([1, 3, , 4]),
                    [4, this.fetch(t, {
                        cache: "no-cache",
                        method: "POST",
                        headers: this.getHeaders(),
                        body: JSON.stringify(n)
                    })];
                case 2:
                    return r.sent(),
                    this.onSent(n),
                    [3, 4];
                case 3:
                    return i = r.sent(),
                    console.error("Unleash: unable to send feature metrics", i),
                    this.onError(i),
                    [3, 4];
                case 4:
                    return [2]
                }
            })
        })
    }
    ,
    e.prototype.count = function(t, n) {
        return !(this.disabled || !this.bucket) && (this.assertBucket(t),
        this.bucket.toggles[t][n ? "yes" : "no"]++,
        !0)
    }
    ,
    e.prototype.countVariant = function(t, n) {
        return !(this.disabled || !this.bucket) && (this.assertBucket(t),
        this.bucket.toggles[t].variants[n] ? this.bucket.toggles[t].variants[n] += 1 : this.bucket.toggles[t].variants[n] = 1,
        !0)
    }
    ,
    e.prototype.assertBucket = function(t) {
        if (this.disabled || !this.bucket)
            return !1;
        this.bucket.toggles[t] || (this.bucket.toggles[t] = {
            yes: 0,
            no: 0,
            variants: {}
        })
    }
    ,
    e.prototype.startTimer = function() {
        var t = this;
        this.timer = setInterval(function() {
            t.sendMetrics()
        }, this.metricsInterval)
    }
    ,
    e.prototype.bucketIsEmpty = function(t) {
        return Object.keys(t.bucket.toggles).length === 0
    }
    ,
    e.prototype.getPayload = function() {
        var t = Un(Un({}, this.bucket), {
            stop: new Date
        });
        return this.bucket = this.createEmptyBucket(),
        {
            bucket: t,
            appName: this.appName,
            instanceId: "browser"
        }
    }
    ,
    e
}(), Aq = function() {
    function e() {
        this.store = new Map
    }
    return e.prototype.save = function(t, n) {
        return Ir(this, void 0, void 0, function() {
            return Rr(this, function(i) {
                return this.store.set(t, n),
                [2]
            })
        })
    }
    ,
    e.prototype.get = function(t) {
        return Ir(this, void 0, void 0, function() {
            return Rr(this, function(n) {
                return [2, this.store.get(t)]
            })
        })
    }
    ,
    e
}(), Iq = function() {
    function e(t) {
        t === void 0 && (t = "unleash:repository"),
        this.prefix = t
    }
    return e.prototype.save = function(t, n) {
        return Ir(this, void 0, void 0, function() {
            var i, r;
            return Rr(this, function(s) {
                i = JSON.stringify(n),
                r = "".concat(this.prefix, ":").concat(t);
                try {
                    window.localStorage.setItem(r, i)
                } catch (o) {
                    console.error(o)
                }
                return [2]
            })
        })
    }
    ,
    e.prototype.get = function(t) {
        try {
            var n = "".concat(this.prefix, ":").concat(t)
              , i = window.localStorage.getItem(n);
            return i ? JSON.parse(i) : void 0
        } catch (r) {
            console.error(r)
        }
    }
    ,
    e
}(), A2, Rq = new Uint8Array(16);
function Dq() {
    if (!A2 && (A2 = typeof crypto < "u" && crypto.getRandomValues && crypto.getRandomValues.bind(crypto),
    !A2))
        throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");
    return A2(Rq)
}
var Yi = [];
for (let e = 0; e < 256; ++e)
    Yi.push((e + 256).toString(16).slice(1));
var UE = {
    randomUUID: typeof crypto < "u" && crypto.randomUUID && crypto.randomUUID.bind(crypto)
};
function Nq(e, t, n) {
    if (UE.randomUUID && !t && !e)
        return UE.randomUUID();
    let i = (e = e || {}).random || (e.rng || Dq)();
    if (i[6] = 15 & i[6] | 64,
    i[8] = 63 & i[8] | 128,
    t) {
        n = n || 0;
        for (let r = 0; r < 16; ++r)
            t[n + r] = i[r];
        return t
    }
    return function(r, s=0) {
        return Yi[r[s + 0]] + Yi[r[s + 1]] + Yi[r[s + 2]] + Yi[r[s + 3]] + "-" + Yi[r[s + 4]] + Yi[r[s + 5]] + "-" + Yi[r[s + 6]] + Yi[r[s + 7]] + "-" + Yi[r[s + 8]] + Yi[r[s + 9]] + "-" + Yi[r[s + 10]] + Yi[r[s + 11]] + Yi[r[s + 12]] + Yi[r[s + 13]] + Yi[r[s + 14]] + Yi[r[s + 15]]
    }(i)
}
var Fq = function() {
    function e() {}
    return e.prototype.generateEventId = function() {
        return Nq()
    }
    ,
    e.prototype.createImpressionEvent = function(t, n, i, r, s, o) {
        var a = this.createBaseEvent(t, n, i, r, s);
        return o ? Un(Un({}, a), {
            variant: o
        }) : a
    }
    ,
    e.prototype.createBaseEvent = function(t, n, i, r, s) {
        return {
            eventType: r,
            eventId: this.generateEventId(),
            context: t,
            enabled: n,
            featureName: i,
            impressionData: s
        }
    }
    ,
    e
}()
  , Lq = ["userId", "sessionId", "remoteAddress", "currentTime"]
  , HE = function(e) {
    return Lq.includes(e)
}
  , ws = {
    INIT: "initialized",
    ERROR: "error",
    READY: "ready",
    UPDATE: "update",
    IMPRESSION: "impression",
    SENT: "sent",
    RECOVERED: "recovered"
}
  , Bq = "isEnabled"
  , Uq = "getVariant"
  , Hq = {
    name: "disabled",
    enabled: !1,
    feature_enabled: !1
}
  , b9 = "repo"
  , GE = "repoLastUpdateTimestamp"
  , Gq = function() {
    try {
        if (typeof window < "u" && "fetch"in window)
            return fetch.bind(window);
        if ("fetch"in globalThis)
            return fetch.bind(globalThis)
    } catch (e) {
        console.error('Unleash failed to resolve "fetch"', e)
    }
}
  , $E = function(e) {
    function t(n) {
        var i = n.storageProvider
          , r = n.url
          , s = n.clientKey
          , o = n.disableRefresh
          , a = o !== void 0 && o
          , c = n.refreshInterval
          , l = c === void 0 ? 30 : c
          , u = n.metricsInterval
          , h = u === void 0 ? 30 : u
          , d = n.metricsIntervalInitial
          , f = d === void 0 ? 2 : d
          , g = n.disableMetrics
          , p = g !== void 0 && g
          , v = n.appName
          , b = n.environment
          , S = b === void 0 ? "default" : b
          , w = n.context
          , k = n.fetch
          , B = k === void 0 ? Gq() : k
          , N = n.createAbortController
          , E = N === void 0 ? function() {
            try {
                if (typeof window < "u" && "AbortController"in window)
                    return function() {
                        return new window.AbortController
                    }
                    ;
                if ("fetch"in globalThis)
                    return function() {
                        return new globalThis.AbortController
                    }
            } catch (Ue) {
                console.error('Unleash failed to resolve "AbortController" factory', Ue)
            }
        }() : N
          , F = n.bootstrap
          , O = n.bootstrapOverride
          , V = O === void 0 || O
          , X = n.headerName
          , x = X === void 0 ? "Authorization" : X
          , j = n.customHeaders
          , fe = j === void 0 ? {} : j
          , he = n.impressionDataAll
          , Re = he !== void 0 && he
          , Xe = n.usePOSTrequests
          , pt = Xe !== void 0 && Xe
          , it = n.experimental
          , de = e.call(this) || this;
        if (de.toggles = [],
        de.etag = "",
        de.readyEventEmitted = !1,
        de.fetchedFromServer = !1,
        de.usePOSTrequests = !1,
        de.started = !1,
        !r)
            throw new Error("url is required");
        if (!s)
            throw new Error("clientKey is required");
        if (!v)
            throw new Error("appName is required.");
        return de.eventsHandler = new Fq,
        de.impressionDataAll = Re,
        de.toggles = F && F.length > 0 ? F : [],
        de.url = r instanceof URL ? r : new URL(r),
        de.clientKey = s,
        de.headerName = x,
        de.customHeaders = fe,
        de.storage = i || (typeof window < "u" ? new Iq : new Aq),
        de.refreshInterval = a ? 0 : 1e3 * l,
        de.context = Un({
            appName: v,
            environment: S
        }, w),
        de.usePOSTrequests = pt,
        de.sdkState = "initializing",
        de.experimental = Un({}, it),
        it?.togglesStorageTTL && it?.togglesStorageTTL > 0 && (de.experimental.togglesStorageTTL = 1e3 * it.togglesStorageTTL),
        de.lastRefreshTimestamp = 0,
        de.ready = new Promise(function(Ue) {
            de.init().then(Ue).catch(function(A) {
                console.error(A),
                de.sdkState = "error",
                de.emit(ws.ERROR, A),
                de.lastError = A,
                Ue()
            })
        }
        ),
        B || console.error('Unleash: You must either provide your own "fetch" implementation or run in an environment where "fetch" is available.'),
        E || console.error('Unleash: You must either provide your own "AbortController" implementation or run in an environment where "AbortController" is available.'),
        de.fetch = B,
        de.createAbortController = E,
        de.bootstrap = F && F.length > 0 ? F : void 0,
        de.bootstrapOverride = V,
        de.connectionId = "xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g, function(Ue) {
            var A = 16 * Math.random() | 0;
            return (Ue === "x" ? A : 3 & A | 8).toString(16)
        }),
        de.metrics = new kq({
            onError: de.emit.bind(de, ws.ERROR),
            onSent: de.emit.bind(de, ws.SENT),
            appName: v,
            metricsInterval: h,
            disableMetrics: p,
            url: de.url,
            clientKey: s,
            fetch: B,
            headerName: x,
            customHeaders: fe,
            metricsIntervalInitial: f,
            connectionId: de.connectionId
        }),
        de
    }
    return function(n, i) {
        if (typeof i != "function" && i !== null)
            throw new TypeError("Class extends value " + String(i) + " is not a constructor or null");
        function r() {
            this.constructor = n
        }
        S9(n, i),
        n.prototype = i === null ? Object.create(i) : (r.prototype = i.prototype,
        new r)
    }(t, e),
    t.prototype.getAllToggles = function() {
        return function(n, i, r) {
            if (r || arguments.length === 2)
                for (var s, o = 0, a = i.length; o < a; o++)
                    !s && o in i || (s || (s = Array.prototype.slice.call(i, 0, o)),
                    s[o] = i[o]);
            return n.concat(s || Array.prototype.slice.call(i))
        }([], this.toggles, !0)
    }
    ,
    t.prototype.isEnabled = function(n) {
        var i, r = this.toggles.find(function(a) {
            return a.name === n
        }), s = !!r && r.enabled;
        if (this.metrics.count(n, s),
        r?.impressionData || this.impressionDataAll) {
            var o = this.eventsHandler.createImpressionEvent(this.context, s, n, Bq, (i = r?.impressionData) !== null && i !== void 0 ? i : void 0);
            this.emit(ws.IMPRESSION, o)
        }
        return s
    }
    ,
    t.prototype.getVariant = function(n) {
        var i, r = this.toggles.find(function(c) {
            return c.name === n
        }), s = r?.enabled || !1, o = r ? r.variant : Hq;
        if (o.name && this.metrics.countVariant(n, o.name),
        this.metrics.count(n, s),
        r?.impressionData || this.impressionDataAll) {
            var a = this.eventsHandler.createImpressionEvent(this.context, s, n, Uq, (i = r?.impressionData) !== null && i !== void 0 ? i : void 0, o.name);
            this.emit(ws.IMPRESSION, a)
        }
        return Un(Un({}, o), {
            feature_enabled: s
        })
    }
    ,
    t.prototype.updateToggles = function() {
        return Ir(this, void 0, void 0, function() {
            var n = this;
            return Rr(this, function(i) {
                switch (i.label) {
                case 0:
                    return this.timerRef || this.fetchedFromServer ? [4, this.fetchToggles()] : [3, 2];
                case 1:
                    return i.sent(),
                    [3, 4];
                case 2:
                    return this.started ? [4, new Promise(function(r) {
                        var s = function() {
                            n.fetchToggles().then(function() {
                                n.off(ws.READY, s),
                                r()
                            })
                        };
                        n.once(ws.READY, s)
                    }
                    )] : [3, 4];
                case 3:
                    i.sent(),
                    i.label = 4;
                case 4:
                    return [2]
                }
            })
        })
    }
    ,
    t.prototype.updateContext = function(n) {
        return Ir(this, void 0, void 0, function() {
            var i;
            return Rr(this, function(r) {
                switch (r.label) {
                case 0:
                    return (n.appName || n.environment) && console.warn("appName and environment are static. They can't be updated with updateContext."),
                    i = {
                        environment: this.context.environment,
                        appName: this.context.appName,
                        sessionId: this.context.sessionId
                    },
                    this.context = Un(Un({}, i), n),
                    [4, this.updateToggles()];
                case 1:
                    return r.sent(),
                    [2]
                }
            })
        })
    }
    ,
    t.prototype.getContext = function() {
        return Un({}, this.context)
    }
    ,
    t.prototype.setContextField = function(n, i) {
        var r, s;
        if (HE(n))
            this.context = Un(Un({}, this.context), ((r = {})[n] = i,
            r));
        else {
            var o = Un(Un({}, this.context.properties), ((s = {})[n] = i,
            s));
            this.context = Un(Un({}, this.context), {
                properties: o
            })
        }
        this.updateToggles()
    }
    ,
    t.prototype.removeContextField = function(n) {
        var i;
        HE(n) ? this.context = Un(Un({}, this.context), ((i = {})[n] = void 0,
        i)) : typeof this.context.properties == "object" && delete this.context.properties[n],
        this.updateToggles()
    }
    ,
    t.prototype.setReady = function() {
        this.readyEventEmitted = !0,
        this.emit(ws.READY)
    }
    ,
    t.prototype.init = function() {
        return Ir(this, void 0, void 0, function() {
            var n, i, r;
            return Rr(this, function(s) {
                switch (s.label) {
                case 0:
                    return [4, this.resolveSessionId()];
                case 1:
                    return n = s.sent(),
                    this.context = Un({
                        sessionId: n
                    }, this.context),
                    i = this,
                    [4, this.storage.get(b9)];
                case 2:
                    return i.toggles = s.sent() || [],
                    r = this,
                    [4, this.getLastRefreshTimestamp()];
                case 3:
                    return r.lastRefreshTimestamp = s.sent(),
                    !this.bootstrap || !this.bootstrapOverride && this.toggles.length !== 0 ? [3, 6] : [4, this.storage.save(b9, this.bootstrap)];
                case 4:
                    return s.sent(),
                    this.toggles = this.bootstrap,
                    this.sdkState = "healthy",
                    [4, this.storeLastRefreshTimestamp()];
                case 5:
                    s.sent(),
                    this.setReady(),
                    s.label = 6;
                case 6:
                    return this.sdkState = "healthy",
                    this.emit(ws.INIT),
                    [2]
                }
            })
        })
    }
    ,
    t.prototype.start = function() {
        return Ir(this, void 0, void 0, function() {
            var n, i = this;
            return Rr(this, function(r) {
                switch (r.label) {
                case 0:
                    return this.started = !0,
                    this.timerRef ? (console.error("Unleash SDK has already started, if you want to restart the SDK you should call client.stop() before starting again."),
                    [2]) : [4, this.ready];
                case 1:
                    return r.sent(),
                    this.metrics.start(),
                    n = this.refreshInterval,
                    [4, this.initialFetchToggles()];
                case 2:
                    return r.sent(),
                    n > 0 && (this.timerRef = setInterval(function() {
                        return i.fetchToggles()
                    }, n)),
                    [2]
                }
            })
        })
    }
    ,
    t.prototype.stop = function() {
        this.timerRef && (clearInterval(this.timerRef),
        this.timerRef = void 0),
        this.metrics.stop()
    }
    ,
    t.prototype.isReady = function() {
        return this.readyEventEmitted
    }
    ,
    t.prototype.getError = function() {
        return this.sdkState === "error" ? this.lastError : void 0
    }
    ,
    t.prototype.sendMetrics = function() {
        return this.metrics.sendMetrics()
    }
    ,
    t.prototype.resolveSessionId = function() {
        return Ir(this, void 0, void 0, function() {
            var n;
            return Rr(this, function(i) {
                switch (i.label) {
                case 0:
                    return this.context.sessionId ? [2, this.context.sessionId] : [4, this.storage.get("sessionId")];
                case 1:
                    return (n = i.sent()) ? [3, 3] : (n = Math.floor(1e9 * Math.random()),
                    [4, this.storage.save("sessionId", n.toString(10))]);
                case 2:
                    i.sent(),
                    i.label = 3;
                case 3:
                    return [2, n.toString(10)]
                }
            })
        })
    }
    ,
    t.prototype.getHeaders = function() {
        var n, i = this.usePOSTrequests, r = ((n = {})[this.headerName] = this.clientKey,
        n.Accept = "application/json",
        n["x-unleash-sdk"] = WE,
        n["x-unleash-connection-id"] = this.connectionId,
        n["x-unleash-appname"] = this.context.appName,
        n);
        return i && (r["Content-Type"] = "application/json"),
        this.etag && (r["If-None-Match"] = this.etag),
        Object.entries(this.customHeaders).filter(I2).forEach(function(s) {
            var o = s[0]
              , a = s[1];
            return r[o] = a
        }),
        r
    }
    ,
    t.prototype.storeToggles = function(n) {
        return Ir(this, void 0, void 0, function() {
            return Rr(this, function(i) {
                switch (i.label) {
                case 0:
                    return this.toggles = n,
                    this.emit(ws.UPDATE),
                    [4, this.storage.save(b9, n)];
                case 1:
                    return i.sent(),
                    [2]
                }
            })
        })
    }
    ,
    t.prototype.isTogglesStorageTTLEnabled = function() {
        var n;
        return !!(!((n = this.experimental) === null || n === void 0) && n.togglesStorageTTL && this.experimental.togglesStorageTTL > 0)
    }
    ,
    t.prototype.isUpToDate = function() {
        var n;
        if (!this.isTogglesStorageTTLEnabled())
            return !1;
        var i = Date.now()
          , r = ((n = this.experimental) === null || n === void 0 ? void 0 : n.togglesStorageTTL) || 0;
        return this.lastRefreshTimestamp > 0 && this.lastRefreshTimestamp <= i && i - this.lastRefreshTimestamp <= r
    }
    ,
    t.prototype.getLastRefreshTimestamp = function() {
        return Ir(this, void 0, void 0, function() {
            var n, i;
            return Rr(this, function(r) {
                switch (r.label) {
                case 0:
                    return this.isTogglesStorageTTLEnabled() ? [4, this.storage.get(GE)] : [3, 3];
                case 1:
                    return n = r.sent(),
                    [4, BE(this.context)];
                case 2:
                    return i = r.sent(),
                    [2, n?.key === i ? n.timestamp : 0];
                case 3:
                    return [2, 0]
                }
            })
        })
    }
    ,
    t.prototype.storeLastRefreshTimestamp = function() {
        return Ir(this, void 0, void 0, function() {
            var n, i;
            return Rr(this, function(r) {
                switch (r.label) {
                case 0:
                    return this.isTogglesStorageTTLEnabled() ? (this.lastRefreshTimestamp = Date.now(),
                    i = {},
                    [4, BE(this.context)]) : [3, 3];
                case 1:
                    return i.key = r.sent(),
                    i.timestamp = this.lastRefreshTimestamp,
                    n = i,
                    [4, this.storage.save(GE, n)];
                case 2:
                    r.sent(),
                    r.label = 3;
                case 3:
                    return [2]
                }
            })
        })
    }
    ,
    t.prototype.initialFetchToggles = function() {
        if (!this.isUpToDate())
            return this.fetchToggles();
        this.fetchedFromServer || (this.fetchedFromServer = !0,
        this.setReady())
    }
    ,
    t.prototype.fetchToggles = function() {
        return Ir(this, void 0, void 0, function() {
            var n, i, r, s, o, a, c, l, u;
            return Rr(this, function(h) {
                switch (h.label) {
                case 0:
                    if (!this.fetch)
                        return [3, 9];
                    this.abortController && this.abortController.abort(),
                    this.abortController = (u = this.createAbortController) === null || u === void 0 ? void 0 : u.call(this),
                    n = this.abortController ? this.abortController.signal : void 0,
                    h.label = 1;
                case 1:
                    return h.trys.push([1, 7, 8, 9]),
                    i = this.usePOSTrequests,
                    r = i ? this.url : function(d, f) {
                        var g = new URL(d.toString());
                        return Object.entries(f).filter(I2).forEach(function(p) {
                            var v = p[0]
                              , b = p[1];
                            v === "properties" && b ? Object.entries(b).filter(I2).forEach(function(S) {
                                var w = S[0]
                                  , k = S[1];
                                return g.searchParams.append("properties[".concat(w, "]"), k)
                            }) : g.searchParams.append(v, b)
                        }),
                        g
                    }(this.url, this.context),
                    s = i ? "POST" : "GET",
                    o = i ? JSON.stringify({
                        context: this.context
                    }) : void 0,
                    [4, this.fetch(r.toString(), {
                        method: s,
                        cache: "no-cache",
                        headers: this.getHeaders(),
                        body: o,
                        signal: n
                    })];
                case 2:
                    return a = h.sent(),
                    this.sdkState === "error" && a.status < 400 && (this.sdkState = "healthy",
                    this.emit(ws.RECOVERED)),
                    a.ok ? (this.etag = a.headers.get("ETag") || "",
                    [4, a.json()]) : [3, 5];
                case 3:
                    return c = h.sent(),
                    [4, this.storeToggles(c.toggles)];
                case 4:
                    return h.sent(),
                    this.sdkState !== "healthy" && (this.sdkState = "healthy"),
                    this.fetchedFromServer || (this.fetchedFromServer = !0,
                    this.setReady()),
                    this.storeLastRefreshTimestamp(),
                    [3, 6];
                case 5:
                    a.status === 304 ? this.storeLastRefreshTimestamp() : (console.error("Unleash: Fetching feature toggles did not have an ok response"),
                    this.sdkState = "error",
                    this.emit(ws.ERROR, {
                        type: "HttpError",
                        code: a.status
                    }),
                    this.lastError = {
                        type: "HttpError",
                        code: a.status
                    }),
                    h.label = 6;
                case 6:
                    return [3, 9];
                case 7:
                    return typeof (l = h.sent()) == "object" && l !== null && "name"in l && l.name === "AbortError" || (console.error("Unleash: unable to fetch feature toggles", l),
                    this.sdkState = "error",
                    this.emit(ws.ERROR, l),
                    this.lastError = l),
                    [3, 9];
                case 8:
                    return this.abortController = null,
                    [7];
                case 9:
                    return [2]
                }
            })
        })
    }
    ,
    t
}(Oq);
var oh = {
    UKNOWN: "Unknown"
}
  , P9 = {
    CHROME: "Chrome",
    FIREFOX: "Firefox",
    SAFARI: "Safari",
    OPERA: "Opera",
    IE: "IE",
    MS_EDGE: "MS-Edge",
    MS_EDGE_CHROMIUM: "MS-Edge-Chromium",
    FB_MESSANGER: "FB-Messanger",
    SAMSUNG: "Samsung",
    UCBROWSER: "UC-Browser",
    UNKNOWN: oh.UKNOWN
}
  , R2 = {
    HTC: /HTC|HTC.*(Sensation|Evo|Vision|Explorer|6800|8100|8900|A7272|S510e|C110e|Legend|Desire|T8282)|APX515CKT|Qtek9090|APA9292KT|HD_mini|Sensation.*Z710e|PG86100|Z715e|Desire.*(A8181|HD)|ADR6200|ADR6400L|ADR6425|001HT|Inspire 4G|Android.*\bEVO\b|T-Mobile G1|Z520m|Android [0-9.]+; Pixel/,
    NEXUS_PHONE: /Nexus One|Nexus S|Galaxy.*Nexus|Android.*Nexus.*Mobile|Nexus 4|Nexus 5|Nexus 6/,
    DELL: /Dell[;]? (Streak|Aero|Venue|Venue Pro|Flash|Smoke|Mini 3iX)|XCD28|XCD35|\b001DL\b|\b101DL\b|\bGS01\b/,
    MOTOROLA: new RegExp(`Motorola|DROIDX|DROID BIONIC|\\bDroid\\b.*Build|Android.*Xoom|HRI39|MOT-|A1260|A1680|A555|A853|
      A855|A953|A955|A956|Motorola.*ELECTRIFY|Motorola.*i1|i867|i940|MB200|MB300|MB501|MB502|MB508|MB511|
      MB520|MB525|MB526|MB611|MB612|MB632|MB810|MB855|MB860|MB861|MB865|MB870|ME501|ME502|ME511|ME525|ME600|
      ME632|ME722|ME811|ME860|ME863|ME865|MT620|MT710|MT716|MT720|MT810|MT870|MT917|Motorola.*TITANIUM|WX435|
      WX445|XT300|XT301|XT311|XT316|XT317|XT319|XT320|XT390|XT502|XT530|XT531|XT532|XT535|XT603|XT610|XT611|
      XT615|XT681|XT701|XT702|XT711|XT720|XT800|XT806|XT860|XT862|XT875|XT882|XT883|XT894|XT901|XT907|XT909|
      XT910|XT912|XT928|XT926|XT915|XT919|XT925|XT1021|\\bMoto E\\b|XT1068|XT1092|XT1052`),
    SAMSUNG: new RegExp(`\\bSamsung\\b|SM-G950F|SM-G955F|SM-G9250|GT-19300|SGH-I337|BGT-S5230|GT-B2100|GT-B2700|GT-B2710|
      GT-B3210|GT-B3310|GT-B3410|GT-B3730|GT-B3740|GT-B5510|GT-B5512|GT-B5722|GT-B6520|GT-B7300|GT-B7320|
      GT-B7330|GT-B7350|GT-B7510|GT-B7722|GT-B7800|GT-C3010|GT-C3011|GT-C3060|GT-C3200|GT-C3212|GT-C3212I|
      GT-C3262|GT-C3222|GT-C3300|GT-C3300K|GT-C3303|GT-C3303K|GT-C3310|GT-C3322|GT-C3330|GT-C3350|GT-C3500|
      GT-C3510|GT-C3530|GT-C3630|GT-C3780|GT-C5010|GT-C5212|GT-C6620|GT-C6625|GT-C6712|GT-E1050|GT-E1070|
      GT-E1075|GT-E1080|GT-E1081|GT-E1085|GT-E1087|GT-E1100|GT-E1107|GT-E1110|GT-E1120|GT-E1125|GT-E1130|
      GT-E1160|GT-E1170|GT-E1175|GT-E1180|GT-E1182|GT-E1200|GT-E1210|GT-E1225|GT-E1230|GT-E1390|GT-E2100|
      GT-E2120|GT-E2121|GT-E2152|GT-E2220|GT-E2222|GT-E2230|GT-E2232|GT-E2250|GT-E2370|GT-E2550|GT-E2652|
      GT-E3210|GT-E3213|GT-I5500|GT-I5503|GT-I5700|GT-I5800|GT-I5801|GT-I6410|GT-I6420|GT-I7110|GT-I7410|
      GT-I7500|GT-I8000|GT-I8150|GT-I8160|GT-I8190|GT-I8320|GT-I8330|GT-I8350|GT-I8530|GT-I8700|GT-I8703|
      GT-I8910|GT-I9000|GT-I9001|GT-I9003|GT-I9010|GT-I9020|GT-I9023|GT-I9070|GT-I9082|GT-I9100|GT-I9103|
      GT-I9220|GT-I9250|GT-I9300|GT-I9305|GT-I9500|GT-I9505|GT-M3510|GT-M5650|GT-M7500|GT-M7600|GT-M7603|
      GT-M8800|GT-M8910|GT-N7000|GT-S3110|GT-S3310|GT-S3350|GT-S3353|GT-S3370|GT-S3650|GT-S3653|GT-S3770|
      GT-S3850|GT-S5210|GT-S5220|GT-S5229|GT-S5230|GT-S5233|GT-S5250|GT-S5253|GT-S5260|GT-S5263|GT-S5270|
      GT-S5300|GT-S5330|GT-S5350|GT-S5360|GT-S5363|GT-S5369|GT-S5380|GT-S5380D|GT-S5560|GT-S5570|GT-S5600|
      GT-S5603|GT-S5610|GT-S5620|GT-S5660|GT-S5670|GT-S5690|GT-S5750|GT-S5780|GT-S5830|GT-S5839|GT-S6102|
      GT-S6500|GT-S7070|GT-S7200|GT-S7220|GT-S7230|GT-S7233|GT-S7250|GT-S7500|GT-S7530|GT-S7550|GT-S7562|
      GT-S7710|GT-S8000|GT-S8003|GT-S8500|GT-S8530|GT-S8600|SCH-A310|SCH-A530|SCH-A570|SCH-A610|SCH-A630|
      SCH-A650|SCH-A790|SCH-A795|SCH-A850|SCH-A870|SCH-A890|SCH-A930|SCH-A950|SCH-A970|SCH-A990|SCH-I100|
      SCH-I110|SCH-I400|SCH-I405|SCH-I500|SCH-I510|SCH-I515|SCH-I600|SCH-I730|SCH-I760|SCH-I770|SCH-I830|
      SCH-I910|SCH-I920|SCH-I959|SCH-LC11|SCH-N150|SCH-N300|SCH-R100|SCH-R300|SCH-R351|SCH-R400|SCH-R410|
      SCH-T300|SCH-U310|SCH-U320|SCH-U350|SCH-U360|SCH-U365|SCH-U370|SCH-U380|SCH-U410|SCH-U430|SCH-U450|
      SCH-U460|SCH-U470|SCH-U490|SCH-U540|SCH-U550|SCH-U620|SCH-U640|SCH-U650|SCH-U660|SCH-U700|SCH-U740|
      SCH-U750|SCH-U810|SCH-U820|SCH-U900|SCH-U940|SCH-U960|SCS-26UC|SGH-A107|SGH-A117|SGH-A127|SGH-A137|
      SGH-A157|SGH-A167|SGH-A177|SGH-A187|SGH-A197|SGH-A227|SGH-A237|SGH-A257|SGH-A437|SGH-A517|SGH-A597|
      SGH-A637|SGH-A657|SGH-A667|SGH-A687|SGH-A697|SGH-A707|SGH-A717|SGH-A727|SGH-A737|SGH-A747|SGH-A767|
      SGH-A777|SGH-A797|SGH-A817|SGH-A827|SGH-A837|SGH-A847|SGH-A867|SGH-A877|SGH-A887|SGH-A897|SGH-A927|
      SGH-B100|SGH-B130|SGH-B200|SGH-B220|SGH-C100|SGH-C110|SGH-C120|SGH-C130|SGH-C140|SGH-C160|SGH-C170|
      SGH-C180|SGH-C200|SGH-C207|SGH-C210|SGH-C225|SGH-C230|SGH-C417|SGH-C450|SGH-D307|SGH-D347|SGH-D357|
      SGH-D407|SGH-D415|SGH-D780|SGH-D807|SGH-D980|SGH-E105|SGH-E200|SGH-E315|SGH-E316|SGH-E317|SGH-E335|
      SGH-E590|SGH-E635|SGH-E715|SGH-E890|SGH-F300|SGH-F480|SGH-I200|SGH-I300|SGH-I320|SGH-I550|SGH-I577|
      SGH-I600|SGH-I607|SGH-I617|SGH-I627|SGH-I637|SGH-I677|SGH-I700|SGH-I717|SGH-I727|SGH-i747M|SGH-I777|
      SGH-I780|SGH-I827|SGH-I847|SGH-I857|SGH-I896|SGH-I897|SGH-I900|SGH-I907|SGH-I917|SGH-I927|SGH-I937|
      SGH-I997|SGH-J150|SGH-J200|SGH-L170|SGH-L700|SGH-M110|SGH-M150|SGH-M200|SGH-N105|SGH-N500|SGH-N600|
      SGH-N620|SGH-N625|SGH-N700|SGH-N710|SGH-P107|SGH-P207|SGH-P300|SGH-P310|SGH-P520|SGH-P735|SGH-P777|
      SGH-Q105|SGH-R210|SGH-R220|SGH-R225|SGH-S105|SGH-S307|SGH-T109|SGH-T119|SGH-T139|SGH-T209|SGH-T219|
      SGH-T229|SGH-T239|SGH-T249|SGH-T259|SGH-T309|SGH-T319|SGH-T329|SGH-T339|SGH-T349|SGH-T359|SGH-T369|
      SGH-T379|SGH-T409|SGH-T429|SGH-T439|SGH-T459|SGH-T469|SGH-T479|SGH-T499|SGH-T509|SGH-T519|SGH-T539|
      SGH-T559|SGH-T589|SGH-T609|SGH-T619|SGH-T629|SGH-T639|SGH-T659|SGH-T669|SGH-T679|SGH-T709|SGH-T719|
      SGH-T729|SGH-T739|SGH-T746|SGH-T749|SGH-T759|SGH-T769|SGH-T809|SGH-T819|SGH-T839|SGH-T919|SGH-T929|
      SGH-T939|SGH-T959|SGH-T989|SGH-U100|SGH-U200|SGH-U800|SGH-V205|SGH-V206|SGH-X100|SGH-X105|SGH-X120|
      SGH-X140|SGH-X426|SGH-X427|SGH-X475|SGH-X495|SGH-X497|SGH-X507|SGH-X600|SGH-X610|SGH-X620|SGH-X630|
      SGH-X700|SGH-X820|SGH-X890|SGH-Z130|SGH-Z150|SGH-Z170|SGH-ZX10|SGH-ZX20|SHW-M110|SPH-A120|SPH-A400|
      SPH-A420|SPH-A460|SPH-A500|SPH-A560|SPH-A600|SPH-A620|SPH-A660|SPH-A700|SPH-A740|SPH-A760|SPH-A790|
      SPH-A800|SPH-A820|SPH-A840|SPH-A880|SPH-A900|SPH-A940|SPH-A960|SPH-D600|SPH-D700|SPH-D710|SPH-D720|
      SPH-I300|SPH-I325|SPH-I330|SPH-I350|SPH-I500|SPH-I600|SPH-I700|SPH-L700|SPH-M100|SPH-M220|SPH-M240|
      SPH-M300|SPH-M305|SPH-M320|SPH-M330|SPH-M350|SPH-M360|SPH-M370|SPH-M380|SPH-M510|SPH-M540|SPH-M550|
      SPH-M560|SPH-M570|SPH-M580|SPH-M610|SPH-M620|SPH-M630|SPH-M800|SPH-M810|SPH-M850|SPH-M900|SPH-M910|
      SPH-M920|SPH-M930|SPH-N100|SPH-N200|SPH-N240|SPH-N300|SPH-N400|SPH-Z400|SWC-E100|SCH-i909|GT-N7100|
      GT-N7105|SCH-I535|SM-N900A|SM-N900T|SGH-I317|SGH-T999L|GT-S5360B|GT-I8262|GT-S6802|GT-S6312|GT-S6310|GT-S5312|
      GT-S5310|GT-I9105|GT-I8510|GT-S6790N|SM-G7105|SM-N9005|GT-S5301|GT-I9295|GT-I9195|SM-C101|GT-S7392|GT-S7560|
      GT-B7610|GT-I5510|GT-S7582|GT-S7530E|GT-I8750|SM-G9006V|SM-G9008V|SM-G9009D|SM-G900A|SM-G900D|SM-G900F|
      SM-G900H|SM-G900I|SM-G900J|SM-G900K|SM-G900L|SM-G900M|SM-G900P|SM-G900R4|SM-G900S|SM-G900T|SM-G900V|
      SM-G900W8|SHV-E160K|SCH-P709|SCH-P729|SM-T2558|GT-I9205|SM-G9350|SM-J120F|SM-G920F|SM-G920V|SM-G930F|
      SM-N910C|SM-A310F|GT-I9190|SM-J500FN|SM-G903F|SM-J330F`),
    LG: new RegExp(`\\bLG\\b;|LG[- ]?(C800|C900|E400|E610|E900|E-900|F160|F180K|F180L|F180S|730|855|L160|LS740|LS840|LS970|
      LU6200|MS690|MS695|MS770|MS840|MS870|MS910|P500|P700|P705|VM696|AS680|AS695|AX840|C729|E970|GS505|272|
      C395|E739BK|E960|L55C|L75C|LS696|LS860|P769BK|P350|P500|P509|P870|UN272|US730|VS840|VS950|LN272|LN510|
      LS670|LS855|LW690|MN270|MN510|P509|P769|P930|UN200|UN270|UN510|UN610|US670|US740|US760|UX265|UX840|VN271|
      VN530|VS660|VS700|VS740|VS750|VS910|VS920|VS930|VX9200|VX11000|AX840A|LW770|P506|P925|P999|E612|D955|D802|
      MS323|M257)`),
    SONY: /SonyST|SonyLT|SonyEricsson|SonyEricssonLT15iv|LT18i|E10i|LT28h|LT26w|SonyEricssonMT27i|C5303|C6902|C6903|C6906|C6943|D2533/,
    ASUS: /Asus.*Galaxy|PadFone.*Mobile/,
    NOKIA_LUMIA: /Lumia [0-9]{3,4}/,
    MICROMAX: /Micromax.*\b(A210|A92|A88|A72|A111|A110Q|A115|A116|A110|A90S|A26|A51|A35|A54|A25|A27|A89|A68|A65|A57|A90)\b/,
    PALM: /PalmSource|Palm/,
    VERTU: /Vertu|Vertu.*Ltd|Vertu.*Ascent|Vertu.*Ayxta|Vertu.*Constellation(F|Quest)?|Vertu.*Monika|Vertu.*Signature/,
    PANTECH: new RegExp(`PANTECH|IM-A850S|IM-A840S|IM-A830L|IM-A830K|IM-A830S|IM-A820L|IM-A810K|IM-A810S|IM-A800S|IM-T100K|
        IM-A725L|IM-A780L|IM-A775C|IM-A770K|IM-A760S|IM-A750K|IM-A740S|IM-A730S|IM-A720L|IM-A710K|IM-A690L|
        IM-A690S|IM-A650S|IM-A630K|IM-A600S|VEGA PTL21|PT003|P8010|ADR910L|P6030|P6020|P9070|P4100|P9060|P5000|
        CDM8992|TXT8045|ADR8995|IS11PT|P2030|P6010|P8000|PT002|IS06|CDM8999|P9050|PT001|TXT8040|P2020|P9020|
        P2000|P7040|P7000|C790`),
    FLY: /IQ230|IQ444|IQ450|IQ440|IQ442|IQ441|IQ245|IQ256|IQ236|IQ255|IQ235|IQ245|IQ275|IQ240|IQ285|IQ280|IQ270|IQ260|IQ250/,
    WIKO: new RegExp(`KITE 4G|HIGHWAY|GETAWAY|STAIRWAY|DARKSIDE|DARKFULL|DARKNIGHT|DARKMOON|SLIDE|WAX 4G|RAINBOW|BLOOM|
        SUNSET|GOA(?!nna)|LENNY|BARRY|IGGY|OZZY|CINK FIVE|CINK PEAX|CINK PEAX 2|CINK SLIM|CINK SLIM 2|CINK +|
        CINK KING|CINK PEAX|CINK SLIM|SUBLIM`),
    I_MOBILE: /i-mobile (IQ|i-STYLE|idea|ZAA|Hitz)/,
    SIMVALLEY: /\b(SP-80|XT-930|SX-340|XT-930|SX-310|SP-360|SP60|SPT-800|SP-120|SPT-800|SP-140|SPX-5|SPX-8|SP-100|SPX-8|SPX-12)\b/,
    WOLFGANG: /AT-B24D|AT-AS50HD|AT-AS40W|AT-AS55HD|AT-AS45q2|AT-B26D|AT-AS50Q/,
    ALCATEL: /Alcatel|Mobile; rv:49.0|Mobile; ALCATEL 4052R; rv:48.0/,
    NINTENDO: /Nintendo (3DS|Switch)/,
    AMOI: /Amoi/,
    INQ: /INQ/,
    VITA: /\bVita\b/,
    BLACKBERRY: /\bBlackBerry\b|\bBB10\b|rim[0-9]+/,
    FIREFOX_OS: /\bFirefox-OS\b/,
    IPHONE: /\biPhone\b/,
    iPod: /\biPod\b/,
    ANDROID: /\bAndroid\b/,
    WINDOWS_PHONE: /\bWindows-Phone\b/,
    GENERIC_PHONE: new RegExp(`Tapatalk|PDA;|SAGEM|\\bmmp\\b|pocket|\\bpsp\\b|symbian|Smartphone|smartfon|treo|up.browser|
        up.link|vodafone|\\bwap\\b|nokia|Nokia|Series40|Series60|S60|SonyEricsson|N900|MAUI.*WAP.*Browser`)
}
  , sh = {
    iPad: /iPad|iPad.*Mobile/,
    NexusTablet: /Android.*Nexus[\s]+(7|9|10)/,
    GoogleTablet: /Android.*Pixel C/,
    SamsungTablet: new RegExp(`SAMSUNG.*Tablet|Galaxy.*Tab|SC-01C|GT-P1000|GT-P1003|GT-P1010|GT-P3105|GT-P6210|
        GT-P6800|GT-P6810|GT-P7100|GT-P7300|GT-P7310|GT-P7500|GT-P7510|SCH-I800|SCH-I815|SCH-I905|
        SGH-I957|SGH-I987|SGH-T849|SGH-T859|SGH-T869|SPH-P100|GT-P3100|GT-P3108|GT-P3110|GT-P5100|
        GT-P5110|GT-P6200|GT-P7320|GT-P7511|GT-N8000|GT-P8510|SGH-I497|SPH-P500|SGH-T779|SCH-I705|
        SCH-I915|GT-N8013|GT-P3113|GT-P5113|GT-P8110|GT-N8010|GT-N8005|GT-N8020|GT-P1013|GT-P6201|
        GT-P7501|GT-N5100|GT-N5105|GT-N5110|SHV-E140K|SHV-E140L|SHV-E140S|SHV-E150S|SHV-E230K|SHV-E230L|
        SHV-E230S|SHW-M180K|SHW-M180L|SM-T865|SM-T290|SHW-M180S|SHW-M180W|SHW-M300W|SHW-M305W|SHW-M380K|SHW-M380S|SHW-M380W|
        SHW-M430W|SHW-M480K|SHW-M480S|SHW-M480W|SHW-M485W|SHW-M486W|SHW-M500W|GT-I9228|SCH-P739|SCH-I925|
        GT-I9200|GT-P5200|GT-P5210|GT-P5210X|SM-T385M|SM-P585M|SM-T311|SM-T310|SM-T310X|SM-T210|SM-T210R|SM-T211|SM-P600|
        SM-P601|SM-P605|SM-P615|SM-P900|SM-P901|SM-T217|SM-T217A|SM-T217S|SM-P6000|SM-T3100|SGH-I467|XE500|SM-T110|
        GT-P5220|GT-I9200X|GT-N5110X|GT-N5120|SM-P905|SM-T111|SM-T2105|SM-T315|SM-T320|SM-T320X|SM-T321|
        SM-T510|SM-T520|SM-T525|SM-T530NU|SM-T230NU|SM-T330NU|SM-T900|XE500T1C|SM-P605V|SM-P905V|SM-T337V|SM-T537V|
        SM-T707V|SM-T807V|SM-P600X|SM-P900X|SM-T210X|SM-T230|SM-T230X|SM-T325|GT-P7503|SM-T531|SM-T500|SM-T330|
        SM-T530|SM-T705|SM-T705C|SM-T535|SM-T331|SM-T800|SM-T700|SM-T537|SM-T807|SM-P907A|SM-T337A|SM-T537A|
        SM-T707A|SM-T807A|SM-T237|SM-T807P|SM-P607T|SM-T217T|SM-T337T|SM-T807T|SM-T116NQ|SM-T116BU|SM-P550|
        SM-T350|SM-T550|SM-T9000|SM-P9000|SM-T705Y|SM-T805|GT-P3113|SM-T710|SM-T810|SM-T815|SM-T360|SM-T533|
        SM-T113|SM-T335|SM-T715|SM-T560|SM-T670|SM-T677|SM-T377|SM-T567|SM-T357T|SM-T555|SM-T561|SM-T713|
        SM-T719|SM-T725|SM-T813|SM-T819|SM-T580|SM-T590|SM-T355Y?|SM-T280|SM-T817A|SM-T820|SM-W700|SM-P580|SM-T587|SM-P350|
        SM-P555M|SM-P355M|SM-T113NU|SM-T815Y|SM-T585|SM-T285|SM-T825|SM-W708|SM-T835|SM-P585Y|SM-X200|SM-T970`),
    Kindle: new RegExp(`Kindle|Silk.*Accelerated|Android.*\\b(KFOT|KFTT|KFJWI|KFJWA|KFOTE|KFSOWI|KFTHWI|KFTHWA|KFAPWI|
        KFAPWA|WFJWAE|KFSAWA|KFSAWI|KFASWI|KFARWI|KFFOWI|KFGIWI|KFMEWI)\\b|Android.*Silk/[0-9.]+ like Chrome        /[0-9.]+ (?!Mobile)`),
    SurfaceTablet: /Windows NT [0-9.]+; ARM;.*(Tablet|ARMBJS)/,
    HPTablet: /HP Slate (7|8|10)|HP ElitePad 900|hp-tablet|EliteBook.*Touch|HP 8|Slate 21|HP SlateBook 10/,
    AsusTablet: new RegExp(`^.*PadFone((?!Mobile).)*$|Transformer|TF101|TF101G|TF300T|TF300TG|TF300TL|TF700T|TF700KL|
        TF701T|TF810C|ME171|ME301T|ME302C|ME371MG|ME370T|ME372MG|ME172V|ME173X|ME400C|
        Slider SL101|\\bK00F\\b|\\bK00C\\b|\\bK00E\\b|\\bK00L\\b|TX201LA|ME176C|ME102A|\\bM80TA\\b|ME372CL|
        ME560CG|ME372CG|ME302KL| K010 | K011 | K017 | K01E |ME572C|ME103K|ME170C|ME171C|\\bME70C\\b|ME581C|
        ME581CL|ME8510C|ME181C|P01Y|PO1MA|P01Z|\\bP027\\b|\\bP024\\b|\\bP00C\\b`),
    BlackBerryTablet: /PlayBook|RIM Tablet/,
    HTCtablet: /HTC_Flyer_P512|HTC Flyer|HTC Jetstream|HTC-P715a|HTC EVO View 4G|PG41200|PG09410/,
    MotorolaTablet: /xoom|sholest|MZ615|MZ605|MZ505|MZ601|MZ602|MZ603|MZ604|MZ606|MZ607|MZ608|MZ609|MZ615|MZ616|MZ617/,
    NookTablet: /Android.*Nook|NookColor|nook browser|BNRV200|BNRV200A|BNTV250|BNTV250A|BNTV400|BNTV600|LogicPD Zoom2/,
    AcerTablet: new RegExp(`Android.*; \\b(A100|A101|A110|A200|A210|A211|A500|A501|A510|A511|A700|A701|W500|W500P|W501|
        W501P|W510|W511|W700|G100|G100W|B1-A71|B1-710|B1-711|A1-810|A1-811|A1-830)\\b|W3-810|\\bA3-A10\\b|\\bA3-A11\\b|
        \\bA3-A20\\b|\\bA3-A30`),
    ToshibaTablet: /Android.*(AT100|AT105|AT200|AT205|AT270|AT275|AT300|AT305|AT1S5|AT500|AT570|AT700|AT830)|TOSHIBA.*FOLIO/,
    LGTablet: /\bL-06C|LG-V909|LG-V900|LG-V700|LG-V510|LG-V500|LG-V410|LG-V400|LG-VK810\b/,
    FujitsuTablet: /Android.*\b(F-01D|F-02F|F-05E|F-10D|M532|Q572)\b/,
    PrestigioTablet: new RegExp(`PMP3170B|PMP3270B|PMP3470B|PMP7170B|PMP3370B|PMP3570C|PMP5870C|PMP3670B|PMP5570C|
        PMP5770D|PMP3970B|PMP3870C|PMP5580C|PMP5880D|PMP5780D|PMP5588C|PMP7280C|PMP7280C3G|PMP7280|PMP7880D|
        PMP5597D|PMP5597|PMP7100D|PER3464|PER3274|PER3574|PER3884|PER5274|PER5474|PMP5097CPRO|PMP5097|PMP7380D|
        PMP5297C|PMP5297C_QUAD|PMP812E|PMP812E3G|PMP812F|PMP810E|PMP880TD|PMT3017|PMT3037|PMT3047|PMT3057|PMT7008|
        PMT5887|PMT5001|PMT5002`),
    LenovoTablet: new RegExp(`Lenovo TAB|Idea(Tab|Pad)( A1|A10| K1|)|ThinkPad([ ]+)?Tablet|YT3-850M|YT3-X90L|YT3-X90F|
        YT3-X90X|Lenovo.*(S2109|S2110|S5000|S6000|K3011|A3000|A3500|A1000|A2107|A2109|A1107|A5500|A7600|B6000|
        B8000|B8080)(-|)(FL|F|HV|H|)|TB-X606F|TB-X103F|TB-X304F|TB-X304L|TB-X704F|TB-8703F|Tab2A7-10F|TB2-X30L|TB-8504F`),
    DellTablet: /Venue 11|Venue 8|Venue 7|Dell Streak 10|Dell Streak 7/,
    YarvikTablet: new RegExp(`Android.*\\b(TAB210|TAB211|TAB224|TAB250|TAB260|TAB264|TAB310|TAB360|TAB364|TAB410|TAB411|
        TAB420|TAB424|TAB450|TAB460|TAB461|TAB464|TAB465|TAB467|TAB468|TAB07-100|TAB07-101|TAB07-150|TAB07-151|
        TAB07-152|TAB07-200|TAB07-201-3G|TAB07-210|TAB07-211|TAB07-212|TAB07-214|TAB07-220|TAB07-400|TAB07-485|
        TAB08-150|TAB08-200|TAB08-201-3G|TAB08-201-30|TAB09-100|TAB09-211|TAB09-410|TAB10-150|TAB10-201|TAB10-211|
        TAB10-400|TAB10-410|TAB13-201|TAB274EUK|TAB275EUK|TAB374EUK|TAB462EUK|TAB474EUK|TAB9-200)\\b`),
    MedionTablet: /Android.*\bOYO\b|LIFE.*(P9212|P9514|P9516|S9512)|LIFETAB/,
    ArnovaTablet: /97G4|AN10G2|AN7bG3|AN7fG3|AN8G3|AN8cG3|AN7G3|AN9G3|AN7dG3|AN7dG3ST|AN7dG3ChildPad|AN10bG3|AN10bG3DT|AN9G2/,
    IntensoTablet: /INM8002KP|INM1010FP|INM805ND|Intenso Tab|TAB1004/,
    IRUTablet: /M702pro/,
    MegafonTablet: /MegaFon V9|\bZTE V9\b|Android.*\bMT7A\b/,
    EbodaTablet: /E-Boda (Supreme|Impresspeed|Izzycomm|Essential)/,
    AllViewTablet: /Allview.*(Viva|Alldro|City|Speed|All TV|Frenzy|Quasar|Shine|TX1|AX1|AX2)/,
    ArchosTablet: new RegExp(`\\b(101G9|80G9|A101IT)\\b|Qilive 97R|Archos5|\\bARCHOS (70|79|80|90|97|101|FAMILYPAD|)(b|c|)(G10|
         Cobalt| TITANIUM(HD|)| Xenon| Neon|XSK| 2| XS 2| PLATINUM| CARBON|GAMEPAD)\\b`),
    AinolTablet: /NOVO7|NOVO8|NOVO10|Novo7Aurora|Novo7Basic|NOVO7PALADIN|novo9-Spark/,
    NokiaLumiaTablet: /Lumia 2520/,
    SonyTablet: new RegExp(`Sony.*Tablet|Xperia Tablet|Sony Tablet S|SO-03E|SGPT12|SGPT13|SGPT114|SGPT121|SGPT122|SGPT123|
        SGPT111|SGPT112|SGPT113|SGPT131|SGPT132|SGPT133|SGPT211|SGPT212|SGPT213|SGP311|SGP312|SGP321|EBRD1101|
        EBRD1102|EBRD1201|SGP351|SGP341|SGP511|SGP512|SGP521|SGP541|SGP551|SGP621|SGP641|SGP612|SOT31|SGP771|SGP611|
        SGP612|SGP712`),
    PhilipsTablet: /\b(PI2010|PI3000|PI3100|PI3105|PI3110|PI3205|PI3210|PI3900|PI4010|PI7000|PI7100)\b/,
    CubeTablet: /Android.*(K8GT|U9GT|U10GT|U16GT|U17GT|U18GT|U19GT|U20GT|U23GT|U30GT)|CUBE U8GT/,
    CobyTablet: new RegExp(`MID1042|MID1045|MID1125|MID1126|MID7012|MID7014|MID7015|MID7034|MID7035|MID7036|MID7042|MID7048|
        MID7127|MID8042|MID8048|MID8127|MID9042|MID9740|MID9742|MID7022|MID7010`),
    MIDTablet: new RegExp(`M9701|M9000|M9100|M806|M1052|M806|T703|MID701|MID713|MID710|MID727|MID760|MID830|MID728|MID933|
        MID125|MID810|MID732|MID120|MID930|MID800|MID731|MID900|MID100|MID820|MID735|MID980|MID130|MID833|MID737|
        MID960|MID135|MID860|MID736|MID140|MID930|MID835|MID733|MID4X10`),
    MSITablet: new RegExp(`MSI \\b(Primo 73K|Primo 73L|Primo 81L|Primo 77|Primo 93|Primo 75|Primo 76|Primo 73|Primo 81|
        Primo 91|Primo 90|Enjoy 71|Enjoy 7|Enjoy 10)\\b`),
    SMiTTablet: /Android.*(\bMID\b|MID-560|MTV-T1200|MTV-PND531|MTV-P1101|MTV-PND530)/,
    RockChipTablet: /Android.*(RK2818|RK2808A|RK2918|RK3066)|RK2738|RK2808A/,
    FlyTablet: /IQ310|Fly Vision/,
    bqTablet: new RegExp(`Android.*(bq)?.*(Elcano|Curie|Edison|Maxwell|Kepler|Pascal|Tesla|Hypatia|Platon|Newton|
        Livingstone|Cervantes|Avant|Aquaris ([E|M]10|M8))|Maxwell.*Lite|Maxwell.*Plus`),
    HuaweiTablet: new RegExp(`MediaPad|MediaPad 7 Youth|MediaPad T3 10|IDEOS S7|S7-201c|S7-202u|S7-101|S7-103|S7-104|S7-105|S7-106|
        S7-201|S7-Slim|M2-A01L|BAH-L09|BAH-W09|AGS-W09|AGS-L09`),
    NecTablet: /\bN-06D|\bN-08D/,
    PantechTablet: /Pantech.*P4100/,
    BronchoTablet: /Broncho.*(N701|N708|N802|a710)/,
    VersusTablet: /TOUCHPAD.*[78910]|\bTOUCHTAB\b/,
    ZyncTablet: /z1000|Z99 2G|z99|z930|z999|z990|z909|Z919|z900/,
    PositivoTablet: /TB07STA|TB10STA|TB07FTA|TB10FTA/,
    NabiTablet: /Android.*\bNabi/,
    KoboTablet: /Kobo Touch|\bK080\b|\bVox\b Build|\bArc\b Build/,
    DanewTablet: /DSlide.*\b(700|701R|702|703R|704|802|970|971|972|973|974|1010|1012)\b/,
    TexetTablet: new RegExp(`NaviPad|TB-772A|TM-7045|TM-7055|TM-9750|TM-7016|TM-7024|TM-7026|TM-7041|TM-7043|TM-7047|
        TM-8041|TM-9741|TM-9747|TM-9748|TM-9751|TM-7022|TM-7021|TM-7020|TM-7011|TM-7010|TM-7023|TM-7025|
        TM-7037W|TM-7038W|TM-7027W|TM-9720|TM-9725|TM-9737W|TM-1020|TM-9738W|TM-9740|TM-9743W|TB-807A|TB-771A|
        TB-727A|TB-725A|TB-719A|TB-823A|TB-805A|TB-723A|TB-715A|TB-707A|TB-705A|TB-709A|TB-711A|TB-890HD|
        TB-880HD|TB-790HD|TB-780HD|TB-770HD|TB-721HD|TB-710HD|TB-434HD|TB-860HD|TB-840HD|TB-760HD|TB-750HD|
        TB-740HD|TB-730HD|TB-722HD|TB-720HD|TB-700HD|TB-500HD|TB-470HD|TB-431HD|TB-430HD|TB-506|TB-504|TB-446|
        TB-436|TB-416|TB-146SE|TB-126SE`),
    PlaystationTablet: /Playstation.*(Portable|Vita)/,
    TrekstorTablet: /ST10416-1|VT10416-1|ST70408-1|ST702xx-1|ST702xx-2|ST80208|ST97216|ST70104-2|VT10416-2|ST10216-2A|SurfTab/,
    PyleAudioTablet: /\b(PTBL10CEU|PTBL10C|PTBL72BC|PTBL72BCEU|PTBL7CEU|PTBL7C|PTBL92BC|PTBL92BCEU|PTBL9CEU|PTBL9CUK|PTBL9C)\b/,
    AdvanTablet: new RegExp(`Android.* \\b(E3A|T3X|T5C|T5B|T3E|T3C|T3B|T1J|T1F|T2A|T1H|T1i|E1C|T1-E|T5-A|T4|E1-B|T2Ci|
        T1-B|T1-D|O1-A|E1-A|T1-A|T3A|T4i)\\b`),
    DanyTechTablet: `Genius Tab G3|Genius Tab S2|Genius Tab Q3|Genius Tab G4|Genius Tab Q4|Genius Tab G-II|
        Genius TAB GII|Genius TAB GIII|Genius Tab S1`,
    GalapadTablet: /Android.*\bG1\b(?!\))/,
    MicromaxTablet: /Funbook|Micromax.*\b(P250|P560|P360|P362|P600|P300|P350|P500|P275)\b/,
    KarbonnTablet: /Android.*\b(A39|A37|A34|ST8|ST10|ST7|Smart Tab3|Smart Tab2)\b/,
    AllFineTablet: /Fine7 Genius|Fine7 Shine|Fine7 Air|Fine8 Style|Fine9 More|Fine10 Joy|Fine11 Wide/,
    PROSCANTablet: new RegExp(`\\b(PEM63|PLT1023G|PLT1041|PLT1044|PLT1044G|PLT1091|PLT4311|PLT4311PL|PLT4315|PLT7030|
        PLT7033|PLT7033D|PLT7035|PLT7035D|PLT7044K|PLT7045K|PLT7045KB|PLT7071KG|PLT7072|PLT7223G|PLT7225G|
        PLT7777G|PLT7810K|PLT7849G|PLT7851G|PLT7852G|PLT8015|PLT8031|PLT8034|PLT8036|PLT8080K|PLT8082|PLT8088|
        PLT8223G|PLT8234G|PLT8235G|PLT8816K|PLT9011|PLT9045K|PLT9233G|PLT9735|PLT9760G|PLT9770G)\\b`),
    YONESTablet: /BQ1078|BC1003|BC1077|RK9702|BC9730|BC9001|IT9001|BC7008|BC7010|BC708|BC728|BC7012|BC7030|BC7027|BC7026/,
    ChangJiaTablet: new RegExp(`TPC7102|TPC7103|TPC7105|TPC7106|TPC7107|TPC7201|TPC7203|TPC7205|TPC7210|TPC7708|TPC7709|
        TPC7712|TPC7110|TPC8101|TPC8103|TPC8105|TPC8106|TPC8203|TPC8205|TPC8503|TPC9106|TPC9701|TPC97101|TPC97103|
        TPC97105|TPC97106|TPC97111|TPC97113|TPC97203|TPC97603|TPC97809|TPC97205|TPC10101|TPC10103|TPC10106|
        TPC10111|TPC10203|TPC10205|TPC10503`),
    GUTablet: /TX-A1301|TX-M9002|Q702|kf026/,
    PointOfViewTablet: new RegExp(`TAB-P506|TAB-navi-7-3G-M|TAB-P517|TAB-P-527|TAB-P701|TAB-P703|TAB-P721|TAB-P731N|
        TAB-P741|TAB-P825|TAB-P905|TAB-P925|TAB-PR945|TAB-PL1015|TAB-P1025|TAB-PI1045|TAB-P1325|TAB-PROTAB[0-9]+|
        TAB-PROTAB25|TAB-PROTAB26|TAB-PROTAB27|TAB-PROTAB26XL|TAB-PROTAB2-IPS9|TAB-PROTAB30-IPS9|TAB-PROTAB25XXL|
        TAB-PROTAB26-IPS10|TAB-PROTAB30-IPS10`),
    OvermaxTablet: new RegExp(`OV-(SteelCore|NewBase|Basecore|Baseone|Exellen|Quattor|EduTab|Solution|ACTION|BasicTab|TeddyTab|
        MagicTab|Stream|TB-08|TB-09)|Qualcore 1027`),
    HCLTablet: /HCL.*Tablet|Connect-3G-2.0|Connect-2G-2.0|ME Tablet U1|ME Tablet U2|ME Tablet G1|ME Tablet X1|ME Tablet Y2|ME Tablet Sync/,
    DPSTablet: /DPS Dream 9|DPS Dual 7/,
    VistureTablet: /V97 HD|i75 3G|Visture V4( HD)?|Visture V5( HD)?|Visture V10/,
    CrestaTablet: /CTP(-)?810|CTP(-)?818|CTP(-)?828|CTP(-)?838|CTP(-)?888|CTP(-)?978|CTP(-)?980|CTP(-)?987|CTP(-)?988|CTP(-)?989/,
    MediatekTablet: /\bMT8125|MT8389|MT8135|MT8377\b/,
    ConcordeTablet: /Concorde([ ]+)?Tab|ConCorde ReadMan/,
    GoCleverTablet: new RegExp(`GOCLEVER TAB|A7GOCLEVER|M1042|M7841|M742|R1042BK|R1041|TAB A975|TAB A7842|TAB A741|TAB A741L|TAB M723G|
        TAB M721|TAB A1021|TAB I921|TAB R721|TAB I720|TAB T76|TAB R70|TAB R76.2|TAB R106|TAB R83.2|TAB M813G|TAB I721|
        GCTA722|TAB I70|TAB I71|TAB S73|TAB R73|TAB R74|TAB R93|TAB R75|TAB R76.1|TAB A73|TAB A93|TAB A93.2|TAB T72|
        TAB R83|TAB R974|TAB R973|TAB A101|TAB A103|TAB A104|TAB A104.2|R105BK|M713G|A972BK|TAB A971|TAB R974.2|
        TAB R104|TAB R83.3|TAB A1042`),
    ModecomTablet: new RegExp(`FreeTAB 9000|FreeTAB 7.4|FreeTAB 7004|FreeTAB 7800|FreeTAB 2096|FreeTAB 7.5|FreeTAB 1014|
        FreeTAB 1001 |FreeTAB 8001|FreeTAB 9706|FreeTAB 9702|FreeTAB 7003|FreeTAB 7002|FreeTAB 1002|FreeTAB 7801|
        FreeTAB 1331|FreeTAB 1004|FreeTAB 8002|FreeTAB 8014|FreeTAB 9704|FreeTAB 1003`),
    VoninoTablet: new RegExp(`\\b(Argus[ _]?S|Diamond[ _]?79HD|Emerald[ _]?78E|Luna[ _]?70C|Onyx[ _]?S|Onyx[ _]?Z|
        Orin[ _]?HD|Orin[ _]?S|Otis[ _]?S|SpeedStar[ _]?S|Magnet[ _]?M9|Primus[ _]?94[ _]?3G|Primus[ _]?94HD|
        Primus[ _]?QS|Android.*\\bQ8\\b|Sirius[ _]?EVO[ _]?QS|Sirius[ _]?QS|Spirit[ _]?S)\\b`),
    ECSTablet: /V07OT2|TM105A|S10OT1|TR10CS1/,
    StorexTablet: /eZee[_']?(Tab|Go)[0-9]+|TabLC7|Looney Tunes Tab/,
    VodafoneTablet: /SmartTab([ ]+)?[0-9]+|SmartTabII10|SmartTabII7|VF-1497/,
    EssentielBTablet: /Smart[ ']?TAB[ ]+?[0-9]+|Family[ ']?TAB2/,
    RossMoorTablet: /RM-790|RM-997|RMD-878G|RMD-974R|RMT-705A|RMT-701|RME-601|RMT-501|RMT-711/,
    iMobileTablet: /i-mobile i-note/,
    TolinoTablet: /tolino tab [0-9.]+|tolino shine/,
    AudioSonicTablet: /\bC-22Q|T7-QC|T-17B|T-17P\b/,
    AMPETablet: /Android.* A78 /,
    SkkTablet: /Android.* (SKYPAD|PHOENIX|CYCLOPS)/,
    TecnoTablet: /TECNO P9|TECNO DP8D/,
    JXDTablet: new RegExp(`Android.* \\b(F3000|A3300|JXD5000|JXD3000|JXD2000|JXD300B|JXD300|S5800|S7800|S602b|S5110b|S7300|
        S5300|S602|S603|S5100|S5110|S601|S7100a|P3000F|P3000s|P101|P200s|P1000m|P200m|P9100|P1000s|S6600b|S908|
        P1000|P300|S18|S6600|S9100)\\b`),
    iJoyTablet: new RegExp(`Tablet (Spirit 7|Essentia|Galatea|Fusion|Onix 7|Landa|Titan|Scooby|Deox|Stella|Themis|Argon|
        Unique 7|Sygnus|Hexen|Finity 7|Cream|Cream X2|Jade|Neon 7|Neron 7|Kandy|Scape|Saphyr 7|Rebel|Biox|Rebel|
        Rebel 8GB|Myst|Draco 7|Myst|Tab7-004|Myst|Tadeo Jones|Tablet Boing|Arrow|Draco Dual Cam|Aurix|Mint|Amity|
        Revolution|Finity 9|Neon 9|T9w|Amity 4GB Dual Cam|Stone 4GB|Stone 8GB|Andromeda|Silken|X2|Andromeda II|
        Halley|Flame|Saphyr 9,7|Touch 8|Planet|Triton|Unique 10|Hexen 10|Memphis 4GB|Memphis 8GB|Onix 10)`),
    FX2Tablet: /FX2 PAD7|FX2 PAD10/,
    XoroTablet: new RegExp(`KidsPAD 701|PAD[ ]?712|PAD[ ]?714|PAD[ ]?716|PAD[ ]?717|PAD[ ]?718|PAD[ ]?720|PAD[ ]?721|
        PAD[ ]?722|PAD[ ]?790|PAD[ ]?792|PAD[ ]?900|PAD[ ]?9715D|PAD[ ]?9716DR|PAD[ ]?9718DR|PAD[ ]?9719QR|
        PAD[ ]?9720QR|TelePAD1030|Telepad1032|TelePAD730|TelePAD731|TelePAD732|TelePAD735Q|TelePAD830|TelePAD9730|
        TelePAD795|MegaPAD 1331|MegaPAD 1851|MegaPAD 2151`),
    ViewsonicTablet: /ViewPad 10pi|ViewPad 10e|ViewPad 10s|ViewPad E72|ViewPad7|ViewPad E100|ViewPad 7e|ViewSonic VB733|VB100a/,
    VerizonTablet: /QTAQZ3|QTAIR7|QTAQTZ3|QTASUN1|QTASUN2|QTAXIA1/,
    OdysTablet: /LOOX|XENO10|ODYS[ -](Space|EVO|Xpress|NOON)|\bXELIO\b|Xelio10Pro|XELIO7PHONETAB|XELIO10EXTREME|XELIOPT2|NEO_QUAD10/,
    CaptivaTablet: /CAPTIVA PAD/,
    IconbitTablet: new RegExp(`NetTAB|NT-3702|NT-3702S|NT-3702S|NT-3603P|NT-3603P|NT-0704S|NT-0704S|NT-3805C|NT-3805C|
        NT-0806C|NT-0806C|NT-0909T|NT-0909T|NT-0907S|NT-0907S|NT-0902S|NT-0902S`),
    TeclastTablet: new RegExp(`T98 4G|\\bP80\\b|\\bX90HD\\b|X98 Air|X98 Air 3G|\\bX89\\b|P80 3G|\\bX80h\\b|P98 Air|
        \\bX89HD\\b|P98 3G|\\bP90HD\\b|P89 3G|X98 3G|\\bP70h\\b|P79HD 3G|G18d 3G|\\bP79HD\\b|\\bP89s\\b|\\bA88\\b|
        \\bP10HD\\b|\\bP19HD\\b|G18 3G|\\bP78HD\\b|\\bA78\\b|\\bP75\\b|G17s 3G|G17h 3G|\\bP85t\\b|\\bP90\\b|
        \\bP11\\b|\\bP98t\\b|\\bP98HD\\b|\\bG18d\\b|\\bP85s\\b|\\bP11HD\\b|\\bP88s\\b|\\bA80HD\\b|\\bA80se\\b|
        \\bA10h\\b|\\bP89\\b|\\bP78s\\b|\\bG18\\b|\\bP85\\b|\\bA70h\\b|\\bA70\\b|\\bG17\\b|\\bP18\\b|\\bA80s\\b|
        \\bA11s\\b|\\bP88HD\\b|\\bA80h\\b|\\bP76s\\b|\\bP76h\\b|\\bP98\\b|\\bA10HD\\b|\\bP78\\b|\\bP88\\b|\\bA11\\b|
        \\bA10t\\b|\\bP76a\\b|\\bP76t\\b|\\bP76e\\b|\\bP85HD\\b|\\bP85a\\b|\\bP86\\b|\\bP75HD\\b|\\bP76v\\b|\\bA12\\b|
        \\bP75a\\b|\\bA15\\b|\\bP76Ti\\b|\\bP81HD\\b|\\bA10\\b|\\bT760VE\\b|\\bT720HD\\b|\\bP76\\b|\\bP73\\b|\\bP71\\b|
        \\bP72\\b|\\bT720SE\\b|\\bC520Ti\\b|\\bT760\\b|\\bT720VE\\b|T720-3GE|T720-WiFi`),
    OndaTablet: new RegExp(`\\b(V975i|Vi30|VX530|V701|Vi60|V701s|Vi50|V801s|V719|Vx610w|VX610W|V819i|Vi10|VX580W|Vi10|
        V711s|V813|V811|V820w|V820|Vi20|V711|VI30W|V712|V891w|V972|V819w|V820w|Vi60|V820w|V711|V813s|V801|V819|
        V975s|V801|V819|V819|V818|V811|V712|V975m|V101w|V961w|V812|V818|V971|V971s|V919|V989|V116w|V102w|V973|
        Vi40)\\b[s]+|V10 \\b4G\\b`),
    JaytechTablet: /TPC-PA762/,
    BlaupunktTablet: /Endeavour 800NG|Endeavour 1010/,
    DigmaTablet: /\b(iDx10|iDx9|iDx8|iDx7|iDxD7|iDxD8|iDsQ8|iDsQ7|iDsQ8|iDsD10|iDnD7|3TS804H|iDsQ11|iDj7|iDs10)\b/,
    EvolioTablet: /ARIA_Mini_wifi|Aria[ _]Mini|Evolio X10|Evolio X7|Evolio X8|\bEvotab\b|\bNeura\b/,
    LavaTablet: /QPAD E704|\bIvoryS\b|E-TAB IVORY|\bE-TAB\b/,
    AocTablet: /MW0811|MW0812|MW0922|MTK8382|MW1031|MW0831|MW0821|MW0931|MW0712/,
    MpmanTablet: new RegExp(`MP11 OCTA|MP10 OCTA|MPQC1114|MPQC1004|MPQC994|MPQC974|MPQC973|MPQC804|MPQC784|MPQC780|
        \\bMPG7\\b|MPDCG75|MPDCG71|MPDC1006|MP101DC|MPDC9000|MPDC905|MPDC706HD|MPDC706|MPDC705|MPDC110|
        MPDC100|MPDC99|MPDC97|MPDC88|MPDC8|MPDC77|MP709|MID701|MID711|MID170|MPDC703|MPQC1010`),
    CelkonTablet: /CT695|CT888|CT[\s]?910|CT7 Tab|CT9 Tab|CT3 Tab|CT2 Tab|CT1 Tab|C820|C720|\bCT-1\b/,
    WolderTablet: new RegExp(`miTab \\b(DIAMOND|SPACE|BROOKLYN|NEO|FLY|MANHATTAN|FUNK|EVOLUTION|SKY|GOCAR|IRON|GENIUS|
        POP|MINT|EPSILON|BROADWAY|JUMP|HOP|LEGEND|NEW AGE|LINE|ADVANCE|FEEL|FOLLOW|LIKE|LINK|LIVE|THINK|
        FREEDOM|CHICAGO|CLEVELAND|BALTIMORE-GH|IOWA|BOSTON|SEATTLE|PHOENIX|DALLAS|IN 101|MasterChef)\\b`),
    MediacomTablet: "M-MPI10C3G|M-SP10EG|M-SP10EGP|M-SP10HXAH|M-SP7HXAH|M-SP10HXBH|M-SP8HXAH|M-SP8MXA",
    MiTablet: /\bMI PAD\b|\bHM NOTE 1W\b/,
    NibiruTablet: /Nibiru M1|Nibiru Jupiter One/,
    NexoTablet: /NEXO NOVA|NEXO 10|NEXO AVIO|NEXO FREE|NEXO GO|NEXO EVO|NEXO 3G|NEXO SMART|NEXO KIDDO|NEXO MOBI/,
    LeaderTablet: new RegExp(`TBLT10Q|TBLT10I|TBL-10WDKB|TBL-10WDKBO2013|TBL-W230V2|TBL-W450|TBL-W500|SV572|TBLT7I|
        TBA-AC7-8G|TBLT79|TBL-8W16|TBL-10W32|TBL-10WKB|TBL-W100`),
    UbislateTablet: /UbiSlate[\s]?7C/,
    PocketBookTablet: /Pocketbook/,
    KocasoTablet: /\b(TB-1207)\b/,
    HisenseTablet: /\b(F5281|E2371)\b/,
    Hudl: /Hudl HT7S3|Hudl 2/,
    TelstraTablet: /T-Hub2/,
    Honeywell: /RT10A/,
    GenericTablet: new RegExp(`Android.*\\b97D\\b|Tablet(?!.*PC)|BNTV250A|MID-WCDMA|LogicPD Zoom2|\\bA7EB\\b|CatNova8|
        A1_07|CT704|CT1002|\\bM721\\b|rk30sdk|\\bEVOTAB\\b|M758A|ET904|ALUMIUM10|Smartfren Tab|Endeavour 1010|
        Tablet-PC-4|Tagi Tab|\\bM6pro\\b|CT1020W|arc 10HD|\\bTP750\\b|\\bQTAQZ3\\b|WVT101|TM1088|KT107`)
}
  , Kc = {
    BLACKBERRY: "Blackberry",
    FIREFOX_OS: "Firefox-OS",
    CHROME_BOOK: "Chrome-Book",
    WINDOWS_PHONE: "Windows-Phone",
    VITA: "Vita",
    PS4: "PS4",
    MAC: "Macintosh",
    CHROMECAST: "Chromecast",
    APPLE_TV: "Apple-TV",
    GOOGLE_TV: "Google-TV",
    ANDROID: "Android",
    Tesla: "Tesla",
    iPad: "iPad",
    IPHONE: "iPhone",
    iPod: "iPod",
    UNKNOWN: oh.UKNOWN,
    HTC: "HTC",
    NEXUS_PHONE: "Nexus Phone",
    NexusTablet: "Nexus Tablet",
    DELL: "Dell",
    MOTOROLA: "Motorola",
    SAMSUNG: "Samsung",
    LG: "LG",
    SONY: "Sony",
    ASUS: "Asus",
    NOKIA_LUMIA: "Nokia Lumia",
    MICROMAX: "Micromax",
    PALM: "Palm",
    VERTU: "Vertu",
    PANTECH: "PANTECH",
    FLY: "Fly",
    WIKO: "WIKO",
    I_MOBILE: "i-mobile",
    SIMVALLEY: "Simvalley",
    WOLFGANG: "Wolfgang",
    ALCATEL: "Alcatel",
    HONEYWELL: "Honeywell",
    NINTENDO: "Nintendo",
    AMOI: "Amoi",
    INQ: "INQ",
    GENERIC_PHONE: "Generic Phone",
    MI_SE_9: "Mi SE 9"
}
  , jE = [Kc.PS4, Kc.CHROME_BOOK, Kc.MAC, Kc.DELL, Kc.ASUS, Kc.UNKNOWN]
  , Vq = {
    WINDOWS: "Windows",
    MAC: "Mac",
    IOS: "iOS",
    ANDROID: "Android",
    LINUX: "Linux",
    UNIX: "Unix",
    FIREFOX_OS: "Firefox-OS",
    CHROME_OS: "Chrome-OS",
    WINDOWS_PHONE: "Windows-Phone",
    UNKNOWN: oh.UKNOWN
}
  , Wq = {
    WINDOWS_3_11: "windows-3-11",
    WINDOWS_95: "windows-95",
    WINDOWS_ME: "windows-me",
    WINDOWS_98: "windows-98",
    WINDOWS_CE: "windows-ce",
    WINDOWS_2000: "windows-2000",
    WINDOWS_XP: "windows-xp",
    WINDOWS_SERVER_2003: "windows-server-2003",
    WINDOWS_VISTA: "windows-vista",
    WINDOWS_7: "windows-7",
    WINDOWS_8_1: "windows-8-1",
    WINDOWS_8: "windows-8",
    WINDOWS_10: "windows-10",
    WINDOWS_PHONE_7_5: "windows-phone-7-5",
    WINDOWS_PHONE_8_1: "windows-phone-8-1",
    WINDOWS_PHONE_10: "windows-phone-10",
    WINDOWS_NT_4_0: "windows-nt-4-0",
    MACOSX_11_0: "mac-os-x-11-0",
    MACOSX_16: "mac-os-x-16",
    MACOSX_15: "mac-os-x-15",
    MACOSX_14: "mac-os-x-14",
    MACOSX_13: "mac-os-x-13",
    MACOSX_12: "mac-os-x-12",
    MACOSX_11: "mac-os-x-11",
    MACOSX_10: "mac-os-x-10",
    MACOSX_9: "mac-os-x-9",
    MACOSX_8: "mac-os-x-8",
    MACOSX_7: "mac-os-x-7",
    MACOSX_6: "mac-os-x-6",
    MACOSX_5: "mac-os-x-5",
    MACOSX_4: "mac-os-x-4",
    MACOSX_3: "mac-os-x-3",
    MACOSX_2: "mac-os-x-2",
    MACOSX: "mac-os-x",
    iOS: "iOS",
    ANDROID_9: "android-9",
    UNKNOWN: oh.UKNOWN.toLowerCase()
}
  , qE = {
    WINDOWS: {
        and: [{
            or: [/\bWindows|(Win\d\d)\b/, /\bWin 9x\b/]
        }, {
            not: /\bWindows Phone\b/
        }]
    },
    MAC: {
        and: [/\bMac OS\b/, {
            not: {
                or: [/\biPhone\b/, /\biPad\b/, /\biPod\b/, /\bWindows Phone\b/]
            }
        }]
    },
    IOS: {
        and: [{
            or: [/\biPad\b/, /\biPhone\b/, /\biPod\b/]
        }, {
            not: /\bWindows Phone\b/
        }]
    },
    ANDROID: {
        and: [/\bAndroid\b/, {
            not: /\bWindows Phone\b/
        }]
    },
    LINUX: /\bLinux\b/,
    UNIX: /\bUNIX\b/,
    FIREFOX_OS: {
        and: [/\bFirefox\b/, /Mobile\b/]
    },
    CHROME_OS: /\bCrOS\b/,
    WINDOWS_PHONE: {
        or: [/\bIEMobile\b/, /\bWindows Phone\b/]
    },
    PS4: /\bMozilla\/5.0 \(PlayStation 4\b/,
    VITA: /\bMozilla\/5.0 \(Play(S|s)tation Vita\b/
}
  , $q = {
    CHROME: {
        and: [{
            or: [/\bChrome\b/, /\bCriOS\b/, /\bHeadlessChrome\b/]
        }, {
            not: {
                or: [/\bOPR\b/, /\bEdg(e|A|iOS)\b/, /\bEdg\/\b/, /\bSamsungBrowser\b/, /\bUCBrowser\b/]
            }
        }]
    },
    FIREFOX: {
        or: [/\bFirefox\b/, /\bFxiOS\b/]
    },
    SAFARI: {
        and: [/^((?!CriOS).)*\Safari\b.*$/, {
            not: {
                or: [/\bOPR\b/, /\bEdg(e|A|iOS)\b/, /\bEdg\/\b/, /\bWindows Phone\b/, /\bSamsungBrowser\b/, /\bUCBrowser\b/]
            }
        }]
    },
    OPERA: {
        or: [/Opera\b/, /\bOPR\b/]
    },
    IE: {
        or: [/\bMSIE\b/, /\bTrident\b/, /^Mozilla\/5\.0 \(Windows NT 10\.0; Win64; x64\)$/]
    },
    MS_EDGE: {
        or: [/\bEdg(e|A|iOS)\b/]
    },
    MS_EDGE_CHROMIUM: /\bEdg\/\b/,
    PS4: /\bMozilla\/5.0 \(PlayStation 4\b/,
    VITA: /\bMozilla\/5.0 \(Play(S|s)tation Vita\b/,
    FB_MESSANGER: /\bFBAN\/MessengerForiOS\b/,
    SAMSUNG: /\bSamsungBrowser\b/,
    UCBROWSER: /\bUCBrowser\b/
}
  , jq = ve(C(C(C({}, R2), sh), qE), {
    FIREFOX_OS: {
        and: [/\bFirefox\b/, /\bMobile\b/]
    },
    CHROME_BOOK: /\bCrOS\b/,
    PS4: /\bMozilla\/5.0 \(PlayStation 4\b/,
    CHROMECAST: /\bCrKey\b/,
    APPLE_TV: /^iTunes-AppleTV\/4.1$/,
    GOOGLE_TV: /\bGoogleTV\b/,
    Tesla: /Tesla\/([0-9]{4}.[0-9]{1,2}.?[0-9]{0,2}.?[0-9]{0,2})-(.{7})/,
    MI_SE_9: /\bXiaomi\b/,
    MAC: {
        and: [/\bMac OS\b/, {
            not: {
                or: [/\biPhone\b/, /\biPad\b/, /\biPod\b/, /\bWindows Phone\b/]
            }
        }]
    }
})
  , C9 = {
    WINDOWS_3_11: /Win16/,
    WINDOWS_95: /(Windows 95|Win95|Windows_95)/,
    WINDOWS_ME: /(Win 9x 4.90|Windows ME)/,
    WINDOWS_98: /(Windows 98|Win98)/,
    WINDOWS_CE: /Windows CE/,
    WINDOWS_2000: /(Windows NT 5.0|Windows 2000)/,
    WINDOWS_XP: /(Windows NT 5.1|Windows XP)/,
    WINDOWS_SERVER_2003: /Windows NT 5.2/,
    WINDOWS_VISTA: /Windows NT 6.0/,
    WINDOWS_7: /(Windows 7|Windows NT 6.1)/,
    WINDOWS_8_1: /(Windows 8.1|Windows NT 6.3)/,
    WINDOWS_8: /(Windows 8|Windows NT 6.2)/,
    WINDOWS_10: /(Windows NT 10.0)/,
    WINDOWS_PHONE_7_5: /(Windows Phone OS 7.5)/,
    WINDOWS_PHONE_8_1: /(Windows Phone 8.1)/,
    WINDOWS_PHONE_10: /(Windows Phone 10)/,
    WINDOWS_NT_4_0: {
        and: [/(Windows NT 4.0|WinNT4.0|WinNT|Windows NT)/, {
            not: /Windows NT 10.0/
        }]
    },
    MACOSX: /(MAC OS X\s*[^ 0-9])/,
    MACOSX_3: /(Darwin 10.3|Mac OS X 10.3)/,
    MACOSX_4: /(Darwin 10.4|Mac OS X 10.4)/,
    MACOSX_5: /(Mac OS X 10.5)/,
    MACOSX_6: /(Mac OS X 10.6)/,
    MACOSX_7: /(Mac OS X 10.7)/,
    MACOSX_8: /(Mac OS X 10.8)/,
    MACOSX_9: /(Mac OS X 10.9)/,
    MACOSX_10: /(Mac OS X 10.10)/,
    MACOSX_11: /(Mac OS X 10.11)/,
    MACOSX_12: /(Mac OS X 10.12)/,
    MACOSX_13: /(Mac OS X 10.13)/,
    MACOSX_14: /(Mac OS X 10.14)/,
    MACOSX_15: /(Mac OS X 10.15)/,
    MACOSX_16: /(Mac OS X 10.16)/,
    MACOSX_11_0: {
        or: [/11_0 like Mac OS X/, /Mac OS X 11/]
    },
    iOS: /(iPhone OS\s*[0-9_]+)/,
    ANDROID_9: /(Android 9)/
}
  , E9 = {
    CHROME: [/\bChrome\/([\d\.]+)\b/, /\bCriOS\/([\d\.]+)\b/, /\bHeadlessChrome\/([\d\.]+)\b/],
    FIREFOX: [/\bFirefox\/([\d\.]+)\b/, /\bFxiOS\/([\d\.]+)\b/],
    SAFARI: [/\bVersion\/([\d\.]+)\b/, /\bSafari\/([\d\.]+)\b/],
    OPERA: [/\bVersion\/([\d\.]+)\b/, /\bOPR\/([\d\.]+)\b/],
    IE: [/\bMSIE ([\d\.]+\w?)\b/, /\brv:([\d\.]+\w?)\b/],
    MS_EDGE: /\bEdg(?:e|A|iOS)\/([\d\.]+)\b/,
    MS_EDGE_CHROMIUM: /\bEdg\/([\d\.]+)\b/,
    SAMSUNG: /\bSamsungBrowser\/([\d\.]+)\b/,
    UCBROWSER: /\bUCBrowser\/([\d\.]+)\b/
}
  , qq = Object.keys(C9).reduce( (e, t) => (e[t] = C9[t],
e), {})
  , zE = Object.keys(E9).reduce( (e, t) => (e[P9[t]] = E9[t],
e), {})
  , ea = Object.freeze({
    __proto__: null,
    BROWSERS: P9,
    BROWSERS_RE: $q,
    BROWSER_VERSIONS_RE: zE,
    BROWSER_VERSIONS_RE_MAP: E9,
    DESKTOP_DEVICES: jE,
    DEVICES: Kc,
    DEVICES_RE: jq,
    GENERAL: oh,
    MOBILES_RE: R2,
    OS: Vq,
    OS_RE: qE,
    OS_VERSIONS: Wq,
    OS_VERSIONS_RE: qq,
    OS_VERSIONS_RE_MAP: C9,
    TABLETS_RE: sh
})
  , T9 = class {
    constructor() {}
    test(t, n) {
        return typeof n == "string" && (n = new RegExp(n)),
        n instanceof RegExp ? n.test(t) : n && Array.isArray(n.and) ? n.and.every(i => this.test(t, i)) : n && Array.isArray(n.or) ? n.or.some(i => this.test(t, i)) : n && n.not ? !this.test(t, n.not) : !1
    }
    exec(t, n) {
        return typeof n == "string" && (n = new RegExp(n)),
        n instanceof RegExp ? n.exec(t) : n && Array.isArray(n) ? n.reduce( (i, r) => i || this.exec(t, r), null) : null
    }
}
  , U1 = function(e) {
    return e.Mobile = "mobile",
    e.Tablet = "tablet",
    e.Desktop = "desktop",
    e.Unknown = "unknown",
    e
}(U1 || {})
  , O9 = function(e) {
    return e.Portrait = "portrait",
    e.Landscape = "landscape",
    e
}(O9 || {})
  , w9 = "iPad"
  , D2 = ( () => {
    let t = class t {
        constructor(i) {
            this.platformId = i,
            this.ua = "",
            this.userAgent = "",
            this.os = "",
            this.browser = "",
            this.device = "",
            this.os_version = "",
            this.browser_version = "",
            this.reTree = new T9,
            this.deviceType = "",
            this.orientation = "",
            pc(this.platformId) && typeof window < "u" && (this.userAgent = window.navigator.userAgent),
            this.setDeviceInfo(this.userAgent)
        }
        setDeviceInfo(i=this.userAgent) {
            i !== this.userAgent && (this.userAgent = i);
            let r = [{
                const: "OS",
                prop: "os"
            }, {
                const: "BROWSERS",
                prop: "browser"
            }, {
                const: "DEVICES",
                prop: "device"
            }, {
                const: "OS_VERSIONS",
                prop: "os_version"
            }];
            if (r.forEach(s => {
                this[s.prop] = Object.keys(ea[s.const]).reduce( (o, a) => ea[s.const][a] === "device" && pc(this.platformId) && (this.reTree.test(this.userAgent, sh[w9]) || navigator.platform === "MacIntel" && navigator.maxTouchPoints > 1) ? (o[ea[s.const][a]] = w9,
                Object) : (o[ea[s.const][a]] = this.reTree.test(i, ea[`${s.const}_RE`][a]),
                o), {})
            }
            ),
            r.forEach(s => {
                this[s.prop] = Object.keys(ea[s.const]).map(o => ea[s.const][o]).reduce( (o, a) => s.prop === "device" && o === ea[s.const].ANDROID ? this[s.prop][a] ? a : o : o === ea[s.const].UNKNOWN && this[s.prop][a] ? a : o, ea[s.const].UNKNOWN)
            }
            ),
            this.browser_version = "0",
            this.browser !== P9.UNKNOWN) {
                let s = zE[this.browser]
                  , o = this.reTree.exec(i, s);
                o && (this.browser_version = o[1])
            }
            typeof window < "u" && window.matchMedia ? this.orientation = window.matchMedia("(orientation: landscape)").matches ? O9.Landscape : O9.Portrait : this.orientation = oh.UKNOWN,
            this.deviceType = this.isTablet() ? U1.Tablet : this.isMobile(this.userAgent) ? U1.Mobile : this.isDesktop(this.userAgent) ? U1.Desktop : U1.Unknown
        }
        getDeviceInfo() {
            return {
                userAgent: this.userAgent,
                os: this.os,
                browser: this.browser,
                device: this.device,
                os_version: this.os_version,
                browser_version: this.browser_version,
                deviceType: this.deviceType,
                orientation: this.orientation
            }
        }
        isMobile(i=this.userAgent) {
            return this.isTablet(i) ? !1 : !!Object.keys(R2).find(s => this.reTree.test(i, R2[s]))
        }
        isTablet(i=this.userAgent) {
            return pc(this.platformId) && (this.reTree.test(this.userAgent, sh[w9]) || typeof navigator < "u" && navigator.platform === "MacIntel" && navigator.maxTouchPoints > 1) ? !0 : !!Object.keys(sh).find(s => !!this.reTree.test(i, sh[s]))
        }
        isDesktop(i=this.userAgent) {
            return this.device === Kc.UNKNOWN && (this.isMobile(i) || this.isTablet(i)) ? !1 : jE.indexOf(this.device) > -1
        }
    }
    ;
    t.\u0275fac = function(r) {
        return new (r || t)(xe(zs))
    }
    ,
    t.\u0275prov = re({
        token: t,
        factory: t.\u0275fac,
        providedIn: "root"
    });
    let e = t;
    return e
}
)();
var XE = ( () => {
    let t = class t {
        setDimensions(i, r) {
            this.width = i,
            this.height = r
        }
    }
    ;
    t.\u0275fac = function(r) {
        return new (r || t)
    }
    ,
    t.\u0275prov = re({
        token: t,
        factory: t.\u0275fac,
        providedIn: "root"
    });
    let e = t;
    return e
}
)();
var hr = ( () => {
    let t = class t extends gn {
        get url() {
            return `${this.mtsPath + this.apiUrls.easy}UserDevice`
        }
        constructor() {
            super(),
            this.dimensionsService = z(XE),
            this.deviceService = z(D2),
            this.isIOSSub = new Ne(void 0),
            this.isIOSObs$ = this.isIOSSub.asObservable().pipe(mt(i => i !== void 0)),
            this.UserDeviceInfoSubject = new Ne(null),
            this.UserDeviceInfo$ = this.UserDeviceInfoSubject.asObservable(),
            this.deviceTypeSub = new Ne(yn.Unknown),
            this.deviceType$ = this.deviceTypeSub.asObservable(),
            this.getDeviceMenuRoot = () => `${this.deviceType == yn.Mobile ? "/" + gg.MENU_ROUTE : ""}`,
            this.setKeyboardTiming(),
            this.isIOSSub.next(/iOS/.test(this.deviceService.os))
        }
        get browser() {
            return this.deviceService.browser.toLowerCase()
        }
        get browserVersion() {
            return this.deviceService.browser_version.toLowerCase().split(".")?.[0] + "." + (this.deviceService.browser_version.toLowerCase().split(".")?.[1] ?? 0)
        }
        get userDeviceInfo() {
            return this.deviceService
        }
        isValidBrowserVersion(i) {
            if (i !== yn.Unknown) {
                for (let r of yg.keys())
                    if (this.browser.includes(r) || r.includes(this.browser))
                        return yg.get(r).isValid(i === yn.Mobile, this.browserVersion)
            }
            return !0
        }
        get isAppropriateBrowserForAndroid() {
            return this.deviceService.browser.toLowerCase() === "chrome"
        }
        get userDevice() {
            return /Android/i.test(this.deviceService?.os) ? Jf : /iOS/.test(this.deviceService?.os) ? vg : zb
        }
        get isiOS() {
            return this.userDevice === vg
        }
        get isAndroid() {
            return this.userDevice === Jf
        }
        get isiOS_13_Or_Above() {
            return this.isiOS && /OS 13|OS 14|OS 15|OS 16|OS 17|OS 18|OS 19|OS 20/.test(this.deviceService.userAgent)
        }
        get is_iOS_Older_Version() {
            let i = navigator.userAgent || navigator.vendor;
            return this.isiOS && /OS 10|OS 11|OS 12|OS 13|OS 14/.test(i)
        }
        setKeyboardTiming() {
            this.userDevice === Jf ? (this.delayToActiveKeyboardAfterOpening = Id.delayToActiveAfterOpen,
            this.delayToRemoveKeyboardAfterClosing = Id.delayToRemoveAfterClose) : (this.delayToActiveKeyboardAfterOpening = Id.delayToActiveAfterOpen,
            this.delayToRemoveKeyboardAfterClosing = Id.delayToRemoveAfterClose)
        }
        sendUserDeviceInfo() {
            let i = {
                appBuildNo: this.environment.build,
                width: this.dimensionsService.width,
                height: this.dimensionsService.height,
                devicePlatform: this.userDevice ?? "Mobile",
                platformInfo: this.deviceService.userAgent
            };
            this.UserDeviceInfoSubject.next(i)
        }
        sendUserDesktopDeviceInfo() {
            let i = {
                appBuildNo: this.environment.build,
                width: this.dimensionsService.width,
                height: this.dimensionsService.height,
                devicePlatform: Xb,
                platformInfo: this.deviceService.userAgent
            };
            this.UserDeviceInfoSubject.next(i)
        }
        setUserDevice(i) {
            this.deviceType = i,
            this.deviceTypeSub.next(i)
        }
        checkInfrastructure() {
            this.environment.env === Yt.PROD && (this.httpService.get("https://api-mts.orbis.easytrader.ir/orbis/perf").subscribe(),
            this.httpService.get("https://api-mts.orbis.easytrader.ir/orbis/perfWAF").subscribe(),
            this.httpService.get("https://api-mts.orbis.easytrader.ir/health").subscribe(),
            this.httpService.get("https://api-mts.orbis.easytrader.ir/easy").subscribe())
        }
    }
    ;
    t.\u0275fac = function(r) {
        return new (r || t)
    }
    ,
    t.\u0275prov = re({
        token: t,
        factory: t.\u0275fac,
        providedIn: "root"
    });
    let e = t;
    return e
}
)();
var mo = ( () => {
    let t = class t extends gn {
        constructor() {
            super(...arguments),
            this.userAccountInfo = new Ne(null),
            this.userAccountInfo$ = this.userAccountInfo.asObservable(),
            this.accountActivitySeenSub = new Ne(!0),
            this.accountActivitySeen$ = this.accountActivitySeenSub.asObservable(),
            this.userDeviceService = z(hr),
            this.userService = z(Wr),
            this.deviceDetectorService = z(D2)
        }
        get deviceType() {
            return this.userDeviceService.deviceType
        }
        get customerIsin() {
            return this.userAccountInfo.value?.customerIsin
        }
        removeSession(i) {
            return this.httpService.post(`${this.mtsPath + this.apiUrls.easy}account/remove-sessions`, {
                body: {
                    ids: i
                }
            })
        }
        setUserAccountInfo(i) {
            this.userService.isGuestUser ? this.userAccountInfo.next({
                customerTitle: "\u06A9\u0627\u0631\u0628\u0631 \u0645\u06CC\u0647\u0645\u0627\u0646"
            }) : i && this.userAccountInfo.next({
                customerTitle: i?.display_name ?? "",
                customerIsin: i?.customer_isin ?? "",
                email: i?.email ?? "",
                nationalId: i?.national_id ?? "",
                phoneNumber: i?.phone_number ?? "",
                firstName: i?.firstname ?? "",
                lastName: i?.lastname ?? "",
                bourseCode: i?.bourse_code ?? null,
                userFullName: i?.display_name ?? "",
                pk: i?.pk ?? "",
                loginDate: new Date
            })
        }
        getUserAccountActivities() {
            return this.httpService.get(`${this.mtsPath + this.apiUrls.easy}UserActivity/user-activity`).pipe($e(i => i.map(r => (this.deviceDetectorService.setDeviceInfo(r.userAgent),
            r.deviceType = this.deviceDetectorService.isMobile() ? yn.Mobile : yn.Desktop,
            r.isExpired = !r.logoutDate && new Date(Date.now()) > new Date(r.expiryDate),
            r.deviceInfo = this.deviceDetectorService.getDeviceInfo(),
            r))), on( () => Be([])))
        }
        getUserInfo() {
            this.userAccountInfo?.value?.bourseCode || this.httpService.get(`${this.mtsPath + this.apiUrls.easy}account/user-info`).pipe(Ge(i => {
                this.userAccountInfo.next(ve(C({}, this.userAccountInfo.value), {
                    bourseCode: i.bourseCode
                }))
            }
            )).subscribe()
        }
        accountActivitySeen(i) {
            this.accountActivitySeenSub.next(i)
        }
        isIndUser(i) {
            return i.endsWith("1129")
        }
    }
    ;
    t.\u0275fac = ( () => {
        let i;
        return function(s) {
            return (i || (i = On(t)))(s || t)
        }
    }
    )(),
    t.\u0275prov = re({
        token: t,
        factory: t.\u0275fac,
        providedIn: "root"
    });
    let e = t;
    return e
}
)();
var YE = ( () => {
    let t = class t extends gn {
        constructor() {
            super(),
            this.accountService = z(mo),
            this.unleashReady = new Ne(null),
            this.unleashReady$ = this.unleashReady.asObservable(),
            this.unleash = new $E({
                url: this.environment.unleash.url,
                appName: this.environment.unleash.appName,
                clientKey: this.environment.unleash.server,
                refreshInterval: this.environment.unleash.refreshInterval,
                environment: this.environment.unleash.environment
            }),
            this.setUnleashStatus()
        }
        init() {
            this.accountService.userAccountInfo$.pipe(mt(i => !!i?.customerIsin), Lt(1)).subscribe(i => {
                this.unleash.setContextField("userId", i.customerIsin),
                this.unleash.start()
            }
            )
        }
        isFeatureEnabled$(i) {
            return this.unleashReady$.pipe($e(r => {
                if (r === !0)
                    return this.unleash.isEnabled(i);
                if (r === !1)
                    return !1
            }
            ), mt(r => [!1, !0].includes(r)))
        }
        isFeatureEnabledStartsWithServerResponse$(i) {
            return this.unleashReady$.pipe(mt(r => r === !0), $e(r => this.unleash.isEnabled(i)), mt(r => typeof r == "boolean"))
        }
        isFeatureEnabled(i) {
            return wi(this.isFeatureEnabled$(i))
        }
        setUnleashStatus() {
            this.unleash.on("update", () => {
                this.unleashReady.next(!0)
            }
            ),
            this.unleash.on("error", () => {
                this.unleashReady.next(!1)
            }
            )
        }
    }
    ;
    t.\u0275fac = function(r) {
        return new (r || t)
    }
    ,
    t.\u0275prov = re({
        token: t,
        factory: t.\u0275fac,
        providedIn: "root"
    });
    let e = t;
    return e
}
)();
var _0 = class extends Error {
}
;
_0.prototype.name = "InvalidTokenError";
function Xq(e) {
    return decodeURIComponent(atob(e).replace(/(.)/g, (t, n) => {
        let i = n.charCodeAt(0).toString(16).toUpperCase();
        return i.length < 2 && (i = "0" + i),
        "%" + i
    }
    ))
}
function Kq(e) {
    let t = e.replace(/-/g, "+").replace(/_/g, "/");
    switch (t.length % 4) {
    case 0:
        break;
    case 2:
        t += "==";
        break;
    case 3:
        t += "=";
        break;
    default:
        throw new Error("base64 string is not of the correct length")
    }
    try {
        return Xq(t)
    } catch {
        return atob(t)
    }
}
function N2(e, t) {
    if (typeof e != "string")
        throw new _0("Invalid token specified: must be a string");
    t || (t = {});
    let n = t.header === !0 ? 0 : 1
      , i = e.split(".")[n];
    if (typeof i != "string")
        throw new _0(`Invalid token specified: missing part #${n + 1}`);
    let r;
    try {
        r = Kq(i)
    } catch (s) {
        throw new _0(`Invalid token specified: invalid base64 for part #${n + 1} (${s.message})`)
    }
    try {
        return JSON.parse(r)
    } catch (s) {
        throw new _0(`Invalid token specified: invalid json for part #${n + 1} (${s.message})`)
    }
}
var Yq = {
    debug: () => {}
    ,
    info: () => {}
    ,
    warn: () => {}
    ,
    error: () => {}
}, ia, ra, L2 = (e => (e[e.NONE = 0] = "NONE",
e[e.ERROR = 1] = "ERROR",
e[e.WARN = 2] = "WARN",
e[e.INFO = 3] = "INFO",
e[e.DEBUG = 4] = "DEBUG",
e))(L2 || {});
(e => {
    function t() {
        ia = 3,
        ra = Yq
    }
    e.reset = t;
    function n(r) {
        if (!(0 <= r && r <= 4))
            throw new Error("Invalid log level");
        ia = r
    }
    e.setLevel = n;
    function i(r) {
        ra = r
    }
    e.setLogger = i
}
)(L2 || (L2 = {}));
var Ht = class ta {
    constructor(t) {
        this._name = t
    }
    debug(...t) {
        ia >= 4 && ra.debug(ta._format(this._name, this._method), ...t)
    }
    info(...t) {
        ia >= 3 && ra.info(ta._format(this._name, this._method), ...t)
    }
    warn(...t) {
        ia >= 2 && ra.warn(ta._format(this._name, this._method), ...t)
    }
    error(...t) {
        ia >= 1 && ra.error(ta._format(this._name, this._method), ...t)
    }
    throw(t) {
        throw this.error(t),
        t
    }
    create(t) {
        let n = Object.create(this);
        return n._method = t,
        n.debug("begin"),
        n
    }
    static createStatic(t, n) {
        let i = new ta(`${t}.${n}`);
        return i.debug("begin"),
        i
    }
    static _format(t, n) {
        let i = `[${t}]`;
        return n ? `${i} ${n}:` : i
    }
    static debug(t, ...n) {
        ia >= 4 && ra.debug(ta._format(t), ...n)
    }
    static info(t, ...n) {
        ia >= 3 && ra.info(ta._format(t), ...n)
    }
    static warn(t, ...n) {
        ia >= 2 && ra.warn(ta._format(t), ...n)
    }
    static error(t, ...n) {
        ia >= 1 && ra.error(ta._format(t), ...n)
    }
}
;
L2.reset();
var B2 = class {
    static decode(e) {
        try {
            return N2(e)
        } catch (t) {
            throw Ht.error("JwtUtils.decode", t),
            t
        }
    }
    static generateSignedJwt(e, t, n) {
        return ue(this, null, function*() {
            let i = Zr.encodeBase64Url(new TextEncoder().encode(JSON.stringify(e)))
              , r = Zr.encodeBase64Url(new TextEncoder().encode(JSON.stringify(t)))
              , s = `${i}.${r}`
              , o = yield window.crypto.subtle.sign({
                name: "ECDSA",
                hash: {
                    name: "SHA-256"
                }
            }, n, new TextEncoder().encode(s))
              , a = Zr.encodeBase64Url(new Uint8Array(o));
            return `${s}.${a}`
        })
    }
}
  , Qq = "10000000-1000-4000-8000-100000000000"
  , M9 = e => btoa([...new Uint8Array(e)].map(t => String.fromCharCode(t)).join(""))
  , Jq = ( () => {
    let e = class na {
        static _randomWord() {
            let n = new Uint32Array(1);
            return crypto.getRandomValues(n),
            n[0]
        }
        static generateUUIDv4() {
            return Qq.replace(/[018]/g, i => (+i ^ na._randomWord() & 15 >> +i / 4).toString(16)).replace(/-/g, "")
        }
        static generateCodeVerifier() {
            return na.generateUUIDv4() + na.generateUUIDv4() + na.generateUUIDv4()
        }
        static generateCodeChallenge(n) {
            return ue(this, null, function*() {
                if (!crypto.subtle)
                    throw new Error("Crypto.subtle is available only in secure contexts (HTTPS).");
                try {
                    let r = new TextEncoder().encode(n)
                      , s = yield crypto.subtle.digest("SHA-256", r);
                    return M9(s).replace(/\+/g, "-").replace(/\//g, "_").replace(/=+$/, "")
                } catch (i) {
                    throw Ht.error("CryptoUtils.generateCodeChallenge", i),
                    i
                }
            })
        }
        static generateBasicAuth(n, i) {
            let s = new TextEncoder().encode([n, i].join(":"));
            return M9(s)
        }
        static hash(n, i) {
            return ue(this, null, function*() {
                let r = new TextEncoder().encode(i)
                  , s = yield crypto.subtle.digest(n, r);
                return new Uint8Array(s)
            })
        }
        static customCalculateJwkThumbprint(n) {
            return ue(this, null, function*() {
                let i;
                switch (n.kty) {
                case "RSA":
                    i = {
                        e: n.e,
                        kty: n.kty,
                        n: n.n
                    };
                    break;
                case "EC":
                    i = {
                        crv: n.crv,
                        kty: n.kty,
                        x: n.x,
                        y: n.y
                    };
                    break;
                case "OKP":
                    i = {
                        crv: n.crv,
                        kty: n.kty,
                        x: n.x
                    };
                    break;
                case "oct":
                    i = {
                        crv: n.k,
                        kty: n.kty
                    };
                    break;
                default:
                    throw new Error("Unknown jwk type")
                }
                let r = yield na.hash("SHA-256", JSON.stringify(i));
                return na.encodeBase64Url(r)
            })
        }
        static generateDPoPProof(a) {
            return ue(this, arguments, function*({url: n, accessToken: i, httpMethod: r, keyPair: s, nonce: o}) {
                let c, l, u = {
                    jti: window.crypto.randomUUID(),
                    htm: r ?? "GET",
                    htu: n,
                    iat: Math.floor(Date.now() / 1e3)
                };
                i && (c = yield na.hash("SHA-256", i),
                l = na.encodeBase64Url(c),
                u.ath = l),
                o && (u.nonce = o);
                try {
                    let h = yield crypto.subtle.exportKey("jwk", s.publicKey)
                      , d = {
                        alg: "ES256",
                        typ: "dpop+jwt",
                        jwk: {
                            crv: h.crv,
                            kty: h.kty,
                            x: h.x,
                            y: h.y
                        }
                    };
                    return yield B2.generateSignedJwt(d, u, s.privateKey)
                } catch (h) {
                    throw h instanceof TypeError ? new Error(`Error exporting dpop public key: ${h.message}`) : h
                }
            })
        }
        static generateDPoPJkt(n) {
            return ue(this, null, function*() {
                try {
                    let i = yield crypto.subtle.exportKey("jwk", n.publicKey);
                    return yield na.customCalculateJwkThumbprint(i)
                } catch (i) {
                    throw i instanceof TypeError ? new Error(`Could not retrieve dpop keys from storage: ${i.message}`) : i
                }
            })
        }
        static generateDPoPKeys() {
            return ue(this, null, function*() {
                return yield window.crypto.subtle.generateKey({
                    name: "ECDSA",
                    namedCurve: "P-256"
                }, !1, ["sign", "verify"])
            })
        }
    }
    ;
    return e.encodeBase64Url = t => M9(t).replace(/=/g, "").replace(/\+/g, "-").replace(/\//g, "_"),
    e
}
)()
  , Zr = Jq
  , Yc = class {
    constructor(e) {
        this._name = e,
        this._callbacks = [],
        this._logger = new Ht(`Event('${this._name}')`)
    }
    addHandler(e) {
        return this._callbacks.push(e),
        () => this.removeHandler(e)
    }
    removeHandler(e) {
        let t = this._callbacks.lastIndexOf(e);
        t >= 0 && this._callbacks.splice(t, 1)
    }
    raise(...e) {
        return ue(this, null, function*() {
            this._logger.debug("raise:", ...e);
            for (let t of this._callbacks)
                yield t(...e)
        })
    }
}
  , QE = class {
    static center(t) {
        var e = tr(t, []);
        var n, i, r;
        return e.width == null && (e.width = (n = [800, 720, 600, 480].find(s => s <= window.outerWidth / 1.618)) != null ? n : 360),
        (i = e.left) != null || (e.left = Math.max(0, Math.round(window.screenX + (window.outerWidth - e.width) / 2))),
        e.height != null && ((r = e.top) != null || (e.top = Math.max(0, Math.round(window.screenY + (window.outerHeight - e.height) / 2)))),
        e
    }
    static serialize(e) {
        return Object.entries(e).filter( ([,t]) => t != null).map( ([t,n]) => `${t}=${typeof n != "boolean" ? n : n ? "yes" : "no"}`).join(",")
    }
}
  , qa = class F2 extends Yc {
    constructor() {
        super(...arguments),
        this._logger = new Ht(`Timer('${this._name}')`),
        this._timerHandle = null,
        this._expiration = 0,
        this._callback = () => {
            let t = this._expiration - F2.getEpochTime();
            this._logger.debug("timer completes in", t),
            this._expiration <= F2.getEpochTime() && (this.cancel(),
            super.raise())
        }
    }
    static getEpochTime() {
        return Math.floor(Date.now() / 1e3)
    }
    init(t) {
        let n = this._logger.create("init");
        t = Math.max(Math.floor(t), 1);
        let i = F2.getEpochTime() + t;
        if (this.expiration === i && this._timerHandle) {
            n.debug("skipping since already initialized for expiration at", this.expiration);
            return
        }
        this.cancel(),
        n.debug("using duration", t),
        this._expiration = i;
        let r = Math.min(t, 5);
        this._timerHandle = setInterval(this._callback, r * 1e3)
    }
    get expiration() {
        return this._expiration
    }
    cancel() {
        this._logger.create("cancel"),
        this._timerHandle && (clearInterval(this._timerHandle),
        this._timerHandle = null)
    }
}
  , I9 = class {
    static readParams(e, t="query") {
        if (!e)
            throw new TypeError("Invalid URL");
        let i = new URL(e,"http://127.0.0.1")[t === "fragment" ? "hash" : "search"];
        return new URLSearchParams(i.slice(1))
    }
}
  , R9 = ";"
  , y0 = class extends Error {
    constructor(e, t) {
        var n, i, r;
        if (super(e.error_description || e.error || ""),
        this.form = t,
        this.name = "ErrorResponse",
        !e.error)
            throw Ht.error("ErrorResponse", "No error passed"),
            new Error("No error passed");
        this.error = e.error,
        this.error_description = (n = e.error_description) != null ? n : null,
        this.error_uri = (i = e.error_uri) != null ? i : null,
        this.state = e.userState,
        this.session_state = (r = e.session_state) != null ? r : null,
        this.url_state = e.url_state
    }
}
  , U9 = class extends Error {
    constructor(e) {
        super(e),
        this.name = "ErrorTimeout"
    }
}
  , Zq = class {
    constructor(e) {
        this._logger = new Ht("AccessTokenEvents"),
        this._expiringTimer = new qa("Access token expiring"),
        this._expiredTimer = new qa("Access token expired"),
        this._expiringNotificationTimeInSeconds = e.expiringNotificationTimeInSeconds
    }
    load(e) {
        let t = this._logger.create("load");
        if (e.access_token && e.expires_in !== void 0) {
            let n = e.expires_in;
            if (t.debug("access token present, remaining duration:", n),
            n > 0) {
                let r = n - this._expiringNotificationTimeInSeconds;
                r <= 0 && (r = 1),
                t.debug("registering expiring timer, raising in", r, "seconds"),
                this._expiringTimer.init(r)
            } else
                t.debug("canceling existing expiring timer because we're past expiration."),
                this._expiringTimer.cancel();
            let i = n + 1;
            t.debug("registering expired timer, raising in", i, "seconds"),
            this._expiredTimer.init(i)
        } else
            this._expiringTimer.cancel(),
            this._expiredTimer.cancel()
    }
    unload() {
        this._logger.debug("unload: canceling existing access token timers"),
        this._expiringTimer.cancel(),
        this._expiredTimer.cancel()
    }
    addAccessTokenExpiring(e) {
        return this._expiringTimer.addHandler(e)
    }
    removeAccessTokenExpiring(e) {
        this._expiringTimer.removeHandler(e)
    }
    addAccessTokenExpired(e) {
        return this._expiredTimer.addHandler(e)
    }
    removeAccessTokenExpired(e) {
        this._expiredTimer.removeHandler(e)
    }
}
  , ez = class {
    constructor(e, t, n, i, r) {
        this._callback = e,
        this._client_id = t,
        this._intervalInSeconds = i,
        this._stopOnError = r,
        this._logger = new Ht("CheckSessionIFrame"),
        this._timer = null,
        this._session_state = null,
        this._message = o => {
            o.origin === this._frame_origin && o.source === this._frame.contentWindow && (o.data === "error" ? (this._logger.error("error message from check session op iframe"),
            this._stopOnError && this.stop()) : o.data === "changed" ? (this._logger.debug("changed message from check session op iframe"),
            this.stop(),
            this._callback()) : this._logger.debug(o.data + " message from check session op iframe"))
        }
        ;
        let s = new URL(n);
        this._frame_origin = s.origin,
        this._frame = window.document.createElement("iframe"),
        this._frame.style.visibility = "hidden",
        this._frame.style.position = "fixed",
        this._frame.style.left = "-1000px",
        this._frame.style.top = "0",
        this._frame.width = "0",
        this._frame.height = "0",
        this._frame.src = s.href
    }
    load() {
        return new Promise(e => {
            this._frame.onload = () => {
                e()
            }
            ,
            window.document.body.appendChild(this._frame),
            window.addEventListener("message", this._message, !1)
        }
        )
    }
    start(e) {
        if (this._session_state === e)
            return;
        this._logger.create("start"),
        this.stop(),
        this._session_state = e;
        let t = () => {
            !this._frame.contentWindow || !this._session_state || this._frame.contentWindow.postMessage(this._client_id + " " + this._session_state, this._frame_origin)
        }
        ;
        t(),
        this._timer = setInterval(t, this._intervalInSeconds * 1e3)
    }
    stop() {
        this._logger.create("stop"),
        this._session_state = null,
        this._timer && (clearInterval(this._timer),
        this._timer = null)
    }
}
  , tT = class {
    constructor() {
        this._logger = new Ht("InMemoryWebStorage"),
        this._data = {}
    }
    clear() {
        this._logger.create("clear"),
        this._data = {}
    }
    getItem(e) {
        return this._logger.create(`getItem('${e}')`),
        this._data[e]
    }
    setItem(e, t) {
        this._logger.create(`setItem('${e}')`),
        this._data[e] = t
    }
    removeItem(e) {
        this._logger.create(`removeItem('${e}')`),
        delete this._data[e]
    }
    get length() {
        return Object.getOwnPropertyNames(this._data).length
    }
    key(e) {
        return Object.getOwnPropertyNames(this._data)[e]
    }
}
  , D9 = class extends Error {
    constructor(e, t) {
        super(t),
        this.name = "ErrorDPoPNonce",
        this.nonce = e
    }
}
  , H9 = class {
    constructor(e=[], t=null, n={}) {
        this._jwtHandler = t,
        this._extraHeaders = n,
        this._logger = new Ht("JsonService"),
        this._contentTypes = [],
        this._contentTypes.push(...e, "application/json"),
        t && this._contentTypes.push("application/jwt")
    }
    fetchWithTimeout(n) {
        return ue(this, arguments, function*(e, t={}) {
            let a = t
              , {timeoutInSeconds: i} = a
              , r = tr(a, ["timeoutInSeconds"]);
            if (!i)
                return yield fetch(e, r);
            let s = new AbortController
              , o = setTimeout( () => s.abort(), i * 1e3);
            try {
                return yield fetch(e, ve(C({}, t), {
                    signal: s.signal
                }))
            } catch (c) {
                throw c instanceof DOMException && c.name === "AbortError" ? new U9("Network timed out") : c
            } finally {
                clearTimeout(o)
            }
        })
    }
    getJson(r) {
        return ue(this, arguments, function*(e, {token: t, credentials: n, timeoutInSeconds: i}={}) {
            let s = this._logger.create("getJson")
              , o = {
                Accept: this._contentTypes.join(", ")
            };
            t && (s.debug("token passed, setting Authorization header"),
            o.Authorization = "Bearer " + t),
            this.appendExtraHeaders(o);
            let a;
            try {
                s.debug("url:", e),
                a = yield this.fetchWithTimeout(e, {
                    method: "GET",
                    headers: o,
                    timeoutInSeconds: i,
                    credentials: n
                })
            } catch (u) {
                throw s.error("Network Error"),
                u
            }
            s.debug("HTTP response received, status", a.status);
            let c = a.headers.get("Content-Type");
            if (c && !this._contentTypes.find(u => c.startsWith(u)) && s.throw(new Error(`Invalid response Content-Type: ${c ?? "undefined"}, from URL: ${e}`)),
            a.ok && this._jwtHandler && c?.startsWith("application/jwt"))
                return yield this._jwtHandler(yield a.text());
            let l;
            try {
                l = yield a.json()
            } catch (u) {
                throw s.error("Error parsing JSON response", u),
                a.ok ? u : new Error(`${a.statusText} (${a.status})`)
            }
            if (!a.ok)
                throw s.error("Error from server:", l),
                l.error ? new y0(l) : new Error(`${a.statusText} (${a.status}): ${JSON.stringify(l)}`);
            return l
        })
    }
    postForm(o, a) {
        return ue(this, arguments, function*(e, {body: t, basicAuth: n, timeoutInSeconds: i, initCredentials: r, extraHeaders: s}) {
            let c = this._logger.create("postForm")
              , l = C({
                Accept: this._contentTypes.join(", "),
                "Content-Type": "application/x-www-form-urlencoded"
            }, s);
            n !== void 0 && (l.Authorization = "Basic " + n),
            this.appendExtraHeaders(l);
            let u;
            try {
                c.debug("url:", e),
                u = yield this.fetchWithTimeout(e, {
                    method: "POST",
                    headers: l,
                    body: t,
                    timeoutInSeconds: i,
                    credentials: r
                })
            } catch (g) {
                throw c.error("Network error"),
                g
            }
            c.debug("HTTP response received, status", u.status);
            let h = u.headers.get("Content-Type");
            if (h && !this._contentTypes.find(g => h.startsWith(g)))
                throw new Error(`Invalid response Content-Type: ${h ?? "undefined"}, from URL: ${e}`);
            let d = yield u.text()
              , f = {};
            if (d)
                try {
                    f = JSON.parse(d)
                } catch (g) {
                    throw c.error("Error parsing JSON response", g),
                    u.ok ? g : new Error(`${u.statusText} (${u.status})`)
                }
            if (!u.ok) {
                if (c.error("Error from server:", f),
                u.headers.has("dpop-nonce")) {
                    let g = u.headers.get("dpop-nonce");
                    throw new D9(g,`${JSON.stringify(f)}`)
                }
                throw f.error ? new y0(f,t) : new Error(`${u.statusText} (${u.status}): ${JSON.stringify(f)}`)
            }
            return f
        })
    }
    appendExtraHeaders(e) {
        let t = this._logger.create("appendExtraHeaders")
          , n = Object.keys(this._extraHeaders)
          , i = ["authorization", "accept", "content-type"];
        n.length !== 0 && n.forEach(r => {
            if (i.includes(r.toLocaleLowerCase())) {
                t.warn("Protected header could not be overridden", r, i);
                return
            }
            let s = typeof this._extraHeaders[r] == "function" ? this._extraHeaders[r]() : this._extraHeaders[r];
            s && s !== "" && (e[r] = s)
        }
        )
    }
}
  , tz = class {
    constructor(e) {
        this._settings = e,
        this._logger = new Ht("MetadataService"),
        this._signingKeys = null,
        this._metadata = null,
        this._metadataUrl = this._settings.metadataUrl,
        this._jsonService = new H9(["application/jwk-set+json"],null,this._settings.extraHeaders),
        this._settings.signingKeys && (this._logger.debug("using signingKeys from settings"),
        this._signingKeys = this._settings.signingKeys),
        this._settings.metadata && (this._logger.debug("using metadata from settings"),
        this._metadata = this._settings.metadata),
        this._settings.fetchRequestCredentials && (this._logger.debug("using fetchRequestCredentials from settings"),
        this._fetchRequestCredentials = this._settings.fetchRequestCredentials)
    }
    resetSigningKeys() {
        this._signingKeys = null
    }
    getMetadata() {
        return ue(this, null, function*() {
            let e = this._logger.create("getMetadata");
            if (this._metadata)
                return e.debug("using cached values"),
                this._metadata;
            if (!this._metadataUrl)
                throw e.throw(new Error("No authority or metadataUrl configured on settings")),
                null;
            e.debug("getting metadata from", this._metadataUrl);
            let t = yield this._jsonService.getJson(this._metadataUrl, {
                credentials: this._fetchRequestCredentials,
                timeoutInSeconds: this._settings.requestTimeoutInSeconds
            });
            return e.debug("merging remote JSON with seed metadata"),
            this._metadata = Object.assign({}, this._settings.metadataSeed, t),
            this._metadata
        })
    }
    getIssuer() {
        return this._getMetadataProperty("issuer")
    }
    getAuthorizationEndpoint() {
        return this._getMetadataProperty("authorization_endpoint")
    }
    getUserInfoEndpoint() {
        return this._getMetadataProperty("userinfo_endpoint")
    }
    getTokenEndpoint(e=!0) {
        return this._getMetadataProperty("token_endpoint", e)
    }
    getCheckSessionIframe() {
        return this._getMetadataProperty("check_session_iframe", !0)
    }
    getEndSessionEndpoint() {
        return this._getMetadataProperty("end_session_endpoint", !0)
    }
    getRevocationEndpoint(e=!0) {
        return this._getMetadataProperty("revocation_endpoint", e)
    }
    getKeysEndpoint(e=!0) {
        return this._getMetadataProperty("jwks_uri", e)
    }
    _getMetadataProperty(e, t=!1) {
        return ue(this, null, function*() {
            let n = this._logger.create(`_getMetadataProperty('${e}')`)
              , i = yield this.getMetadata();
            if (n.debug("resolved"),
            i[e] === void 0) {
                if (t === !0) {
                    n.warn("Metadata does not contain optional property");
                    return
                }
                n.throw(new Error("Metadata does not contain property " + e))
            }
            return i[e]
        })
    }
    getSigningKeys() {
        return ue(this, null, function*() {
            let e = this._logger.create("getSigningKeys");
            if (this._signingKeys)
                return e.debug("returning signingKeys from cache"),
                this._signingKeys;
            let t = yield this.getKeysEndpoint(!1);
            e.debug("got jwks_uri", t);
            let n = yield this._jsonService.getJson(t, {
                timeoutInSeconds: this._settings.requestTimeoutInSeconds
            });
            if (e.debug("got key set", n),
            !Array.isArray(n.keys))
                throw e.throw(new Error("Missing keys on keyset")),
                null;
            return this._signingKeys = n.keys,
            this._signingKeys
        })
    }
}
  , H2 = class {
    constructor({prefix: e="oidc.", store: t=localStorage}={}) {
        this._logger = new Ht("WebStorageStateStore"),
        this._store = t,
        this._prefix = e
    }
    set(e, t) {
        return ue(this, null, function*() {
            this._logger.create(`set('${e}')`),
            e = this._prefix + e,
            yield this._store.setItem(e, t)
        })
    }
    get(e) {
        return ue(this, null, function*() {
            return this._logger.create(`get('${e}')`),
            e = this._prefix + e,
            yield this._store.getItem(e)
        })
    }
    remove(e) {
        return ue(this, null, function*() {
            this._logger.create(`remove('${e}')`),
            e = this._prefix + e;
            let t = yield this._store.getItem(e);
            return yield this._store.removeItem(e),
            t
        })
    }
    getAllKeys() {
        return ue(this, null, function*() {
            this._logger.create("getAllKeys");
            let e = yield this._store.length
              , t = [];
            for (let n = 0; n < e; n++) {
                let i = yield this._store.key(n);
                i && i.indexOf(this._prefix) === 0 && t.push(i.substr(this._prefix.length))
            }
            return t
        })
    }
}
  , nz = "code"
  , iz = "openid"
  , rz = "client_secret_post"
  , sz = 60 * 15
  , N9 = class {
    constructor({authority: e, metadataUrl: t, metadata: n, signingKeys: i, metadataSeed: r, client_id: s, client_secret: o, response_type: a=nz, scope: c=iz, redirect_uri: l, post_logout_redirect_uri: u, client_authentication: h=rz, prompt: d, display: f, max_age: g, ui_locales: p, acr_values: v, resource: b, response_mode: S, filterProtocolClaims: w=!0, loadUserInfo: k=!1, requestTimeoutInSeconds: B, staleStateAgeInSeconds: N=sz, mergeClaimsStrategy: E={
        array: "replace"
    }, disablePKCE: F=!1, stateStore: O, revokeTokenAdditionalContentTypes: V, fetchRequestCredentials: X, refreshTokenAllowedScope: x, extraQueryParams: j={}, extraTokenParams: fe={}, extraHeaders: he={}, dpop: Re, omitScopeWhenRequesting: Xe=!1}) {
        var pt;
        if (this.authority = e,
        t ? this.metadataUrl = t : (this.metadataUrl = e,
        e && (this.metadataUrl.endsWith("/") || (this.metadataUrl += "/"),
        this.metadataUrl += ".well-known/openid-configuration")),
        this.metadata = n,
        this.metadataSeed = r,
        this.signingKeys = i,
        this.client_id = s,
        this.client_secret = o,
        this.response_type = a,
        this.scope = c,
        this.redirect_uri = l,
        this.post_logout_redirect_uri = u,
        this.client_authentication = h,
        this.prompt = d,
        this.display = f,
        this.max_age = g,
        this.ui_locales = p,
        this.acr_values = v,
        this.resource = b,
        this.response_mode = S,
        this.filterProtocolClaims = w ?? !0,
        this.loadUserInfo = !!k,
        this.staleStateAgeInSeconds = N,
        this.mergeClaimsStrategy = E,
        this.omitScopeWhenRequesting = Xe,
        this.disablePKCE = !!F,
        this.revokeTokenAdditionalContentTypes = V,
        this.fetchRequestCredentials = X || "same-origin",
        this.requestTimeoutInSeconds = B,
        O)
            this.stateStore = O;
        else {
            let it = typeof window < "u" ? window.localStorage : new tT;
            this.stateStore = new H2({
                store: it
            })
        }
        if (this.refreshTokenAllowedScope = x,
        this.extraQueryParams = j,
        this.extraTokenParams = fe,
        this.extraHeaders = he,
        this.dpop = Re,
        this.dpop && !((pt = this.dpop) != null && pt.store))
            throw new Error("A DPoPStore is required when dpop is enabled")
    }
}
  , oz = class {
    constructor(e, t) {
        this._settings = e,
        this._metadataService = t,
        this._logger = new Ht("UserInfoService"),
        this._getClaimsFromJwt = n => ue(this, null, function*() {
            let i = this._logger.create("_getClaimsFromJwt");
            try {
                let r = B2.decode(n);
                return i.debug("JWT decoding successful"),
                r
            } catch (r) {
                throw i.error("Error parsing JWT response"),
                r
            }
        }),
        this._jsonService = new H9(void 0,this._getClaimsFromJwt,this._settings.extraHeaders)
    }
    getClaims(e) {
        return ue(this, null, function*() {
            let t = this._logger.create("getClaims");
            e || this._logger.throw(new Error("No token passed"));
            let n = yield this._metadataService.getUserInfoEndpoint();
            t.debug("got userinfo url", n);
            let i = yield this._jsonService.getJson(n, {
                token: e,
                credentials: this._settings.fetchRequestCredentials,
                timeoutInSeconds: this._settings.requestTimeoutInSeconds
            });
            return t.debug("got claims", i),
            i
        })
    }
}
  , nT = class {
    constructor(e, t) {
        this._settings = e,
        this._metadataService = t,
        this._logger = new Ht("TokenClient"),
        this._jsonService = new H9(this._settings.revokeTokenAdditionalContentTypes,null,this._settings.extraHeaders)
    }
    exchangeCode(o) {
        return ue(this, null, function*() {
            var a = o
              , {grant_type: e="authorization_code", redirect_uri: t=this._settings.redirect_uri, client_id: n=this._settings.client_id, client_secret: i=this._settings.client_secret, extraHeaders: r} = a
              , s = tr(a, ["grant_type", "redirect_uri", "client_id", "client_secret", "extraHeaders"]);
            let c = this._logger.create("exchangeCode");
            n || c.throw(new Error("A client_id is required")),
            t || c.throw(new Error("A redirect_uri is required")),
            s.code || c.throw(new Error("A code is required"));
            let l = new URLSearchParams({
                grant_type: e,
                redirect_uri: t
            });
            for (let[f,g] of Object.entries(s))
                g != null && l.set(f, g);
            let u;
            switch (this._settings.client_authentication) {
            case "client_secret_basic":
                if (!i)
                    throw c.throw(new Error("A client_secret is required")),
                    null;
                u = Zr.generateBasicAuth(n, i);
                break;
            case "client_secret_post":
                l.append("client_id", n),
                i && l.append("client_secret", i);
                break
            }
            let h = yield this._metadataService.getTokenEndpoint(!1);
            c.debug("got token endpoint");
            let d = yield this._jsonService.postForm(h, {
                body: l,
                basicAuth: u,
                timeoutInSeconds: this._settings.requestTimeoutInSeconds,
                initCredentials: this._settings.fetchRequestCredentials,
                extraHeaders: r
            });
            return c.debug("got response"),
            d
        })
    }
    exchangeCredentials(s) {
        return ue(this, null, function*() {
            var o = s
              , {grant_type: e="password", client_id: t=this._settings.client_id, client_secret: n=this._settings.client_secret, scope: i=this._settings.scope} = o
              , r = tr(o, ["grant_type", "client_id", "client_secret", "scope"]);
            let a = this._logger.create("exchangeCredentials");
            t || a.throw(new Error("A client_id is required"));
            let c = new URLSearchParams({
                grant_type: e
            });
            this._settings.omitScopeWhenRequesting || c.set("scope", i);
            for (let[d,f] of Object.entries(r))
                f != null && c.set(d, f);
            let l;
            switch (this._settings.client_authentication) {
            case "client_secret_basic":
                if (!n)
                    throw a.throw(new Error("A client_secret is required")),
                    null;
                l = Zr.generateBasicAuth(t, n);
                break;
            case "client_secret_post":
                c.append("client_id", t),
                n && c.append("client_secret", n);
                break
            }
            let u = yield this._metadataService.getTokenEndpoint(!1);
            a.debug("got token endpoint");
            let h = yield this._jsonService.postForm(u, {
                body: c,
                basicAuth: l,
                timeoutInSeconds: this._settings.requestTimeoutInSeconds,
                initCredentials: this._settings.fetchRequestCredentials
            });
            return a.debug("got response"),
            h
        })
    }
    exchangeRefreshToken(o) {
        return ue(this, null, function*() {
            var a = o
              , {grant_type: e="refresh_token", client_id: t=this._settings.client_id, client_secret: n=this._settings.client_secret, timeoutInSeconds: i, extraHeaders: r} = a
              , s = tr(a, ["grant_type", "client_id", "client_secret", "timeoutInSeconds", "extraHeaders"]);
            let c = this._logger.create("exchangeRefreshToken");
            t || c.throw(new Error("A client_id is required")),
            s.refresh_token || c.throw(new Error("A refresh_token is required"));
            let l = new URLSearchParams({
                grant_type: e
            });
            for (let[f,g] of Object.entries(s))
                Array.isArray(g) ? g.forEach(p => l.append(f, p)) : g != null && l.set(f, g);
            let u;
            switch (this._settings.client_authentication) {
            case "client_secret_basic":
                if (!n)
                    throw c.throw(new Error("A client_secret is required")),
                    null;
                u = Zr.generateBasicAuth(t, n);
                break;
            case "client_secret_post":
                l.append("client_id", t),
                n && l.append("client_secret", n);
                break
            }
            let h = yield this._metadataService.getTokenEndpoint(!1);
            c.debug("got token endpoint");
            let d = yield this._jsonService.postForm(h, {
                body: l,
                basicAuth: u,
                timeoutInSeconds: i,
                initCredentials: this._settings.fetchRequestCredentials,
                extraHeaders: r
            });
            return c.debug("got response"),
            d
        })
    }
    revoke(e) {
        return ue(this, null, function*() {
            var t;
            let n = this._logger.create("revoke");
            e.token || n.throw(new Error("A token is required"));
            let i = yield this._metadataService.getRevocationEndpoint(!1);
            n.debug(`got revocation endpoint, revoking ${(t = e.token_type_hint) != null ? t : "default token type"}`);
            let r = new URLSearchParams;
            for (let[s,o] of Object.entries(e))
                o != null && r.set(s, o);
            r.set("client_id", this._settings.client_id),
            this._settings.client_secret && r.set("client_secret", this._settings.client_secret),
            yield this._jsonService.postForm(i, {
                body: r,
                timeoutInSeconds: this._settings.requestTimeoutInSeconds
            }),
            n.debug("got response")
        })
    }
}
  , az = class {
    constructor(e, t, n) {
        this._settings = e,
        this._metadataService = t,
        this._claimsService = n,
        this._logger = new Ht("ResponseValidator"),
        this._userInfoService = new oz(this._settings,this._metadataService),
        this._tokenClient = new nT(this._settings,this._metadataService)
    }
    validateSigninResponse(e, t, n) {
        return ue(this, null, function*() {
            let i = this._logger.create("validateSigninResponse");
            this._processSigninState(e, t),
            i.debug("state processed"),
            yield this._processCode(e, t, n),
            i.debug("code processed"),
            e.isOpenId && this._validateIdTokenAttributes(e),
            i.debug("tokens validated"),
            yield this._processClaims(e, t?.skipUserInfo, e.isOpenId),
            i.debug("claims processed")
        })
    }
    validateCredentialsResponse(e, t) {
        return ue(this, null, function*() {
            let n = this._logger.create("validateCredentialsResponse");
            e.isOpenId && e.id_token && this._validateIdTokenAttributes(e),
            n.debug("tokens validated"),
            yield this._processClaims(e, t, e.isOpenId),
            n.debug("claims processed")
        })
    }
    validateRefreshResponse(e, t) {
        return ue(this, null, function*() {
            var n, i;
            let r = this._logger.create("validateRefreshResponse");
            e.userState = t.data,
            (n = e.session_state) != null || (e.session_state = t.session_state),
            (i = e.scope) != null || (e.scope = t.scope),
            e.isOpenId && e.id_token && (this._validateIdTokenAttributes(e, t.id_token),
            r.debug("ID Token validated")),
            e.id_token || (e.id_token = t.id_token,
            e.profile = t.profile);
            let s = e.isOpenId && !!e.id_token;
            yield this._processClaims(e, !1, s),
            r.debug("claims processed")
        })
    }
    validateSignoutResponse(e, t) {
        let n = this._logger.create("validateSignoutResponse");
        if (t.id !== e.state && n.throw(new Error("State does not match")),
        n.debug("state validated"),
        e.userState = t.data,
        e.error)
            throw n.warn("Response was error", e.error),
            new y0(e)
    }
    _processSigninState(e, t) {
        var n;
        let i = this._logger.create("_processSigninState");
        if (t.id !== e.state && i.throw(new Error("State does not match")),
        t.client_id || i.throw(new Error("No client_id on state")),
        t.authority || i.throw(new Error("No authority on state")),
        this._settings.authority !== t.authority && i.throw(new Error("authority mismatch on settings vs. signin state")),
        this._settings.client_id && this._settings.client_id !== t.client_id && i.throw(new Error("client_id mismatch on settings vs. signin state")),
        i.debug("state validated"),
        e.userState = t.data,
        e.url_state = t.url_state,
        (n = e.scope) != null || (e.scope = t.scope),
        e.error)
            throw i.warn("Response was error", e.error),
            new y0(e);
        t.code_verifier && !e.code && i.throw(new Error("Expected code in response"))
    }
    _processClaims(e, t=!1, n=!0) {
        return ue(this, null, function*() {
            let i = this._logger.create("_processClaims");
            if (e.profile = this._claimsService.filterProtocolClaims(e.profile),
            t || !this._settings.loadUserInfo || !e.access_token) {
                i.debug("not loading user info");
                return
            }
            i.debug("loading user info");
            let r = yield this._userInfoService.getClaims(e.access_token);
            i.debug("user info claims received from user info endpoint"),
            n && r.sub !== e.profile.sub && i.throw(new Error("subject from UserInfo response does not match subject in ID Token")),
            e.profile = this._claimsService.mergeClaims(e.profile, this._claimsService.filterProtocolClaims(r)),
            i.debug("user info claims received, updated profile:", e.profile)
        })
    }
    _processCode(e, t, n) {
        return ue(this, null, function*() {
            let i = this._logger.create("_processCode");
            if (e.code) {
                i.debug("Validating code");
                let r = yield this._tokenClient.exchangeCode(C({
                    client_id: t.client_id,
                    client_secret: t.client_secret,
                    code: e.code,
                    redirect_uri: t.redirect_uri,
                    code_verifier: t.code_verifier,
                    extraHeaders: n
                }, t.extraTokenParams));
                Object.assign(e, r)
            } else
                i.debug("No code to process")
        })
    }
    _validateIdTokenAttributes(e, t) {
        var n;
        let i = this._logger.create("_validateIdTokenAttributes");
        i.debug("decoding ID Token JWT");
        let r = B2.decode((n = e.id_token) != null ? n : "");
        if (r.sub || i.throw(new Error("ID Token is missing a subject claim")),
        t) {
            let s = B2.decode(t);
            r.sub !== s.sub && i.throw(new Error("sub in id_token does not match current sub")),
            r.auth_time && r.auth_time !== s.auth_time && i.throw(new Error("auth_time in id_token does not match original auth_time")),
            r.azp && r.azp !== s.azp && i.throw(new Error("azp in id_token does not match original azp")),
            !r.azp && s.azp && i.throw(new Error("azp not in id_token, but present in original id_token"))
        }
        e.profile = r
    }
}
  , U2 = class F9 {
    constructor(t) {
        this.id = t.id || Zr.generateUUIDv4(),
        this.data = t.data,
        t.created && t.created > 0 ? this.created = t.created : this.created = qa.getEpochTime(),
        this.request_type = t.request_type,
        this.url_state = t.url_state
    }
    toStorageString() {
        return new Ht("State").create("toStorageString"),
        JSON.stringify({
            id: this.id,
            data: this.data,
            created: this.created,
            request_type: this.request_type,
            url_state: this.url_state
        })
    }
    static fromStorageString(t) {
        return Ht.createStatic("State", "fromStorageString"),
        Promise.resolve(new F9(JSON.parse(t)))
    }
    static clearStaleState(t, n) {
        return ue(this, null, function*() {
            let i = Ht.createStatic("State", "clearStaleState")
              , r = qa.getEpochTime() - n
              , s = yield t.getAllKeys();
            i.debug("got keys", s);
            for (let o = 0; o < s.length; o++) {
                let a = s[o]
                  , c = yield t.get(a)
                  , l = !1;
                if (c)
                    try {
                        let u = yield F9.fromStorageString(c);
                        i.debug("got item from key:", a, u.created),
                        u.created <= r && (l = !0)
                    } catch (u) {
                        i.error("Error parsing state for key:", a, u),
                        l = !0
                    }
                else
                    i.debug("no item in storage for key:", a),
                    l = !0;
                l && (i.debug("removed item for key:", a),
                t.remove(a))
            }
        })
    }
}
  , iT = class L9 extends U2 {
    constructor(t) {
        super(t),
        this.code_verifier = t.code_verifier,
        this.code_challenge = t.code_challenge,
        this.authority = t.authority,
        this.client_id = t.client_id,
        this.redirect_uri = t.redirect_uri,
        this.scope = t.scope,
        this.client_secret = t.client_secret,
        this.extraTokenParams = t.extraTokenParams,
        this.response_mode = t.response_mode,
        this.skipUserInfo = t.skipUserInfo
    }
    static create(t) {
        return ue(this, null, function*() {
            let n = t.code_verifier === !0 ? Zr.generateCodeVerifier() : t.code_verifier || void 0
              , i = n ? yield Zr.generateCodeChallenge(n) : void 0;
            return new L9(ve(C({}, t), {
                code_verifier: n,
                code_challenge: i
            }))
        })
    }
    toStorageString() {
        return new Ht("SigninState").create("toStorageString"),
        JSON.stringify({
            id: this.id,
            data: this.data,
            created: this.created,
            request_type: this.request_type,
            url_state: this.url_state,
            code_verifier: this.code_verifier,
            authority: this.authority,
            client_id: this.client_id,
            redirect_uri: this.redirect_uri,
            scope: this.scope,
            client_secret: this.client_secret,
            extraTokenParams: this.extraTokenParams,
            response_mode: this.response_mode,
            skipUserInfo: this.skipUserInfo
        })
    }
    static fromStorageString(t) {
        Ht.createStatic("SigninState", "fromStorageString");
        let n = JSON.parse(t);
        return L9.create(n)
    }
}
  , rT = class sT {
    constructor(t) {
        this.url = t.url,
        this.state = t.state
    }
    static create(B) {
        return ue(this, null, function*() {
            var N = B
              , {url: t, authority: n, client_id: i, redirect_uri: r, response_type: s, scope: o, state_data: a, response_mode: c, request_type: l, client_secret: u, nonce: h, url_state: d, resource: f, skipUserInfo: g, extraQueryParams: p, extraTokenParams: v, disablePKCE: b, dpopJkt: S, omitScopeWhenRequesting: w} = N
              , k = tr(N, ["url", "authority", "client_id", "redirect_uri", "response_type", "scope", "state_data", "response_mode", "request_type", "client_secret", "nonce", "url_state", "resource", "skipUserInfo", "extraQueryParams", "extraTokenParams", "disablePKCE", "dpopJkt", "omitScopeWhenRequesting"]);
            if (!t)
                throw this._logger.error("create: No url passed"),
                new Error("url");
            if (!i)
                throw this._logger.error("create: No client_id passed"),
                new Error("client_id");
            if (!r)
                throw this._logger.error("create: No redirect_uri passed"),
                new Error("redirect_uri");
            if (!s)
                throw this._logger.error("create: No response_type passed"),
                new Error("response_type");
            if (!o)
                throw this._logger.error("create: No scope passed"),
                new Error("scope");
            if (!n)
                throw this._logger.error("create: No authority passed"),
                new Error("authority");
            let E = yield iT.create({
                data: a,
                request_type: l,
                url_state: d,
                code_verifier: !b,
                client_id: i,
                authority: n,
                redirect_uri: r,
                response_mode: c,
                client_secret: u,
                scope: o,
                extraTokenParams: v,
                skipUserInfo: g
            })
              , F = new URL(t);
            F.searchParams.append("client_id", i),
            F.searchParams.append("redirect_uri", r),
            F.searchParams.append("response_type", s),
            w || F.searchParams.append("scope", o),
            h && F.searchParams.append("nonce", h),
            S && F.searchParams.append("dpop_jkt", S);
            let O = E.id;
            d && (O = `${O}${R9}${d}`),
            F.searchParams.append("state", O),
            E.code_challenge && (F.searchParams.append("code_challenge", E.code_challenge),
            F.searchParams.append("code_challenge_method", "S256")),
            f && (Array.isArray(f) ? f : [f]).forEach(X => F.searchParams.append("resource", X));
            for (let[V,X] of Object.entries(C(C({
                response_mode: c
            }, k), p)))
                X != null && F.searchParams.append(V, X.toString());
            return new sT({
                url: F.href,
                state: E
            })
        })
    }
}
;
rT._logger = new Ht("SigninRequest");
var cz = rT
  , lz = "openid"
  , k9 = class {
    constructor(e) {
        if (this.access_token = "",
        this.token_type = "",
        this.profile = {},
        this.state = e.get("state"),
        this.session_state = e.get("session_state"),
        this.state) {
            let t = decodeURIComponent(this.state).split(R9);
            this.state = t[0],
            t.length > 1 && (this.url_state = t.slice(1).join(R9))
        }
        this.error = e.get("error"),
        this.error_description = e.get("error_description"),
        this.error_uri = e.get("error_uri"),
        this.code = e.get("code")
    }
    get expires_in() {
        if (this.expires_at !== void 0)
            return this.expires_at - qa.getEpochTime()
    }
    set expires_in(e) {
        typeof e == "string" && (e = Number(e)),
        e !== void 0 && e >= 0 && (this.expires_at = Math.floor(e) + qa.getEpochTime())
    }
    get isOpenId() {
        var e;
        return ((e = this.scope) == null ? void 0 : e.split(" ").includes(lz)) || !!this.id_token
    }
}
  , uz = class {
    constructor({url: e, state_data: t, id_token_hint: n, post_logout_redirect_uri: i, extraQueryParams: r, request_type: s, client_id: o}) {
        if (this._logger = new Ht("SignoutRequest"),
        !e)
            throw this._logger.error("ctor: No url passed"),
            new Error("url");
        let a = new URL(e);
        n && a.searchParams.append("id_token_hint", n),
        o && a.searchParams.append("client_id", o),
        i && (a.searchParams.append("post_logout_redirect_uri", i),
        t && (this.state = new U2({
            data: t,
            request_type: s
        }),
        a.searchParams.append("state", this.state.id)));
        for (let[c,l] of Object.entries(C({}, r)))
            l != null && a.searchParams.append(c, l.toString());
        this.url = a.href
    }
}
  , hz = class {
    constructor(e) {
        this.state = e.get("state"),
        this.error = e.get("error"),
        this.error_description = e.get("error_description"),
        this.error_uri = e.get("error_uri")
    }
}
  , dz = ["nbf", "jti", "auth_time", "nonce", "acr", "amr", "azp", "at_hash"]
  , fz = ["sub", "iss", "aud", "exp", "iat"]
  , pz = class {
    constructor(e) {
        this._settings = e,
        this._logger = new Ht("ClaimsService")
    }
    filterProtocolClaims(e) {
        let t = C({}, e);
        if (this._settings.filterProtocolClaims) {
            let n;
            Array.isArray(this._settings.filterProtocolClaims) ? n = this._settings.filterProtocolClaims : n = dz;
            for (let i of n)
                fz.includes(i) || delete t[i]
        }
        return t
    }
    mergeClaims(e, t) {
        let n = C({}, e);
        for (let[i,r] of Object.entries(t))
            if (n[i] !== r)
                if (Array.isArray(n[i]) || Array.isArray(r))
                    if (this._settings.mergeClaimsStrategy.array == "replace")
                        n[i] = r;
                    else {
                        let s = Array.isArray(n[i]) ? n[i] : [n[i]];
                        for (let o of Array.isArray(r) ? r : [r])
                            s.includes(o) || s.push(o);
                        n[i] = s
                    }
                else
                    typeof n[i] == "object" && typeof r == "object" ? n[i] = this.mergeClaims(n[i], r) : n[i] = r;
        return n
    }
}
  , oT = class {
    constructor(e, t) {
        this.keys = e,
        this.nonce = t
    }
}
  , gz = class {
    constructor(e, t) {
        this._logger = new Ht("OidcClient"),
        this.settings = e instanceof N9 ? e : new N9(e),
        this.metadataService = t ?? new tz(this.settings),
        this._claimsService = new pz(this.settings),
        this._validator = new az(this.settings,this.metadataService,this._claimsService),
        this._tokenClient = new nT(this.settings,this.metadataService)
    }
    createSigninRequest(E) {
        return ue(this, arguments, function*({state: e, request: t, request_uri: n, request_type: i, id_token_hint: r, login_hint: s, skipUserInfo: o, nonce: a, url_state: c, response_type: l=this.settings.response_type, scope: u=this.settings.scope, redirect_uri: h=this.settings.redirect_uri, prompt: d=this.settings.prompt, display: f=this.settings.display, max_age: g=this.settings.max_age, ui_locales: p=this.settings.ui_locales, acr_values: v=this.settings.acr_values, resource: b=this.settings.resource, response_mode: S=this.settings.response_mode, extraQueryParams: w=this.settings.extraQueryParams, extraTokenParams: k=this.settings.extraTokenParams, dpopJkt: B, omitScopeWhenRequesting: N=this.settings.omitScopeWhenRequesting}) {
            let F = this._logger.create("createSigninRequest");
            if (l !== "code")
                throw new Error("Only the Authorization Code flow (with PKCE) is supported");
            let O = yield this.metadataService.getAuthorizationEndpoint();
            F.debug("Received authorization endpoint", O);
            let V = yield cz.create({
                url: O,
                authority: this.settings.authority,
                client_id: this.settings.client_id,
                redirect_uri: h,
                response_type: l,
                scope: u,
                state_data: e,
                url_state: c,
                prompt: d,
                display: f,
                max_age: g,
                ui_locales: p,
                id_token_hint: r,
                login_hint: s,
                acr_values: v,
                dpopJkt: B,
                resource: b,
                request: t,
                request_uri: n,
                extraQueryParams: w,
                extraTokenParams: k,
                request_type: i,
                response_mode: S,
                client_secret: this.settings.client_secret,
                skipUserInfo: o,
                nonce: a,
                disablePKCE: this.settings.disablePKCE,
                omitScopeWhenRequesting: N
            });
            yield this.clearStaleState();
            let X = V.state;
            return yield this.settings.stateStore.set(X.id, X.toStorageString()),
            V
        })
    }
    readSigninResponseState(e, t=!1) {
        return ue(this, null, function*() {
            let n = this._logger.create("readSigninResponseState")
              , i = new k9(I9.readParams(e, this.settings.response_mode));
            if (!i.state)
                throw n.throw(new Error("No state in response")),
                null;
            let r = yield this.settings.stateStore[t ? "remove" : "get"](i.state);
            if (!r)
                throw n.throw(new Error("No matching state found in storage")),
                null;
            return {
                state: yield iT.fromStorageString(r),
                response: i
            }
        })
    }
    processSigninResponse(e, t) {
        return ue(this, null, function*() {
            let n = this._logger.create("processSigninResponse")
              , {state: i, response: r} = yield this.readSigninResponseState(e, !0);
            if (n.debug("received state from storage; validating response"),
            this.settings.dpop && this.settings.dpop.store) {
                let s = yield this.getDpopProof(this.settings.dpop.store);
                t = ve(C({}, t), {
                    DPoP: s
                })
            }
            try {
                yield this._validator.validateSigninResponse(r, i, t)
            } catch (s) {
                if (s instanceof D9 && this.settings.dpop) {
                    let o = yield this.getDpopProof(this.settings.dpop.store, s.nonce);
                    t.DPoP = o,
                    yield this._validator.validateSigninResponse(r, i, t)
                } else
                    throw s
            }
            return r
        })
    }
    getDpopProof(e, t) {
        return ue(this, null, function*() {
            let n, i;
            return (yield e.getAllKeys()).includes(this.settings.client_id) ? (i = yield e.get(this.settings.client_id),
            i.nonce !== t && t && (i.nonce = t,
            yield e.set(this.settings.client_id, i))) : (n = yield Zr.generateDPoPKeys(),
            i = new oT(n,t),
            yield e.set(this.settings.client_id, i)),
            yield Zr.generateDPoPProof({
                url: yield this.metadataService.getTokenEndpoint(!1),
                httpMethod: "POST",
                keyPair: i.keys,
                nonce: i.nonce
            })
        })
    }
    processResourceOwnerPasswordCredentials(r) {
        return ue(this, arguments, function*({username: e, password: t, skipUserInfo: n=!1, extraTokenParams: i={}}) {
            let s = yield this._tokenClient.exchangeCredentials(C({
                username: e,
                password: t
            }, i))
              , o = new k9(new URLSearchParams);
            return Object.assign(o, s),
            yield this._validator.validateCredentialsResponse(o, n),
            o
        })
    }
    useRefreshToken(o) {
        return ue(this, arguments, function*({state: e, redirect_uri: t, resource: n, timeoutInSeconds: i, extraHeaders: r, extraTokenParams: s}) {
            var a;
            let c = this._logger.create("useRefreshToken"), l;
            if (this.settings.refreshTokenAllowedScope === void 0)
                l = e.scope;
            else {
                let d = this.settings.refreshTokenAllowedScope.split(" ");
                l = (((a = e.scope) == null ? void 0 : a.split(" ")) || []).filter(g => d.includes(g)).join(" ")
            }
            if (this.settings.dpop && this.settings.dpop.store) {
                let d = yield this.getDpopProof(this.settings.dpop.store);
                r = ve(C({}, r), {
                    DPoP: d
                })
            }
            let u;
            try {
                u = yield this._tokenClient.exchangeRefreshToken(C({
                    refresh_token: e.refresh_token,
                    scope: l,
                    redirect_uri: t,
                    resource: n,
                    timeoutInSeconds: i,
                    extraHeaders: r
                }, s))
            } catch (d) {
                if (d instanceof D9 && this.settings.dpop)
                    r.DPoP = yield this.getDpopProof(this.settings.dpop.store, d.nonce),
                    u = yield this._tokenClient.exchangeRefreshToken(C({
                        refresh_token: e.refresh_token,
                        scope: l,
                        redirect_uri: t,
                        resource: n,
                        timeoutInSeconds: i,
                        extraHeaders: r
                    }, s));
                else
                    throw d
            }
            let h = new k9(new URLSearchParams);
            return Object.assign(h, u),
            c.debug("validating response", h),
            yield this._validator.validateRefreshResponse(h, ve(C({}, e), {
                scope: l
            })),
            h
        })
    }
    createSignoutRequest() {
        return ue(this, arguments, function*({state: e, id_token_hint: t, client_id: n, request_type: i, post_logout_redirect_uri: r=this.settings.post_logout_redirect_uri, extraQueryParams: s=this.settings.extraQueryParams}={}) {
            let o = this._logger.create("createSignoutRequest")
              , a = yield this.metadataService.getEndSessionEndpoint();
            if (!a)
                throw o.throw(new Error("No end session endpoint")),
                null;
            o.debug("Received end session endpoint", a),
            !n && r && !t && (n = this.settings.client_id);
            let c = new uz({
                url: a,
                id_token_hint: t,
                client_id: n,
                post_logout_redirect_uri: r,
                state_data: e,
                extraQueryParams: s,
                request_type: i
            });
            yield this.clearStaleState();
            let l = c.state;
            return l && (o.debug("Signout request has state to persist"),
            yield this.settings.stateStore.set(l.id, l.toStorageString())),
            c
        })
    }
    readSignoutResponseState(e, t=!1) {
        return ue(this, null, function*() {
            let n = this._logger.create("readSignoutResponseState")
              , i = new hz(I9.readParams(e, this.settings.response_mode));
            if (!i.state) {
                if (n.debug("No state in response"),
                i.error)
                    throw n.warn("Response was error:", i.error),
                    new y0(i);
                return {
                    state: void 0,
                    response: i
                }
            }
            let r = yield this.settings.stateStore[t ? "remove" : "get"](i.state);
            if (!r)
                throw n.throw(new Error("No matching state found in storage")),
                null;
            return {
                state: yield U2.fromStorageString(r),
                response: i
            }
        })
    }
    processSignoutResponse(e) {
        return ue(this, null, function*() {
            let t = this._logger.create("processSignoutResponse")
              , {state: n, response: i} = yield this.readSignoutResponseState(e, !0);
            return n ? (t.debug("Received state from storage; validating response"),
            this._validator.validateSignoutResponse(i, n)) : t.debug("No state from storage; skipping response validation"),
            i
        })
    }
    clearStaleState() {
        return this._logger.create("clearStaleState"),
        U2.clearStaleState(this.settings.stateStore, this.settings.staleStateAgeInSeconds)
    }
    revokeToken(e, t) {
        return ue(this, null, function*() {
            return this._logger.create("revokeToken"),
            yield this._tokenClient.revoke({
                token: e,
                token_type_hint: t
            })
        })
    }
}
  , mz = class {
    constructor(e) {
        this._userManager = e,
        this._logger = new Ht("SessionMonitor"),
        this._start = t => ue(this, null, function*() {
            let n = t.session_state;
            if (!n)
                return;
            let i = this._logger.create("_start");
            if (t.profile ? (this._sub = t.profile.sub,
            i.debug("session_state", n, ", sub", this._sub)) : (this._sub = void 0,
            i.debug("session_state", n, ", anonymous user")),
            this._checkSessionIFrame) {
                this._checkSessionIFrame.start(n);
                return
            }
            try {
                let r = yield this._userManager.metadataService.getCheckSessionIframe();
                if (r) {
                    i.debug("initializing check session iframe");
                    let s = this._userManager.settings.client_id
                      , o = this._userManager.settings.checkSessionIntervalInSeconds
                      , a = this._userManager.settings.stopCheckSessionOnError
                      , c = new ez(this._callback,s,r,o,a);
                    yield c.load(),
                    this._checkSessionIFrame = c,
                    c.start(n)
                } else
                    i.warn("no check session iframe found in the metadata")
            } catch (r) {
                i.error("Error from getCheckSessionIframe:", r instanceof Error ? r.message : r)
            }
        }),
        this._stop = () => {
            let t = this._logger.create("_stop");
            if (this._sub = void 0,
            this._checkSessionIFrame && this._checkSessionIFrame.stop(),
            this._userManager.settings.monitorAnonymousSession) {
                let n = setInterval( () => ue(this, null, function*() {
                    clearInterval(n);
                    try {
                        let i = yield this._userManager.querySessionStatus();
                        if (i) {
                            let r = {
                                session_state: i.session_state,
                                profile: i.sub ? {
                                    sub: i.sub
                                } : null
                            };
                            this._start(r)
                        }
                    } catch (i) {
                        t.error("error from querySessionStatus", i instanceof Error ? i.message : i)
                    }
                }), 1e3)
            }
        }
        ,
        this._callback = () => ue(this, null, function*() {
            let t = this._logger.create("_callback");
            try {
                let n = yield this._userManager.querySessionStatus()
                  , i = !0;
                n && this._checkSessionIFrame ? n.sub === this._sub ? (i = !1,
                this._checkSessionIFrame.start(n.session_state),
                t.debug("same sub still logged in at OP, session state has changed, restarting check session iframe; session_state", n.session_state),
                yield this._userManager.events._raiseUserSessionChanged()) : t.debug("different subject signed into OP", n.sub) : t.debug("subject no longer signed into OP"),
                i ? this._sub ? yield this._userManager.events._raiseUserSignedOut() : yield this._userManager.events._raiseUserSignedIn() : t.debug("no change in session detected, no event to raise")
            } catch (n) {
                this._sub && (t.debug("Error calling queryCurrentSigninSession; raising signed out event", n),
                yield this._userManager.events._raiseUserSignedOut())
            }
        }),
        e || this._logger.throw(new Error("No user manager passed")),
        this._userManager.events.addUserLoaded(this._start),
        this._userManager.events.addUserUnloaded(this._stop),
        this._init().catch(t => {
            this._logger.error(t)
        }
        )
    }
    _init() {
        return ue(this, null, function*() {
            this._logger.create("_init");
            let e = yield this._userManager.getUser();
            if (e)
                this._start(e);
            else if (this._userManager.settings.monitorAnonymousSession) {
                let t = yield this._userManager.querySessionStatus();
                if (t) {
                    let n = {
                        session_state: t.session_state,
                        profile: t.sub ? {
                            sub: t.sub
                        } : null
                    };
                    this._start(n)
                }
            }
        })
    }
}
  , A9 = class aT {
    constructor(t) {
        var n;
        this.id_token = t.id_token,
        this.session_state = (n = t.session_state) != null ? n : null,
        this.access_token = t.access_token,
        this.refresh_token = t.refresh_token,
        this.token_type = t.token_type,
        this.scope = t.scope,
        this.profile = t.profile,
        this.expires_at = t.expires_at,
        this.state = t.userState,
        this.url_state = t.url_state
    }
    get expires_in() {
        if (this.expires_at !== void 0)
            return this.expires_at - qa.getEpochTime()
    }
    set expires_in(t) {
        t !== void 0 && (this.expires_at = Math.floor(t) + qa.getEpochTime())
    }
    get expired() {
        let t = this.expires_in;
        if (t !== void 0)
            return t <= 0
    }
    get scopes() {
        var t, n;
        return (n = (t = this.scope) == null ? void 0 : t.split(" ")) != null ? n : []
    }
    toStorageString() {
        return new Ht("User").create("toStorageString"),
        JSON.stringify({
            id_token: this.id_token,
            session_state: this.session_state,
            access_token: this.access_token,
            refresh_token: this.refresh_token,
            token_type: this.token_type,
            scope: this.scope,
            profile: this.profile,
            expires_at: this.expires_at
        })
    }
    static fromStorageString(t) {
        return Ht.createStatic("User", "fromStorageString"),
        new aT(JSON.parse(t))
    }
}
  , JE = "oidc-client"
  , cT = class {
    constructor() {
        this._abort = new Yc("Window navigation aborted"),
        this._disposeHandlers = new Set,
        this._window = null
    }
    navigate(e) {
        return ue(this, null, function*() {
            let t = this._logger.create("navigate");
            if (!this._window)
                throw new Error("Attempted to navigate on a disposed window");
            t.debug("setting URL in window"),
            this._window.location.replace(e.url);
            let {url: n, keepOpen: i} = yield new Promise( (r, s) => {
                let o = a => {
                    var c;
                    let l = a.data
                      , u = (c = e.scriptOrigin) != null ? c : window.location.origin;
                    if (!(a.origin !== u || l?.source !== JE)) {
                        try {
                            let h = I9.readParams(l.url, e.response_mode).get("state");
                            if (h || t.warn("no state found in response url"),
                            a.source !== this._window && h !== e.state)
                                return
                        } catch {
                            this._dispose(),
                            s(new Error("Invalid response from window"))
                        }
                        r(l)
                    }
                }
                ;
                window.addEventListener("message", o, !1),
                this._disposeHandlers.add( () => window.removeEventListener("message", o, !1)),
                this._disposeHandlers.add(this._abort.addHandler(a => {
                    this._dispose(),
                    s(a)
                }
                ))
            }
            );
            return t.debug("got response from window"),
            this._dispose(),
            i || this.close(),
            {
                url: n
            }
        })
    }
    _dispose() {
        this._logger.create("_dispose");
        for (let e of this._disposeHandlers)
            e();
        this._disposeHandlers.clear()
    }
    static _notifyParent(e, t, n=!1, i=window.location.origin) {
        e.postMessage({
            source: JE,
            url: t,
            keepOpen: n
        }, i)
    }
}
  , lT = {
    location: !1,
    toolbar: !1,
    height: 640,
    closePopupWindowAfterInSeconds: -1
}
  , uT = "_blank"
  , vz = 60
  , _z = 2
  , hT = 10
  , yz = class extends N9 {
    constructor(e) {
        let {popup_redirect_uri: t=e.redirect_uri, popup_post_logout_redirect_uri: n=e.post_logout_redirect_uri, popupWindowFeatures: i=lT, popupWindowTarget: r=uT, redirectMethod: s="assign", redirectTarget: o="self", iframeNotifyParentOrigin: a=e.iframeNotifyParentOrigin, iframeScriptOrigin: c=e.iframeScriptOrigin, requestTimeoutInSeconds: l, silent_redirect_uri: u=e.redirect_uri, silentRequestTimeoutInSeconds: h, automaticSilentRenew: d=!0, validateSubOnSilentRenew: f=!0, includeIdTokenInSilentRenew: g=!1, monitorSession: p=!1, monitorAnonymousSession: v=!1, checkSessionIntervalInSeconds: b=_z, query_status_response_type: S="code", stopCheckSessionOnError: w=!0, revokeTokenTypes: k=["access_token", "refresh_token"], revokeTokensOnSignout: B=!1, includeIdTokenInSilentSignout: N=!1, accessTokenExpiringNotificationTimeInSeconds: E=vz, userStore: F} = e;
        if (super(e),
        this.popup_redirect_uri = t,
        this.popup_post_logout_redirect_uri = n,
        this.popupWindowFeatures = i,
        this.popupWindowTarget = r,
        this.redirectMethod = s,
        this.redirectTarget = o,
        this.iframeNotifyParentOrigin = a,
        this.iframeScriptOrigin = c,
        this.silent_redirect_uri = u,
        this.silentRequestTimeoutInSeconds = h || l || hT,
        this.automaticSilentRenew = d,
        this.validateSubOnSilentRenew = f,
        this.includeIdTokenInSilentRenew = g,
        this.monitorSession = p,
        this.monitorAnonymousSession = v,
        this.checkSessionIntervalInSeconds = b,
        this.stopCheckSessionOnError = w,
        this.query_status_response_type = S,
        this.revokeTokenTypes = k,
        this.revokeTokensOnSignout = B,
        this.includeIdTokenInSilentSignout = N,
        this.accessTokenExpiringNotificationTimeInSeconds = E,
        F)
            this.userStore = F;
        else {
            let O = typeof window < "u" ? window.sessionStorage : new tT;
            this.userStore = new H2({
                store: O
            })
        }
    }
}
  , ZE = class B9 extends cT {
    constructor({silentRequestTimeoutInSeconds: t=hT}) {
        super(),
        this._logger = new Ht("IFrameWindow"),
        this._timeoutInSeconds = t,
        this._frame = B9.createHiddenIframe(),
        this._window = this._frame.contentWindow
    }
    static createHiddenIframe() {
        let t = window.document.createElement("iframe");
        return t.style.visibility = "hidden",
        t.style.position = "fixed",
        t.style.left = "-1000px",
        t.style.top = "0",
        t.width = "0",
        t.height = "0",
        window.document.body.appendChild(t),
        t
    }
    navigate(t) {
        return ue(this, null, function*() {
            this._logger.debug("navigate: Using timeout of:", this._timeoutInSeconds);
            let n = setTimeout( () => void this._abort.raise(new U9("IFrame timed out without a response")), this._timeoutInSeconds * 1e3);
            return this._disposeHandlers.add( () => clearTimeout(n)),
            yield Th(B9.prototype, this, "navigate").call(this, t)
        })
    }
    close() {
        var t;
        this._frame && (this._frame.parentNode && (this._frame.addEventListener("load", n => {
            var i;
            let r = n.target;
            (i = r.parentNode) == null || i.removeChild(r),
            this._abort.raise(new Error("IFrame removed from DOM"))
        }
        , !0),
        (t = this._frame.contentWindow) == null || t.location.replace("about:blank")),
        this._frame = null),
        this._window = null
    }
    static notifyParent(t, n) {
        return super._notifyParent(window.parent, t, !1, n)
    }
}
  , bz = class {
    constructor(e) {
        this._settings = e,
        this._logger = new Ht("IFrameNavigator")
    }
    prepare(t) {
        return ue(this, arguments, function*({silentRequestTimeoutInSeconds: e=this._settings.silentRequestTimeoutInSeconds}) {
            return new ZE({
                silentRequestTimeoutInSeconds: e
            })
        })
    }
    callback(e) {
        return ue(this, null, function*() {
            this._logger.create("callback"),
            ZE.notifyParent(e, this._settings.iframeNotifyParentOrigin)
        })
    }
}
  , Sz = 500
  , xz = 1e3
  , eT = class e extends cT {
    constructor({popupWindowTarget: t=uT, popupWindowFeatures: n={}, popupSignal: i}) {
        super(),
        this._logger = new Ht("PopupWindow");
        let r = QE.center(C(C({}, lT), n));
        this._window = window.open(void 0, t, QE.serialize(r)),
        i && i.addEventListener("abort", () => {
            var s;
            this._abort.raise(new Error((s = i.reason) != null ? s : "Popup aborted"))
        }
        ),
        n.closePopupWindowAfterInSeconds && n.closePopupWindowAfterInSeconds > 0 && setTimeout( () => {
            if (!this._window || typeof this._window.closed != "boolean" || this._window.closed) {
                this._abort.raise(new Error("Popup blocked by user"));
                return
            }
            this.close()
        }
        , n.closePopupWindowAfterInSeconds * xz)
    }
    navigate(t) {
        return ue(this, null, function*() {
            var n;
            (n = this._window) == null || n.focus();
            let i = setInterval( () => {
                (!this._window || this._window.closed) && this._abort.raise(new Error("Popup closed by user"))
            }
            , Sz);
            return this._disposeHandlers.add( () => clearInterval(i)),
            yield Th(e.prototype, this, "navigate").call(this, t)
        })
    }
    close() {
        this._window && (this._window.closed || (this._window.close(),
        this._abort.raise(new Error("Popup closed")))),
        this._window = null
    }
    static notifyOpener(t, n) {
        if (!window.opener)
            throw new Error("No window.opener. Can't complete notification.");
        return super._notifyParent(window.opener, t, n)
    }
}
  , wz = class {
    constructor(e) {
        this._settings = e,
        this._logger = new Ht("PopupNavigator")
    }
    prepare(i) {
        return ue(this, arguments, function*({popupWindowFeatures: e=this._settings.popupWindowFeatures, popupWindowTarget: t=this._settings.popupWindowTarget, popupSignal: n}) {
            return new eT({
                popupWindowFeatures: e,
                popupWindowTarget: t,
                popupSignal: n
            })
        })
    }
    callback(n, i) {
        return ue(this, arguments, function*(e, {keepOpen: t=!1}) {
            this._logger.create("callback"),
            eT.notifyOpener(e, t)
        })
    }
}
  , Cz = class {
    constructor(e) {
        this._settings = e,
        this._logger = new Ht("RedirectNavigator")
    }
    prepare(n) {
        return ue(this, arguments, function*({redirectMethod: e=this._settings.redirectMethod, redirectTarget: t=this._settings.redirectTarget}) {
            var i;
            this._logger.create("prepare");
            let r = window.self;
            t === "top" && (r = (i = window.top) != null ? i : window.self);
            let s = r.location[e].bind(r.location), o;
            return {
                navigate: a => ue(this, null, function*() {
                    this._logger.create("navigate");
                    let c = new Promise( (l, u) => {
                        o = u
                    }
                    );
                    return s(a.url),
                    yield c
                }),
                close: () => {
                    this._logger.create("close"),
                    o?.(new Error("Redirect aborted")),
                    r.stop()
                }
            }
        })
    }
    callback() {
        return ue(this, null, function*() {})
    }
}
  , Ez = class e extends Zq {
    constructor(t) {
        super({
            expiringNotificationTimeInSeconds: t.accessTokenExpiringNotificationTimeInSeconds
        }),
        this._logger = new Ht("UserManagerEvents"),
        this._userLoaded = new Yc("User loaded"),
        this._userUnloaded = new Yc("User unloaded"),
        this._silentRenewError = new Yc("Silent renew error"),
        this._userSignedIn = new Yc("User signed in"),
        this._userSignedOut = new Yc("User signed out"),
        this._userSessionChanged = new Yc("User session changed")
    }
    load(t, n=!0) {
        return ue(this, null, function*() {
            Th(e.prototype, this, "load").call(this, t),
            n && (yield this._userLoaded.raise(t))
        })
    }
    unload() {
        return ue(this, null, function*() {
            Th(e.prototype, this, "unload").call(this),
            yield this._userUnloaded.raise()
        })
    }
    addUserLoaded(t) {
        return this._userLoaded.addHandler(t)
    }
    removeUserLoaded(t) {
        return this._userLoaded.removeHandler(t)
    }
    addUserUnloaded(t) {
        return this._userUnloaded.addHandler(t)
    }
    removeUserUnloaded(t) {
        return this._userUnloaded.removeHandler(t)
    }
    addSilentRenewError(t) {
        return this._silentRenewError.addHandler(t)
    }
    removeSilentRenewError(t) {
        return this._silentRenewError.removeHandler(t)
    }
    _raiseSilentRenewError(t) {
        return ue(this, null, function*() {
            yield this._silentRenewError.raise(t)
        })
    }
    addUserSignedIn(t) {
        return this._userSignedIn.addHandler(t)
    }
    removeUserSignedIn(t) {
        this._userSignedIn.removeHandler(t)
    }
    _raiseUserSignedIn() {
        return ue(this, null, function*() {
            yield this._userSignedIn.raise()
        })
    }
    addUserSignedOut(t) {
        return this._userSignedOut.addHandler(t)
    }
    removeUserSignedOut(t) {
        this._userSignedOut.removeHandler(t)
    }
    _raiseUserSignedOut() {
        return ue(this, null, function*() {
            yield this._userSignedOut.raise()
        })
    }
    addUserSessionChanged(t) {
        return this._userSessionChanged.addHandler(t)
    }
    removeUserSessionChanged(t) {
        this._userSessionChanged.removeHandler(t)
    }
    _raiseUserSessionChanged() {
        return ue(this, null, function*() {
            yield this._userSessionChanged.raise()
        })
    }
}
  , Tz = class {
    constructor(e) {
        this._userManager = e,
        this._logger = new Ht("SilentRenewService"),
        this._isStarted = !1,
        this._retryTimer = new qa("Retry Silent Renew"),
        this._tokenExpiring = () => ue(this, null, function*() {
            let t = this._logger.create("_tokenExpiring");
            try {
                yield this._userManager.signinSilent(),
                t.debug("silent token renewal successful")
            } catch (n) {
                if (n instanceof U9) {
                    t.warn("ErrorTimeout from signinSilent:", n, "retry in 5s"),
                    this._retryTimer.init(5);
                    return
                }
                t.error("Error from signinSilent:", n),
                yield this._userManager.events._raiseSilentRenewError(n)
            }
        })
    }
    start() {
        return ue(this, null, function*() {
            let e = this._logger.create("start");
            if (!this._isStarted) {
                this._isStarted = !0,
                this._userManager.events.addAccessTokenExpiring(this._tokenExpiring),
                this._retryTimer.addHandler(this._tokenExpiring);
                try {
                    yield this._userManager.getUser()
                } catch (t) {
                    e.error("getUser error", t)
                }
            }
        })
    }
    stop() {
        this._isStarted && (this._retryTimer.cancel(),
        this._retryTimer.removeHandler(this._tokenExpiring),
        this._userManager.events.removeAccessTokenExpiring(this._tokenExpiring),
        this._isStarted = !1)
    }
}
  , Oz = class {
    constructor(e) {
        this.refresh_token = e.refresh_token,
        this.id_token = e.id_token,
        this.session_state = e.session_state,
        this.scope = e.scope,
        this.profile = e.profile,
        this.data = e.state
    }
}
  , dT = class {
    constructor(e, t, n, i) {
        this._logger = new Ht("UserManager"),
        this.settings = new yz(e),
        this._client = new gz(e),
        this._redirectNavigator = t ?? new Cz(this.settings),
        this._popupNavigator = n ?? new wz(this.settings),
        this._iframeNavigator = i ?? new bz(this.settings),
        this._events = new Ez(this.settings),
        this._silentRenewService = new Tz(this),
        this.settings.automaticSilentRenew && this.startSilentRenew(),
        this._sessionMonitor = null,
        this.settings.monitorSession && (this._sessionMonitor = new mz(this))
    }
    get events() {
        return this._events
    }
    get metadataService() {
        return this._client.metadataService
    }
    getUser() {
        return ue(this, null, function*() {
            let e = this._logger.create("getUser")
              , t = yield this._loadUser();
            return t ? (e.info("user loaded"),
            yield this._events.load(t, !1),
            t) : (e.info("user not found in storage"),
            null)
        })
    }
    removeUser() {
        return ue(this, null, function*() {
            let e = this._logger.create("removeUser");
            yield this.storeUser(null),
            e.info("user removed from storage"),
            yield this._events.unload()
        })
    }
    signinRedirect() {
        return ue(this, arguments, function*(e={}) {
            var t;
            this._logger.create("signinRedirect");
            let o = e, {redirectMethod: n} = o, i = tr(o, ["redirectMethod"]), r;
            (t = this.settings.dpop) != null && t.bind_authorization_code && (r = yield this.generateDPoPJkt(this.settings.dpop));
            let s = yield this._redirectNavigator.prepare({
                redirectMethod: n
            });
            yield this._signinStart(C({
                request_type: "si:r",
                dpopJkt: r
            }, i), s)
        })
    }
    signinRedirectCallback() {
        return ue(this, arguments, function*(e=window.location.href) {
            let t = this._logger.create("signinRedirectCallback")
              , n = yield this._signinEnd(e);
            return n.profile && n.profile.sub ? t.info("success, signed in subject", n.profile.sub) : t.info("no subject"),
            n
        })
    }
    signinResourceOwnerCredentials(i) {
        return ue(this, arguments, function*({username: e, password: t, skipUserInfo: n=!1}) {
            let r = this._logger.create("signinResourceOwnerCredential")
              , s = yield this._client.processResourceOwnerPasswordCredentials({
                username: e,
                password: t,
                skipUserInfo: n,
                extraTokenParams: this.settings.extraTokenParams
            });
            r.debug("got signin response");
            let o = yield this._buildUser(s);
            return o.profile && o.profile.sub ? r.info("success, signed in subject", o.profile.sub) : r.info("no subject"),
            o
        })
    }
    signinPopup() {
        return ue(this, arguments, function*(e={}) {
            var t;
            let n = this._logger.create("signinPopup"), i;
            (t = this.settings.dpop) != null && t.bind_authorization_code && (i = yield this.generateDPoPJkt(this.settings.dpop));
            let h = e
              , {popupWindowFeatures: r, popupWindowTarget: s, popupSignal: o} = h
              , a = tr(h, ["popupWindowFeatures", "popupWindowTarget", "popupSignal"])
              , c = this.settings.popup_redirect_uri;
            c || n.throw(new Error("No popup_redirect_uri configured"));
            let l = yield this._popupNavigator.prepare({
                popupWindowFeatures: r,
                popupWindowTarget: s,
                popupSignal: o
            })
              , u = yield this._signin(C({
                request_type: "si:p",
                redirect_uri: c,
                display: "popup",
                dpopJkt: i
            }, a), l);
            return u && (u.profile && u.profile.sub ? n.info("success, signed in subject", u.profile.sub) : n.info("no subject")),
            u
        })
    }
    signinPopupCallback() {
        return ue(this, arguments, function*(e=window.location.href, t=!1) {
            let n = this._logger.create("signinPopupCallback");
            yield this._popupNavigator.callback(e, {
                keepOpen: t
            }),
            n.info("success")
        })
    }
    signinSilent() {
        return ue(this, arguments, function*(e={}) {
            var t, n;
            let i = this._logger.create("signinSilent")
              , h = e
              , {silentRequestTimeoutInSeconds: r} = h
              , s = tr(h, ["silentRequestTimeoutInSeconds"])
              , o = yield this._loadUser();
            if (o?.refresh_token) {
                i.debug("using refresh token");
                let d = new Oz(o);
                return yield this._useRefreshToken({
                    state: d,
                    redirect_uri: s.redirect_uri,
                    resource: s.resource,
                    extraTokenParams: s.extraTokenParams,
                    timeoutInSeconds: r
                })
            }
            let a;
            (t = this.settings.dpop) != null && t.bind_authorization_code && (a = yield this.generateDPoPJkt(this.settings.dpop));
            let c = this.settings.silent_redirect_uri;
            c || i.throw(new Error("No silent_redirect_uri configured"));
            let l;
            o && this.settings.validateSubOnSilentRenew && (i.debug("subject prior to silent renew:", o.profile.sub),
            l = o.profile.sub);
            let u = yield this._iframeNavigator.prepare({
                silentRequestTimeoutInSeconds: r
            });
            return o = yield this._signin(C({
                request_type: "si:s",
                redirect_uri: c,
                prompt: "none",
                id_token_hint: this.settings.includeIdTokenInSilentRenew ? o?.id_token : void 0,
                dpopJkt: a
            }, s), u, l),
            o && ((n = o.profile) != null && n.sub ? i.info("success, signed in subject", o.profile.sub) : i.info("no subject")),
            o
        })
    }
    _useRefreshToken(e) {
        return ue(this, null, function*() {
            let t = yield this._client.useRefreshToken(C({
                timeoutInSeconds: this.settings.silentRequestTimeoutInSeconds
            }, e))
              , n = new A9(C(C({}, e.state), t));
            return yield this.storeUser(n),
            yield this._events.load(n),
            n
        })
    }
    signinSilentCallback() {
        return ue(this, arguments, function*(e=window.location.href) {
            let t = this._logger.create("signinSilentCallback");
            yield this._iframeNavigator.callback(e),
            t.info("success")
        })
    }
    signinCallback() {
        return ue(this, arguments, function*(e=window.location.href) {
            let {state: t} = yield this._client.readSigninResponseState(e);
            switch (t.request_type) {
            case "si:r":
                return yield this.signinRedirectCallback(e);
            case "si:p":
                yield this.signinPopupCallback(e);
                break;
            case "si:s":
                yield this.signinSilentCallback(e);
                break;
            default:
                throw new Error("invalid response_type in state")
            }
        })
    }
    signoutCallback() {
        return ue(this, arguments, function*(e=window.location.href, t=!1) {
            let {state: n} = yield this._client.readSignoutResponseState(e);
            if (n)
                switch (n.request_type) {
                case "so:r":
                    return yield this.signoutRedirectCallback(e);
                case "so:p":
                    yield this.signoutPopupCallback(e, t);
                    break;
                case "so:s":
                    yield this.signoutSilentCallback(e);
                    break;
                default:
                    throw new Error("invalid response_type in state")
                }
        })
    }
    querySessionStatus() {
        return ue(this, arguments, function*(e={}) {
            let t = this._logger.create("querySessionStatus")
              , c = e
              , {silentRequestTimeoutInSeconds: n} = c
              , i = tr(c, ["silentRequestTimeoutInSeconds"])
              , r = this.settings.silent_redirect_uri;
            r || t.throw(new Error("No silent_redirect_uri configured"));
            let s = yield this._loadUser()
              , o = yield this._iframeNavigator.prepare({
                silentRequestTimeoutInSeconds: n
            })
              , a = yield this._signinStart(C({
                request_type: "si:s",
                redirect_uri: r,
                prompt: "none",
                id_token_hint: this.settings.includeIdTokenInSilentRenew ? s?.id_token : void 0,
                response_type: this.settings.query_status_response_type,
                scope: "openid",
                skipUserInfo: !0
            }, i), o);
            try {
                let l = {}
                  , u = yield this._client.processSigninResponse(a.url, l);
                return t.debug("got signin response"),
                u.session_state && u.profile.sub ? (t.info("success for subject", u.profile.sub),
                {
                    session_state: u.session_state,
                    sub: u.profile.sub
                }) : (t.info("success, user not authenticated"),
                null)
            } catch (l) {
                if (this.settings.monitorAnonymousSession && l instanceof y0)
                    switch (l.error) {
                    case "login_required":
                    case "consent_required":
                    case "interaction_required":
                    case "account_selection_required":
                        return t.info("success for anonymous user"),
                        {
                            session_state: l.session_state
                        }
                    }
                throw l
            }
        })
    }
    _signin(e, t, n) {
        return ue(this, null, function*() {
            let i = yield this._signinStart(e, t);
            return yield this._signinEnd(i.url, n)
        })
    }
    _signinStart(e, t) {
        return ue(this, null, function*() {
            let n = this._logger.create("_signinStart");
            try {
                let i = yield this._client.createSigninRequest(e);
                return n.debug("got signin request"),
                yield t.navigate({
                    url: i.url,
                    state: i.state.id,
                    response_mode: i.state.response_mode,
                    scriptOrigin: this.settings.iframeScriptOrigin
                })
            } catch (i) {
                throw n.debug("error after preparing navigator, closing navigator window"),
                t.close(),
                i
            }
        })
    }
    _signinEnd(e, t) {
        return ue(this, null, function*() {
            let n = this._logger.create("_signinEnd")
              , i = {}
              , r = yield this._client.processSigninResponse(e, i);
            return n.debug("got signin response"),
            yield this._buildUser(r, t)
        })
    }
    _buildUser(e, t) {
        return ue(this, null, function*() {
            let n = this._logger.create("_buildUser")
              , i = new A9(e);
            if (t) {
                if (t !== i.profile.sub)
                    throw n.debug("current user does not match user returned from signin. sub from signin:", i.profile.sub),
                    new y0(ve(C({}, e), {
                        error: "login_required"
                    }));
                n.debug("current user matches user returned from signin")
            }
            return yield this.storeUser(i),
            n.debug("user stored"),
            yield this._events.load(i),
            i
        })
    }
    signoutRedirect() {
        return ue(this, arguments, function*(e={}) {
            let t = this._logger.create("signoutRedirect")
              , s = e
              , {redirectMethod: n} = s
              , i = tr(s, ["redirectMethod"])
              , r = yield this._redirectNavigator.prepare({
                redirectMethod: n
            });
            yield this._signoutStart(C({
                request_type: "so:r",
                post_logout_redirect_uri: this.settings.post_logout_redirect_uri
            }, i), r),
            t.info("success")
        })
    }
    signoutRedirectCallback() {
        return ue(this, arguments, function*(e=window.location.href) {
            let t = this._logger.create("signoutRedirectCallback")
              , n = yield this._signoutEnd(e);
            return t.info("success"),
            n
        })
    }
    signoutPopup() {
        return ue(this, arguments, function*(e={}) {
            let t = this._logger.create("signoutPopup")
              , c = e
              , {popupWindowFeatures: n, popupWindowTarget: i, popupSignal: r} = c
              , s = tr(c, ["popupWindowFeatures", "popupWindowTarget", "popupSignal"])
              , o = this.settings.popup_post_logout_redirect_uri
              , a = yield this._popupNavigator.prepare({
                popupWindowFeatures: n,
                popupWindowTarget: i,
                popupSignal: r
            });
            yield this._signout(C({
                request_type: "so:p",
                post_logout_redirect_uri: o,
                state: o == null ? void 0 : {}
            }, s), a),
            t.info("success")
        })
    }
    signoutPopupCallback() {
        return ue(this, arguments, function*(e=window.location.href, t=!1) {
            let n = this._logger.create("signoutPopupCallback");
            yield this._popupNavigator.callback(e, {
                keepOpen: t
            }),
            n.info("success")
        })
    }
    _signout(e, t) {
        return ue(this, null, function*() {
            let n = yield this._signoutStart(e, t);
            return yield this._signoutEnd(n.url)
        })
    }
    _signoutStart() {
        return ue(this, arguments, function*(e={}, t) {
            var n;
            let i = this._logger.create("_signoutStart");
            try {
                let r = yield this._loadUser();
                i.debug("loaded current user from storage"),
                this.settings.revokeTokensOnSignout && (yield this._revokeInternal(r));
                let s = e.id_token_hint || r && r.id_token;
                s && (i.debug("setting id_token_hint in signout request"),
                e.id_token_hint = s),
                yield this.removeUser(),
                i.debug("user removed, creating signout request");
                let o = yield this._client.createSignoutRequest(e);
                return i.debug("got signout request"),
                yield t.navigate({
                    url: o.url,
                    state: (n = o.state) == null ? void 0 : n.id,
                    scriptOrigin: this.settings.iframeScriptOrigin
                })
            } catch (r) {
                throw i.debug("error after preparing navigator, closing navigator window"),
                t.close(),
                r
            }
        })
    }
    _signoutEnd(e) {
        return ue(this, null, function*() {
            let t = this._logger.create("_signoutEnd")
              , n = yield this._client.processSignoutResponse(e);
            return t.debug("got signout response"),
            n
        })
    }
    signoutSilent() {
        return ue(this, arguments, function*(e={}) {
            var t;
            let n = this._logger.create("signoutSilent")
              , c = e
              , {silentRequestTimeoutInSeconds: i} = c
              , r = tr(c, ["silentRequestTimeoutInSeconds"])
              , s = this.settings.includeIdTokenInSilentSignout ? (t = yield this._loadUser()) == null ? void 0 : t.id_token : void 0
              , o = this.settings.popup_post_logout_redirect_uri
              , a = yield this._iframeNavigator.prepare({
                silentRequestTimeoutInSeconds: i
            });
            yield this._signout(C({
                request_type: "so:s",
                post_logout_redirect_uri: o,
                id_token_hint: s
            }, r), a),
            n.info("success")
        })
    }
    signoutSilentCallback() {
        return ue(this, arguments, function*(e=window.location.href) {
            let t = this._logger.create("signoutSilentCallback");
            yield this._iframeNavigator.callback(e),
            t.info("success")
        })
    }
    revokeTokens(e) {
        return ue(this, null, function*() {
            let t = yield this._loadUser();
            yield this._revokeInternal(t, e)
        })
    }
    _revokeInternal(n) {
        return ue(this, arguments, function*(e, t=this.settings.revokeTokenTypes) {
            let i = this._logger.create("_revokeInternal");
            if (!e)
                return;
            let r = t.filter(s => typeof e[s] == "string");
            if (!r.length) {
                i.debug("no need to revoke due to no token(s)");
                return
            }
            for (let s of r)
                yield this._client.revokeToken(e[s], s),
                i.info(`${s} revoked successfully`),
                s !== "access_token" && (e[s] = null);
            yield this.storeUser(e),
            i.debug("user stored"),
            yield this._events.load(e)
        })
    }
    startSilentRenew() {
        this._logger.create("startSilentRenew"),
        this._silentRenewService.start()
    }
    stopSilentRenew() {
        this._silentRenewService.stop()
    }
    get _userStoreKey() {
        return `user:${this.settings.authority}:${this.settings.client_id}`
    }
    _loadUser() {
        return ue(this, null, function*() {
            let e = this._logger.create("_loadUser")
              , t = yield this.settings.userStore.get(this._userStoreKey);
            return t ? (e.debug("user storageString loaded"),
            A9.fromStorageString(t)) : (e.debug("no user storageString"),
            null)
        })
    }
    storeUser(e) {
        return ue(this, null, function*() {
            let t = this._logger.create("storeUser");
            if (e) {
                t.debug("storing user");
                let n = e.toStorageString();
                yield this.settings.userStore.set(this._userStoreKey, n)
            } else
                this._logger.debug("removing user"),
                yield this.settings.userStore.remove(this._userStoreKey),
                this.settings.dpop && (yield this.settings.dpop.store.remove(this.settings.client_id))
        })
    }
    clearStaleState() {
        return ue(this, null, function*() {
            yield this._client.clearStaleState()
        })
    }
    dpopProof(e, t, n, i) {
        return ue(this, null, function*() {
            var r, s;
            let o = yield(s = (r = this.settings.dpop) == null ? void 0 : r.store) == null ? void 0 : s.get(this.settings.client_id);
            if (o)
                return yield Zr.generateDPoPProof({
                    url: e,
                    accessToken: t?.access_token,
                    httpMethod: n,
                    keyPair: o.keys,
                    nonce: i
                })
        })
    }
    generateDPoPJkt(e) {
        return ue(this, null, function*() {
            let t = yield e.store.get(this.settings.client_id);
            if (!t) {
                let n = yield Zr.generateDPoPKeys();
                t = new oT(n),
                yield e.store.set(this.settings.client_id, t)
            }
            return yield Zr.generateDPoPJkt(t.keys)
        })
    }
}
;
var fT = e => ({
    authority: e.oidcSettings.authority,
    client_id: e.oidcSettings.client_id,
    redirect_uri: e.oidcSettings.redirect_uri,
    post_logout_redirect_uri: e.oidcSettings.post_logout_redirect_uri,
    response_type: e.oidcSettings.response_type,
    scope: e.oidcSettings.scope,
    loadUserInfo: e.oidcSettings.loadUserInfo,
    automaticSilentRenew: !1,
    monitorSession: !1,
    userStore: new H2({
        store: window.sessionStorage
    })
});
var G9 = "crisp";
var ah = "rocket";
var pT = [{
    name: ah,
    src: "/assets/js/rocket-chat.js"
}];
var Pz = function(e) {
    return e.Ascending = "sort-down",
    e.Descending = "sort-up",
    e
}(Pz || {});
var gT = class {
    constructor(t, n) {
        this.state = t,
        this.controlId = n
    }
}
;
var H1 = function(e) {
    return e[e.Default = 0] = "Default",
    e[e.Fund = 1] = "Fund",
    e
}(H1 || {})
  , E3e = {
    line: "line",
    candle: "candle"
}
  , b0 = function(e) {
    return e.daily = "daily",
    e.weekly = "weekly",
    e.monthly = "monthly",
    e.tripleMonth = "3monthly",
    e.semiyearly = "6monthly",
    e.yearly = "yearly",
    e.tripleYear = "3yearly",
    e
}(b0 || {})
  , T3e = {
    line: "line",
    candle: "candle"
};
var G2 = function(e) {
    return e[e.Logout = 0] = "Logout",
    e
}(G2 || {});
var mT = ( () => {
    let t = class t {
        constructor(i, r) {
            this.storage = i,
            this.key = "build_no",
            this.currentBuildNumber = r.build
        }
        isNewVersion() {
            let i = this.storage.getItem(this.key);
            return this.currentBuildNumber != i
        }
        setCurrentVersion() {
            this.storage.setItem(this.key, this.currentBuildNumber)
        }
    }
    ;
    t.\u0275fac = function(r) {
        return new (r || t)(xe(Tc),xe(xn))
    }
    ,
    t.\u0275prov = re({
        token: t,
        factory: t.\u0275fac,
        providedIn: "root"
    });
    let e = t;
    return e
}
)();
var w2e = ( () => {
    let t = class t {
        constructor() {
            this.defaultTitle = "EasyTrader",
            this.defaultRoute = ei.MAIN_ROUTE,
            this.titleSubject = new Ne({
                route: this.defaultRoute,
                title: this.defaultTitle
            }),
            this.titleObservable$ = this.titleSubject.asObservable(),
            this.updateTitle = (i, r) => this.titleSubject.next({
                route: i,
                title: r
            }),
            this.resetTitle = () => this.titleSubject.next({
                route: this.defaultRoute,
                title: this.defaultTitle
            }),
            this.titleObservable$.pipe().subscribe({
                next: i => {
                    this.setTitle(i.route, i.title)
                }
            })
        }
        setTitle(i, r) {
            window.document.location.pathname.split("/")[1] === i.toString() && (document.title = r)
        }
    }
    ;
    t.\u0275fac = function(r) {
        return new (r || t)
    }
    ,
    t.\u0275prov = re({
        token: t,
        factory: t.\u0275fac,
        providedIn: "root"
    });
    let e = t;
    return e
}
)();
var V2 = ( () => {
    let t = class t {
        constructor() {
            this.checkNetworkStatus()
        }
        checkNetworkStatus() {
            this.networkStatus$ = nc(Be(null), sn(window, "online"), sn(window, "offline")).pipe($e( () => navigator.onLine))
        }
    }
    ;
    t.\u0275fac = function(r) {
        return new (r || t)
    }
    ,
    t.\u0275prov = re({
        token: t,
        factory: t.\u0275fac,
        providedIn: "root"
    });
    let e = t;
    return e
}
)();
var V9 = ( () => {
    let t = class t {
        constructor() {
            this.scripts = {},
            this.crispLoadedSub = new Ne(!1),
            this.crispLoaded$ = this.crispLoadedSub.asObservable(),
            this.rocketLoadedSub = new Ne(!1),
            this.rocketLoaded$ = this.rocketLoadedSub.asObservable()
        }
        load(...i) {
            i.forEach(s => {
                this.scripts[s.name] || (this.scripts[s.name] = {
                    loaded: !1,
                    src: s.src
                })
            }
            );
            let r = [];
            return i.forEach(s => r.push(this.loadScript(s.name))),
            Promise.all(r)
        }
        loadScript(i) {
            return new Promise(r => {
                if (this.scripts[i].loaded)
                    r({
                        script: i,
                        loaded: !0,
                        status: "Already Loaded"
                    });
                else {
                    let s = document.createElement("script");
                    s.type = "text/javascript",
                    s.src = this.scripts[i].src,
                    s.async = !0,
                    s.onload = () => {
                        this.scripts[i].loaded = !0,
                        this.checkIfCrispScriptLoaded(),
                        this.checkIfRocketScriptLoaded(),
                        r({
                            script: i,
                            loaded: !0,
                            status: "Loaded"
                        })
                    }
                    ,
                    s.onerror = () => r({
                        script: i,
                        loaded: !1,
                        status: "Loaded"
                    }),
                    document.getElementsByTagName("head")[0].appendChild(s)
                }
            }
            )
        }
        scriptIsLoaded(i) {
            return this.scripts[i] && this.scripts[i].loaded
        }
        checkIfRocketScriptLoaded() {
            this.scriptIsLoaded(ah) && this.rocketLoadedSub.next(!0)
        }
        checkIfCrispScriptLoaded() {
            this.scriptIsLoaded(G9) && this.crispLoadedSub.next(!0)
        }
    }
    ;
    t.\u0275fac = function(r) {
        return new (r || t)
    }
    ,
    t.\u0275prov = re({
        token: t,
        factory: t.\u0275fac,
        providedIn: "root"
    });
    let e = t;
    return e
}
)();
var F2e = ( () => {
    let t = class t {
        constructor() {
            this.enable = !1,
            this.easyKeyboardSubject = new Ne(this.enable),
            this.easyKeyboardState$ = this.easyKeyboardSubject.asObservable(),
            this.keyEventSubject = new lt,
            this.keyEvent$ = this.keyEventSubject.pipe(mt(Boolean)),
            this.updateKeyEvent = i => this.keyEventSubject.next(i)
        }
        changeState(i, r=100) {
            i ? setTimeout( () => {
                this.enable = i,
                this.easyKeyboardSubject.next(i)
            }
            , r) : (this.enable = i,
            this.easyKeyboardSubject.next(i))
        }
    }
    ;
    t.\u0275fac = function(r) {
        return new (r || t)
    }
    ,
    t.\u0275prov = re({
        token: t,
        factory: t.\u0275fac,
        providedIn: "root"
    });
    let e = t;
    return e
}
)();
var $2 = p5(vT(), 1);
var Qc = class e {
    static symbolize(t) {
        let n = {
            command: "\u2318",
            shift: "\u21E7",
            left: "\u2190",
            right: "\u2192",
            up: "\u2191",
            down: "\u2193",
            return: "\u23CE",
            backspace: "\u232B"
        }
          , i = t.split("+");
        for (let r = 0; r < i.length; r++)
            i[r] === "mod" && (window.navigator && window.navigator.platform.indexOf("Mac") >= 0 ? i[r] = "command" : i[r] = "ctrl"),
            i[r] = n[i[r]] || i[r];
        return i.join(" + ")
    }
    constructor(t, n, i, r, s, o) {
        this.combo = t,
        this.callback = n,
        this.allowIn = i,
        this.description = r,
        this.action = s,
        this.persistent = o,
        this.combo = Array.isArray(t) ? t : [t],
        this.allowIn = i || [],
        this.description = r || ""
    }
    get formatted() {
        if (!this.formattedHotkey) {
            let t = [...this.combo];
            for (let n = 0; n < t.length; n++)
                t[n] = e.symbolize(t[n]);
            this.formattedHotkey = t
        }
        return this.formattedHotkey
    }
}
  , _T = new Ze("HotkeyOptions")
  , W9 = ( () => {
    let t = class t {
        constructor(i) {
            this.options = i,
            this.hotkeys = [],
            this.pausedHotkeys = [],
            this.cheatSheetToggle = new lt,
            this.preventIn = ["INPUT", "SELECT", "TEXTAREA"],
            $2.prototype.stopCallback = (r, s, o, a) => (" " + s.className + " ").indexOf(" mousetrap ") > -1 ? !1 : s.contentEditable && s.contentEditable === "true",
            this.mousetrap = new $2.default,
            this.initCheatSheet()
        }
        initCheatSheet() {
            this.options.disableCheatSheet || this.add(new Qc(this.options.cheatSheetHotkey || "?",(function(i) {
                this.cheatSheetToggle.next()
            }
            ).bind(this),[],this.options.cheatSheetDescription || "Show / hide this help menu")),
            this.options.cheatSheetCloseEsc && this.add(new Qc("esc",(function(i) {
                this.cheatSheetToggle.next(!1)
            }
            ).bind(this),["HOTKEYS-CHEATSHEET"],this.options.cheatSheetCloseEscDescription || "Hide this help menu"))
        }
        add(i, r) {
            if (Array.isArray(i)) {
                let s = [];
                for (let o of i)
                    s.push(this.add(o, r));
                return s
            }
            return this.remove(i),
            this.hotkeys.push(i),
            this.mousetrap.bind(i.combo, (s, o) => {
                let a = !0;
                if (s) {
                    let c = s.target || s.srcElement
                      , l = c.nodeName.toUpperCase();
                    (" " + c.className + " ").indexOf(" mousetrap ") > -1 ? a = !0 : this.preventIn.indexOf(l) > -1 && i.allowIn.map(u => u.toUpperCase()).indexOf(l) === -1 && (a = !1)
                }
                if (a)
                    return i.callback.apply(this, [s, o])
            }
            , r),
            i
        }
        remove(i, r) {
            let s = [];
            if (!i) {
                for (let a of this.hotkeys)
                    s.push(this.remove(a, r));
                return s
            }
            if (Array.isArray(i)) {
                for (let a of i)
                    s.push(this.remove(a));
                return s
            }
            let o = this.findHotkey(i);
            return o > -1 ? (this.hotkeys.splice(o, 1),
            this.mousetrap.unbind(i.combo, r),
            i) : null
        }
        get(i) {
            if (!i)
                return this.hotkeys;
            if (Array.isArray(i)) {
                let r = [];
                for (let s of i)
                    r.push(this.get(s));
                return r
            }
            for (let r of this.hotkeys)
                if (r.combo.indexOf(i) > -1)
                    return r;
            return null
        }
        pause(i) {
            if (!i)
                return this.pause(this.hotkeys);
            if (Array.isArray(i)) {
                let r = [];
                for (let s of i.slice())
                    r.push(this.pause(s));
                return r
            }
            return this.remove(i),
            this.pausedHotkeys.push(i),
            i
        }
        unpause(i) {
            if (!i)
                return this.unpause(this.pausedHotkeys);
            if (Array.isArray(i)) {
                let s = [];
                for (let o of i.slice())
                    s.push(this.unpause(o));
                return s
            }
            let r = this.pausedHotkeys.indexOf(i);
            return r > -1 ? (this.add(i),
            this.pausedHotkeys.splice(r, 1)) : null
        }
        reset() {
            this.mousetrap.reset(),
            this.hotkeys = [],
            this.pausedHotkeys = [],
            this.initCheatSheet()
        }
        findHotkey(i) {
            return this.hotkeys.indexOf(i)
        }
    }
    ;
    t.\u0275fac = function(r) {
        return new (r || t)(xe(_T))
    }
    ,
    t.\u0275prov = re({
        token: t,
        factory: t.\u0275fac,
        providedIn: "root"
    });
    let e = t;
    return e
}
)();
var X2e = ( () => {
    let t = class t {
        static forRoot(i={}) {
            return {
                ngModule: t,
                providers: [W9, {
                    provide: _T,
                    useValue: i
                }]
            }
        }
    }
    ;
    t.\u0275fac = function(r) {
        return new (r || t)
    }
    ,
    t.\u0275mod = ir({
        type: t
    }),
    t.\u0275inj = nr({
        imports: [fc]
    });
    let e = t;
    return e
}
)();
var J2e = ( () => {
    let t = class t {
        constructor(i) {
            this.hotkeysService = i,
            this.hotkeysSubject = new lt,
            this.hotkeys$ = this.hotkeysSubject.asObservable()
        }
        initHotkeys() {
            this.hotkeys = this.hotkeysService.add([new Qc(Dd.Escape, () => (this.hotkeysSubject.next(Nd.Escape),
            !1)), new Qc(Dd.Plus, () => (this.hotkeysSubject.next(Nd.Plus),
            !1)), new Qc(Dd.Minus, () => (this.hotkeysSubject.next(Nd.Minus),
            !1))])
        }
        removeHotKeys() {
            this.hotkeysService.remove(this.hotkeys)
        }
        resetHotkeys() {
            this.removeHotKeys(),
            this.initHotkeys()
        }
    }
    ;
    t.\u0275fac = function(r) {
        return new (r || t)(xe(W9))
    }
    ,
    t.\u0275prov = re({
        token: t,
        factory: t.\u0275fac,
        providedIn: "root"
    });
    let e = t;
    return e
}
)();
var Iz = ["#BA4A00", "#1C2833", "#21618C", "#34495E", "#B7950B", "#186A3B", "#5B2C6F", "#B03A2E"]
  , yT = (e, t) => (e = Math.ceil(e),
t = Math.floor(t),
Math.floor(Math.random() * (t - e)) + e);
var Rz = () => String.fromCharCode(yT(48, 57))
  , Dz = e => {
    let t = ""
      , n = 0;
    for (; n < e; )
        t += Rz(),
        n++;
    return t
}
  , bT = (e="35px Arial", t="center", n="middle", i=150, r=50, s="transparent", o, a=4) => {
    let c = document.createElement("canvas")
      , l = Dz(a)
      , u = c.getContext("2d");
    u.canvas.width = i,
    u.canvas.height = r,
    u.font = e,
    u.textAlign = t,
    u.textBaseline = n,
    u.fillStyle = s;
    let h = new Image;
    return h.src = "../assets/images/captcha-bg1.jpg",
    h.onload = function() {
        u.drawImage(h, 0, 0),
        u.fillRect(0, 0, i, r),
        u.fillStyle = o ?? Iz[yT(0, 8)] + "75",
        u.fillText(l, i / 2, r / 2)
    }
    ,
    {
        canvas: u.canvas,
        word: l
    }
}
;
var $9 = e => ({
    "is-invalid": e
});
function Fz(e, t) {
    e & 1 && (H(0, "div")(1, "small", 47),
    oe(2, " \u0634\u0645\u0627\u0631\u0647 \u0647\u0645\u0631\u0627\u0647 / \u06A9\u062F \u0645\u0644\u06CC / \u0646\u0627\u0645 \u06A9\u0627\u0631\u0628\u0631\u06CC \u0631\u0627 \u0648\u0627\u0631\u062F \u06A9\u0646\u06CC\u062F. "),
    W()())
}
function Lz(e, t) {
    if (e & 1 && (H(0, "div", 11),
    at(1, Fz, 3, 0, "div"),
    W()),
    e & 2) {
        let n = Te();
        Q(),
        tt(n.username.errors.required ? 1 : -1)
    }
}
function Bz(e, t) {
    e & 1 && (H(0, "div")(1, "small", 47),
    oe(2, " \u0631\u0645\u0632 \u0639\u0628\u0648\u0631 \u0631\u0627 \u0648\u0627\u0631\u062F \u06A9\u0646\u06CC\u062F. "),
    W()())
}
function Uz(e, t) {
    if (e & 1 && (H(0, "div", 19),
    at(1, Bz, 3, 0, "div"),
    W()),
    e & 2) {
        let n = Te();
        Q(),
        tt(n.password.errors.required ? 1 : -1)
    }
}
function Hz(e, t) {
    e & 1 && (H(0, "small", 47),
    oe(1, " \u06A9\u062F \u0627\u0645\u0646\u06CC\u062A\u06CC \u062F\u0631\u0633\u062A \u0631\u0627 \u0648\u0627\u0631\u062F \u06A9\u0646\u06CC\u062F. "),
    W())
}
function Gz(e, t) {
    if (e & 1 && (H(0, "div", 33),
    at(1, Hz, 2, 0, "small", 47),
    W()),
    e & 2) {
        let n = Te();
        Q(),
        tt(n.captcha.errors.required ? 1 : -1)
    }
}
var ppe = ( () => {
    let t = class t {
        constructor() {
            this.userDeviceService = z(hr),
            this.environment = z(xn),
            this.IsMobile = wi(this.userDeviceService.deviceType$.pipe($e(i => i === yn.Mobile))),
            this.icons = $t,
            this.captchaWord = "",
            this.showPassWord = wt(!1),
            this.inProgress = wt(!1),
            this.isFormInValid = wt(!1),
            this.isCaptchaInValid = wt(!1),
            this.authService = z(Dr),
            this.formBuilder = z(Xv)
        }
        get username() {
            return this.loginForm.get("username")
        }
        get password() {
            return this.loginForm.get("password")
        }
        get captcha() {
            return this.loginForm.get("captcha")
        }
        ngOnInit() {
            this.loginForm = this.formBuilder.group({
                username: ["", [pl.required, pl.maxLength(40)]],
                password: ["", [pl.required, pl.maxLength(40)]],
                captcha: ["", [pl.required, pl.maxLength(4)]]
            }),
            this.createCaptcha()
        }
        onFormSubmit() {
            if (this.inProgress() || (this.isFormInValid.set(!this.loginForm.valid),
            this.isFormInValid()))
                return;
            let i = this.loginForm.value;
            this.isCaptchaInValid.set(i.captcha !== this.captchaWord),
            !this.isCaptchaInValid() && (this.inProgress.set(!0),
            this.authService.loginForPasswordGrantType(i).pipe(gr( () => this.createCaptcha()), on( () => (this.inProgress.set(!1),
            Ur))).subscribe())
        }
        createCaptcha() {
            let i = document.getElementsByTagName("canvas")[0];
            i && i.parentNode.removeChild(i);
            let r = bT();
            document.getElementById("div-captcha")?.appendChild(r.canvas),
            this.captchaWord = r.word
        }
    }
    ;
    t.\u0275fac = function(r) {
        return new (r || t)
    }
    ,
    t.\u0275cmp = Ye({
        type: t,
        selectors: [["app-login"]],
        decls: 100,
        vars: 43,
        consts: [[1, "BG", "text-dark"], [1, "organizer"], [1, "main-section", "d-flex"], [1, "sections"], ["height", "45", "srcset", "../../assets/images/bull-Only-color.png"], [1, "title"], [3, "submit", "formGroup"], [1, "form-group", "mb-2"], ["for", "username", 1, "label"], [1, "passwordField", "position-relative"], ["id", "username", "name", "username", "formControlName", "username", "tabindex", "1", "autofocus", "", "data-val-regex", "\u0627\u0637\u0644\u0627\u0639\u0627\u062A \u0648\u0627\u0631\u062F \u0634\u062F\u0647 \u0642\u0627\u0628\u0644 \u0642\u0628\u0648\u0644 \u0646\u06CC\u0633\u062A.", "data-val-regex-pattern", "[a-zA-Z0-9.\\-_@]{6,32}", "data-val-required", "\u0634\u0645\u0627\u0631\u0647 \u0647\u0645\u0631\u0627\u0647 / \u06A9\u062F \u0645\u0644\u06CC / \u0646\u0627\u0645 \u06A9\u0627\u0631\u0628\u0631\u06CC \u0631\u0627 \u0648\u0627\u0631\u062F \u06A9\u0646\u06CC\u062F.", "aria-describedby", "username-error", "aria-invalid", "false", 2, "padding-left", "40px", 3, "ngClass"], [1, "text-warning", "mt-2", "position-absolute", 2, "bottom", "-20px"], ["data-valmsg-for", "username", "data-valmsg-replace", "true", 1, "field-validation-valid"], ["id", "input_vk_1_con", 1, "vr-keyboard-section"], [1, "simple-keyboard-con"], [1, "simple-keyboard"], ["for", "password", 1, "label"], [1, "passwordField"], ["autocomplete", "new-password", "id", "password", "name", "password", "formControlName", "password", "tabindex", "2", "data-val", "true", "data-val-required", "\u0631\u0645\u0632 \u0639\u0628\u0648\u0631 \u0631\u0627 \u0648\u0627\u0631\u062F \u06A9\u0646\u06CC\u062F.", "aria-describedby", "Password-error", "aria-invalid", "false", 2, "padding-left", "60px", 3, "type", "ngClass"], [1, "text-warning", "mt-2", "position-absolute", 2, "bottom", "-21px"], [1, "align-items-center", "d-flex", "eye-icon", "h-100", "justify-content-center"], ["width", "18", "height", "18", 1, "hand", "text-secondary", 3, "click", "iconName"], ["data-valmsg-for", "password", "data-valmsg-replace", "true", 1, "field-validation-valid"], ["id", "input_vk_2_con", 1, "vr-keyboard-section"], [1, "text-end", "mt-1"], [1, "footer-link", 3, "href"], [1, "form-group"], [1, "label"], ["id", "captcha", "name", "captcha", "formControlName", "captcha", "tabindex", "3", "autofocus", "", "aria-describedby", "captcha-error", "aria-invalid", "false", 1, "placeHolder", "form-control", "ltr", "bg-transparent", 2, "padding-left", "40px", 3, "ngClass"], ["id", "div-captcha", 1, "border-end", "d-flex", "flex-grow-1", "justify-content-center"], [1, "cup", "d-flex", "align-items-center", 3, "click"], ["width", "24", "height", "24", 1, "px-2", "text-secondary", 3, "iconName"], [1, "actions"], [1, "text-warning", "position-absolute", "bottom-0"], [1, "btn-class"], ["type", "hidden", "name", "button", "id", "button"], ["type", "submit", "tabindex", "4", "id", "submit_btn", 1, "btn-primary", 3, "disabled"], [1, "loading", 2, "display", "none"], [1, "btn-class", "py-4", "m-0"], [1, "btn-secondary", 3, "href"], [1, "security-rules", "d-block", "d-lg-none"], [1, "text-start"], [1, "h6", "mb-2"], ["href", "https://learning.emofid.com/%d8%b1%d9%88%db%8c%d9%87-%d8%a7%d8%b1%d8%a7%d8%a6%d9%87-%d8%ae%d8%af%d9%85%d8%a7%d8%aa-%d9%88-%d8%a7%d9%86%d8%ac%d8%a7%d9%85-%d9%85%d8%b9%d8%a7%d9%85%d9%84%d8%a7%d8%aa-%d8%a8%d8%b1%d8%ae%d8%b7/"], [1, "BG-in", "align-items-end"], [1, "security-rules"], ["srcset", "../../assets/images/steadyProgress.png", "alt", "\u06A9\u0627\u0631\u06AF\u0632\u0627\u0631\u06CC \u0645\u0641\u06CC\u062F"], [1, "form-text", "text-danger"]],
        template: function(r, s) {
            r & 1 && (H(0, "div", 0)(1, "div")(2, "div", 1)(3, "div")(4, "div")(5, "div", 2)(6, "div", 3)(7, "div"),
            me(8, "img", 4),
            H(9, "h6", 5),
            oe(10, " \u0648\u0631\u0648\u062F "),
            H(11, "span"),
            oe(12, "\u0628\u0647 \u0627\u06CC\u0632\u06CC\u200C\u062A\u0631\u06CC\u062F\u0631"),
            W()()(),
            H(13, "form", 6),
            Qe("submit", function() {
                return s.onFormSubmit()
            }),
            H(14, "fieldset")(15, "div", 7)(16, "label", 8),
            oe(17, "\u0634\u0645\u0627\u0631\u0647 \u0647\u0645\u0631\u0627\u0647 / \u06A9\u062F \u0645\u0644\u06CC / \u0646\u0627\u0645 \u06A9\u0627\u0631\u0628\u0631\u06CC"),
            W(),
            H(18, "div", 9),
            me(19, "input", 10),
            at(20, Lz, 2, 1, "div", 11),
            W(),
            me(21, "span", 12),
            H(22, "div", 13)(23, "div", 14),
            me(24, "div", 15),
            W()()(),
            H(25, "div", 7)(26, "label", 16),
            oe(27, "\u0631\u0645\u0632 \u0639\u0628\u0648\u0631"),
            W(),
            H(28, "div", 17),
            me(29, "input", 18),
            at(30, Uz, 2, 1, "div", 19),
            H(31, "span", 20)(32, "svg-icon", 21),
            Qe("click", function() {
                return s.showPassWord.set(!s.showPassWord())
            }),
            W()()(),
            me(33, "span", 22)(34, "div", 23),
            H(35, "div", 24)(36, "a", 25),
            oe(37, " \u0631\u0645\u0632 \u0639\u0628\u0648\u0631 \u062E\u0648\u062F \u0631\u0627 \u0641\u0631\u0627\u0645\u0648\u0634 \u06A9\u0631\u062F\u0647\u200C\u0627\u0645 "),
            W()()(),
            H(38, "div", 26)(39, "label", 27),
            oe(40, "\u06A9\u062F \u0627\u0645\u0646\u06CC\u062A\u06CC"),
            W(),
            H(41, "div"),
            me(42, "input", 28)(43, "div", 29),
            H(44, "div", 30),
            Qe("click", function() {
                return s.createCaptcha()
            }),
            me(45, "svg-icon", 31),
            W()(),
            H(46, "div", 32),
            at(47, Gz, 2, 1, "div", 33),
            W()(),
            H(48, "div", 34),
            me(49, "input", 35),
            H(50, "button", 36),
            oe(51, " \u0648\u0631\u0648\u062F "),
            me(52, "div", 37),
            W()()()()()(),
            H(53, "div", 38)(54, "a", 39),
            oe(55, " \u0627\u06CC\u062C\u0627\u062F \u062D\u0633\u0627\u0628 "),
            me(56, "div", 37),
            W()(),
            H(57, "div", 40)(58, "div", 41)(59, "p", 42),
            oe(60, "\u0646\u06A9\u0627\u062A \u0627\u0645\u0646\u06CC\u062A\u06CC"),
            W(),
            H(61, "ul")(62, "li"),
            oe(63, " \u0633\u0627\u06CC\u062A \u06A9\u0627\u0631\u06AF\u0632\u0627\u0631\u06CC \u0645\u0641\u06CC\u062F \u0628\u0627 \u0627\u0633\u062A\u0641\u0627\u062F\u0647 \u0627\u0632 \u067E\u0631\u0648\u062A\u06A9\u0644 \u0627\u0645\u0646 SSL \u0628\u0647 \u0645\u0634\u062A\u0631\u06CC\u0627\u0646 \u062E\u0648\u062F \u0627\u0631\u0627\u0626\u0647 \u062E\u062F\u0645\u062A \u0646\u0645\u0648\u062F\u0647 \u0648 \u0628\u0627 \u0622\u062F\u0631\u0633 https://account.emofid.com \u0634\u0631\u0648\u0639 \u0645\u06CC \u0634\u0648\u062F. "),
            W(),
            H(64, "li"),
            oe(65, " \u0644\u0637\u0641\u0627 \u067E\u06CC\u0634 \u0627\u0632 \u0648\u0631\u0648\u062F \u0647\u0631\u06AF\u0648\u0646\u0647 \u0627\u0637\u0644\u0627\u0639\u0627\u062A\u060C \u0622\u062F\u0631\u0633 \u0645\u0648\u062C\u0648\u062F \u062F\u0631 \u0628\u062E\u0634 \u0645\u0631\u0648\u0631\u06AF\u0631 \u0648\u0628 \u062E\u0648\u062F \u0631\u0627 \u0628\u0627 \u0622\u062F\u0631\u0633 \u0641\u0648\u0642 \u0645\u0642\u0627\u06CC\u0633\u0647 \u0646\u0645\u0627\u06CC\u06CC\u062F \u0648 \u062F\u0631\u0635\u0648\u0631\u062A \u0645\u0634\u0627\u0647\u062F\u0647 \u0647\u0631 \u0646\u0648\u0639 \u0645\u063A\u0627\u06CC\u0631\u062A \u0627\u062D\u062A\u0645\u0627\u0644\u06CC\u060C \u0627\u0632 \u0627\u062F\u0627\u0645\u0647 \u06A9\u0627\u0631 \u0645\u0646\u0635\u0631\u0641 \u0634\u062F\u0647 \u0648 \u0645\u0648\u0636\u0648\u0639 \u0631\u0627 \u0628\u0627 \u0645\u0627 \u062F\u0631 \u0645\u06CC\u0627\u0646 \u0628\u06AF\u0630\u0627\u0631\u06CC\u062F. "),
            W(),
            H(66, "li"),
            oe(67, " \u0628\u0631\u0627\u06CC \u062D\u0641\u0627\u0638\u062A \u0627\u0632 \u0627\u0637\u0644\u0627\u0639\u0627\u062A \u062D\u0633\u0627\u0628 \u06A9\u0627\u0631\u0628\u0631\u06CC \u062E\u0648\u062F\u060C \u062D\u062A\u06CC \u0627\u0644\u0645\u0642\u062F\u0648\u0631 \u0627\u0632 \u0635\u0641\u062D\u0647 \u06A9\u0644\u06CC\u062F \u0645\u062C\u0627\u0632\u06CC \u0627\u0633\u062A\u0641\u0627\u062F\u0647 \u0646\u0645\u0627\u06CC\u06CC\u062F. "),
            W(),
            H(68, "li"),
            oe(69, " \u0647\u0631\u06AF\u0632 \u0627\u0637\u0644\u0627\u0639\u0627\u062A \u062D\u0633\u0627\u0628 \u06A9\u0627\u0631\u0628\u0631\u06CC (\u0646\u0627\u0645 \u06A9\u0627\u0631\u0628\u0631\u06CC \u0648 \u0631\u0645\u0632 \u0639\u0628\u0648\u0631) \u062E\u0648\u062F \u0631\u0627 \u062F\u0631 \u0627\u062E\u062A\u06CC\u0627\u0631 \u062F\u06CC\u06AF\u0631\u0627\u0646 \u0642\u0631\u0627\u0631 \u0646\u062F\u0647\u06CC\u062F. "),
            W(),
            H(70, "li"),
            oe(71, "\u067E\u0633 \u0627\u0632 \u0627\u062A\u0645\u0627\u0645 \u06A9\u0627\u0631 \u0628\u0627 \u0633\u0627\u0645\u0627\u0646\u0647\u060C \u062D\u062A\u0645\u0627 \u0628\u0631 \u0631\u0648\u06CC \u062F\u06A9\u0645\u0647 \u062E\u0631\u0648\u062C \u0627\u0632 \u0633\u0627\u0645\u0627\u0646\u0647 \u06A9\u0644\u06CC\u06A9 \u0646\u0645\u0627\u06CC\u06CC\u062F."),
            W(),
            H(72, "li")(73, "a", 43)(74, "u"),
            oe(75, " \u0631\u0648\u06CC\u0647 \u0627\u0631\u0627\u0626\u0647 \u062E\u062F\u0645\u0627\u062A \u0648 \u0627\u0646\u062C\u0627\u0645 \u0645\u0639\u0627\u0645\u0644\u0627\u062A \u0628\u0631\u062E\u0637 "),
            W()(),
            oe(76, " \u06A9\u0627\u0631\u06AF\u0632\u0627\u0631\u06CC \u0645\u0641\u06CC\u062F \u0631\u0627 \u0645\u0637\u0627\u0644\u0639\u0647 \u0646\u0645\u0627\u06CC\u06CC\u062F. "),
            W()()()()(),
            H(77, "div")(78, "div", 44)(79, "div", 45),
            me(80, "img", 46),
            H(81, "div", 41)(82, "p", 42),
            oe(83, "\u0646\u06A9\u0627\u062A \u0627\u0645\u0646\u06CC\u062A\u06CC"),
            W(),
            H(84, "ul")(85, "li"),
            oe(86, " \u0633\u0627\u06CC\u062A \u06A9\u0627\u0631\u06AF\u0632\u0627\u0631\u06CC \u0645\u0641\u06CC\u062F \u0628\u0627 \u0627\u0633\u062A\u0641\u0627\u062F\u0647 \u0627\u0632 \u067E\u0631\u0648\u062A\u06A9\u0644 \u0627\u0645\u0646 SSL \u0628\u0647 \u0645\u0634\u062A\u0631\u06CC\u0627\u0646 \u062E\u0648\u062F \u0627\u0631\u0627\u0626\u0647 \u062E\u062F\u0645\u062A \u0646\u0645\u0648\u062F\u0647 \u0648 \u0628\u0627 \u0622\u062F\u0631\u0633 https://account.emofid.com \u0634\u0631\u0648\u0639 \u0645\u06CC \u0634\u0648\u062F. "),
            W(),
            H(87, "li"),
            oe(88, " \u0644\u0637\u0641\u0627 \u067E\u06CC\u0634 \u0627\u0632 \u0648\u0631\u0648\u062F \u0647\u0631\u06AF\u0648\u0646\u0647 \u0627\u0637\u0644\u0627\u0639\u0627\u062A\u060C \u0622\u062F\u0631\u0633 \u0645\u0648\u062C\u0648\u062F \u062F\u0631 \u0628\u062E\u0634 \u0645\u0631\u0648\u0631\u06AF\u0631 \u0648\u0628 \u062E\u0648\u062F \u0631\u0627 \u0628\u0627 \u0622\u062F\u0631\u0633 \u0641\u0648\u0642 \u0645\u0642\u0627\u06CC\u0633\u0647 \u0646\u0645\u0627\u06CC\u06CC\u062F \u0648 \u062F\u0631\u0635\u0648\u0631\u062A \u0645\u0634\u0627\u0647\u062F\u0647 \u0647\u0631 \u0646\u0648\u0639 \u0645\u063A\u0627\u06CC\u0631\u062A \u0627\u062D\u062A\u0645\u0627\u0644\u06CC\u060C \u0627\u0632 \u0627\u062F\u0627\u0645\u0647 \u06A9\u0627\u0631 \u0645\u0646\u0635\u0631\u0641 \u0634\u062F\u0647 \u0648 \u0645\u0648\u0636\u0648\u0639 \u0631\u0627 \u0628\u0627 \u0645\u0627 \u062F\u0631 \u0645\u06CC\u0627\u0646 \u0628\u06AF\u0630\u0627\u0631\u06CC\u062F. "),
            W(),
            H(89, "li"),
            oe(90, " \u0628\u0631\u0627\u06CC \u062D\u0641\u0627\u0638\u062A \u0627\u0632 \u0627\u0637\u0644\u0627\u0639\u0627\u062A \u062D\u0633\u0627\u0628 \u06A9\u0627\u0631\u0628\u0631\u06CC \u062E\u0648\u062F\u060C \u062D\u062A\u06CC \u0627\u0644\u0645\u0642\u062F\u0648\u0631 \u0627\u0632 \u0635\u0641\u062D\u0647 \u06A9\u0644\u06CC\u062F \u0645\u062C\u0627\u0632\u06CC \u0627\u0633\u062A\u0641\u0627\u062F\u0647 \u0646\u0645\u0627\u06CC\u06CC\u062F. "),
            W(),
            H(91, "li"),
            oe(92, " \u0647\u0631\u06AF\u0632 \u0627\u0637\u0644\u0627\u0639\u0627\u062A \u062D\u0633\u0627\u0628 \u06A9\u0627\u0631\u0628\u0631\u06CC (\u0646\u0627\u0645 \u06A9\u0627\u0631\u0628\u0631\u06CC \u0648 \u0631\u0645\u0632 \u0639\u0628\u0648\u0631) \u062E\u0648\u062F \u0631\u0627 \u062F\u0631 \u0627\u062E\u062A\u06CC\u0627\u0631 \u062F\u06CC\u06AF\u0631\u0627\u0646 \u0642\u0631\u0627\u0631 \u0646\u062F\u0647\u06CC\u062F. "),
            W(),
            H(93, "li"),
            oe(94, "\u067E\u0633 \u0627\u0632 \u0627\u062A\u0645\u0627\u0645 \u06A9\u0627\u0631 \u0628\u0627 \u0633\u0627\u0645\u0627\u0646\u0647\u060C \u062D\u062A\u0645\u0627 \u0628\u0631 \u0631\u0648\u06CC \u062F\u06A9\u0645\u0647 \u062E\u0631\u0648\u062C \u0627\u0632 \u0633\u0627\u0645\u0627\u0646\u0647 \u06A9\u0644\u06CC\u06A9 \u0646\u0645\u0627\u06CC\u06CC\u062F."),
            W(),
            H(95, "li")(96, "a", 43)(97, "u"),
            oe(98, " \u0631\u0648\u06CC\u0647 \u0627\u0631\u0627\u0626\u0647 \u062E\u062F\u0645\u0627\u062A \u0648 \u0627\u0646\u062C\u0627\u0645 \u0645\u0639\u0627\u0645\u0644\u0627\u062A \u0628\u0631\u062E\u0637 "),
            W()(),
            oe(99, " \u06A9\u0627\u0631\u06AF\u0632\u0627\u0631\u06CC \u0645\u0641\u06CC\u062F \u0631\u0627 \u0645\u0637\u0627\u0644\u0639\u0647 \u0646\u0645\u0627\u06CC\u06CC\u062F. "),
            W()()()()()()()()()()),
            r & 2 && (Q(),
            cs("container", s.IsMobile() ? "p-0" : "", ""),
            Q(2),
            cs("main-form bg-white text-black  d-flex rounded align-items-center  ", s.IsMobile() ? "flex-column overflow-auto h-100" : "w-100   py-4 px-2 ", ""),
            Q(),
            cs("   ", s.IsMobile() ? "w-100 px-2 " : "w-50 justify-content-center px-5 ", ""),
            Q(3),
            cs("header border-bottom ", s.IsMobile() ? "m-0 header-background" : "", ""),
            Q(6),
            ye("formGroup", s.loginForm),
            Q(6),
            cs("input-box placeHolder ltr bg-transparent ", s.username.errors && (s.username.dirty || s.username.touched) ? "border-danger" : "", ""),
            ye("ngClass", Dn(37, $9, s.username.errors && s.isFormInValid())),
            Q(),
            tt(s.username.errors && (s.username.dirty || s.username.touched) ? 20 : -1),
            Q(9),
            cs("input-box  ltr input_vk_2 valid bg-transparent ", s.password.errors && (s.password.dirty || s.password.touched) ? "border-danger" : "", ""),
            ye("type", s.showPassWord() ? "text" : "password")("ngClass", Dn(39, $9, s.password.errors && s.isFormInValid())),
            Q(),
            tt(s.password.errors && (s.password.dirty || s.password.touched) ? 30 : -1),
            Q(2),
            ye("iconName", s.showPassWord() ? s.icons.Eye : s.icons.EyeOff),
            Q(4),
            ye("href", (s.environment == null || s.environment.oidcSettings == null ? null : s.environment.oidcSettings.authority) + "/ForgotPassword", i4),
            Q(5),
            cs("captcha-style d-flex   ", s.captcha.errors && (s.captcha.dirty || s.captcha.touched) ? " border-danger" : "", ""),
            Q(),
            ye("ngClass", Dn(41, $9, s.captcha.errors && s.isFormInValid() || s.isCaptchaInValid())),
            Q(3),
            ye("iconName", s.icons.refresh),
            Q(2),
            tt(s.captcha.errors && (s.captcha.dirty || s.captcha.touched) ? 47 : -1),
            Q(3),
            ye("disabled", s.inProgress()),
            Q(4),
            ye("href", s.environment.oidcSettings.authority + "/Register", i4),
            Q(23),
            cs("w-50 right-col ", s.IsMobile() ? "d-none" : "", ""))
        },
        dependencies: [B5, qv, I5, R5, D5, N5, F5, L5, rr, Fn],
        styles: [`ul[_ngcontent-%COMP%], ol[_ngcontent-%COMP%]{padding:0;text-align:right}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style:none}h1[_ngcontent-%COMP%], .h1[_ngcontent-%COMP%]{font-size:2.2rem}h2[_ngcontent-%COMP%], .h2[_ngcontent-%COMP%]{font-size:1.4rem}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%], .h1[_ngcontent-%COMP%], .h2[_ngcontent-%COMP%], .h3[_ngcontent-%COMP%], .h4[_ngcontent-%COMP%], .h5[_ngcontent-%COMP%], .h6[_ngcontent-%COMP%]{line-height:1.5;font-weight:700}h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%], .h4[_ngcontent-%COMP%], .h5[_ngcontent-%COMP%], .h6[_ngcontent-%COMP%]{font-weight:500}a[_ngcontent-%COMP%]{color:#004d6b;text-decoration:none!important}input[_ngcontent-%COMP%]::-webkit-outer-spin-button, input[_ngcontent-%COMP%]::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}input[_ngcontent-%COMP%]:-webkit-autofill, input[_ngcontent-%COMP%]:-webkit-autofill:hover, input[_ngcontent-%COMP%]:-webkit-autofill:focus, input[_ngcontent-%COMP%]:-webkit-autofill:active{-webkit-box-shadow:0 0 0 30px white inset!important}input[type=tel][_ngcontent-%COMP%]{-moz-appearance:textfield}input[_ngcontent-%COMP%]:-webkit-autofill{-webkit-box-shadow:inset 0 0 0 9999px white}input[_ngcontent-%COMP%]:focus, select[_ngcontent-%COMP%]:focus, textarea[_ngcontent-%COMP%]:focus, button[_ngcontent-%COMP%]:focus{outline:0!important;background-color:#fff}.filled[_ngcontent-%COMP%]{opacity:1!important}.btn-primary[_ngcontent-%COMP%]:not(:disabled):not(.disabled):active, .btn-primary[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active, .show[_ngcontent-%COMP%] > .btn-primary.dropdown-toggle[_ngcontent-%COMP%]{color:#fff;background-color:#004d6b;border:0}.btn-primary[_ngcontent-%COMP%]:focus, .btn-primary.focus[_ngcontent-%COMP%]{box-shadow:none}.btn-primary[_ngcontent-%COMP%]:not(:disabled):not(.disabled):active:focus, .btn-primary[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active:focus, .show[_ngcontent-%COMP%] > .btn-primary.dropdown-toggle[_ngcontent-%COMP%]:focus{box-shadow:none}.form-control[_ngcontent-%COMP%]:focus{color:none;background-color:none;border-color:none;outline:0;box-shadow:none}.show[_ngcontent-%COMP%]{opacity:1}.fade[_ngcontent-%COMP%]{transition:opacity .15s linear}.ltr[_ngcontent-%COMP%]{direction:ltr}.rtl[_ngcontent-%COMP%]{direction:rtl}.border[_ngcontent-%COMP%]{border-color:#e6e8ed!important;border-radius:4px;background-color:#fff}.border-bottom[_ngcontent-%COMP%]{border-bottom:1px solid #e6e8ed!important}.shadow[_ngcontent-%COMP%]{box-shadow:0 0 4px #00000026!important;border-radius:4px;overflow:hidden}.hover[_ngcontent-%COMP%]{transition:all .1s ease-in-out}.hover[_ngcontent-%COMP%]:hover{background-color:#f8f9fa;color:#00374d!important}.btn-hover[_ngcontent-%COMP%]{transition:all .2s ease-in-out}.btn-hover[_ngcontent-%COMP%]:hover{transform:scale(1.02);box-shadow:0 3px 6px 2px #172c4a40}.tooltip.bs-tooltip-right[_ngcontent-%COMP%]   .tooltip-inner[_ngcontent-%COMP%], .tooltip.bs-tooltip-left[_ngcontent-%COMP%]   .tooltip-inner[_ngcontent-%COMP%]{max-width:200px;padding:.5rem;color:inherit;text-align:center;background-color:#fff;border-radius:4px}.tooltip.bs-tooltip-right[_ngcontent-%COMP%]   .arrow[_ngcontent-%COMP%], .tooltip.bs-tooltip-left[_ngcontent-%COMP%]   .arrow[_ngcontent-%COMP%]{display:none}.tooltip.tooltip-danger.bs-tooltip-right[_ngcontent-%COMP%]   .tooltip-inner[_ngcontent-%COMP%], .tooltip.tooltip-danger.bs-tooltip-left[_ngcontent-%COMP%]   .tooltip-inner[_ngcontent-%COMP%]{color:#dc3545;border:1px solid #dc3545}.tooltip.tooltip-info.bs-tooltip-right[_ngcontent-%COMP%]   .tooltip-inner[_ngcontent-%COMP%], .tooltip.tooltip-info.bs-tooltip-left[_ngcontent-%COMP%]   .tooltip-inner[_ngcontent-%COMP%]{color:#17a2b8;border:1px solid #17a2b8}.blur[_ngcontent-%COMP%]{filter:blur(2px)}html[_ngcontent-%COMP%]{height:100%}body[_ngcontent-%COMP%]{direction:rtl;font-family:IRANSans2!important;font-weight:300;color:#4b5157;font-size:14px;border-radius:4px;background-color:#fff;position:relative;min-height:100vh}p[_ngcontent-%COMP%]{font-family:IRANSans2!important;font-weight:300}.BG[_ngcontent-%COMP%]{background-color:#edf0f2;background-size:cover;position:absolute;inset:0;display:flex;justify-content:center;align-items:inherit}.BG-in[_ngcontent-%COMP%]{background-image:url("./media/left-BG-UIYRICPC.svg");background-position:top left;background-repeat:no-repeat;background-size:contain;background-color:#fff;position:absolute;inset:0;display:flex;align-items:center;justify-content:center}.BG-in[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50%;height:auto}.main-width[_ngcontent-%COMP%]{max-width:960px;margin:auto}.right-col[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;text-align:center;min-height:100%;background-color:#fff;position:relative;background-size:contain}.right-col[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;right:0;height:200px;background-repeat:no-repeat;background-image:url("./media/left-BG-UIYRICPC.svg");background-position:top center}.left-col[_ngcontent-%COMP%]{display:none}.row-styled[_ngcontent-%COMP%]{box-shadow:none;border-radius:0;min-height:100%}.form[_ngcontent-%COMP%]{text-align:right}.tip[_ngcontent-%COMP%]{font-size:10px;text-align:right;margin-right:5px}.form-group[_ngcontent-%COMP%]{position:relative;padding:.5rem 1rem;margin-bottom:0;text-align:right;z-index:5}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-family:IRANSans2!important}.form-group[_ngcontent-%COMP%]   .input-box[_ngcontent-%COMP%]{width:100%;height:40px;padding:5px 15px;text-align:right;color:#4b5157;border:1px solid #e1e5e9;border-radius:4px;transition:all .2s linear}.form-group[_ngcontent-%COMP%]   .input-box[_ngcontent-%COMP%]:hover, .form-group[_ngcontent-%COMP%]   .input-box[_ngcontent-%COMP%]:active, .form-group[_ngcontent-%COMP%]   .input-box[_ngcontent-%COMP%]:focus{border-color:#4b5157}.form-group[_ngcontent-%COMP%]   .input-box.placeHolder[_ngcontent-%COMP%]{font-size:14px}.form-group[_ngcontent-%COMP%]   .input-box.placeHolder[_ngcontent-%COMP%]::-webkit-input-placeholder{opacity:.5}.form-group[_ngcontent-%COMP%]   .input-box.placeHolder[_ngcontent-%COMP%]::-moz-placeholder{opacity:.5}.form-group[_ngcontent-%COMP%]   .input-box.placeHolder[_ngcontent-%COMP%]:-ms-input-placeholder{opacity:.5}.form-group[_ngcontent-%COMP%]   .input-box.placeHolder[_ngcontent-%COMP%]:-moz-placeholder{opacity:.5}.form-group[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:12px;font-weight:500;margin-bottom:4px;color:#4b5157}.form-group[_ngcontent-%COMP%]   .form-check-label[_ngcontent-%COMP%]{top:6px;padding-right:25px;color:#172c4ab3}.form-group.checkmark[_ngcontent-%COMP%]   .label-cbx[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none;cursor:pointer;margin-bottom:0}.form-group.checkmark[_ngcontent-%COMP%]   .label-cbx[_ngcontent-%COMP%]:focus-within{outline:0}.form-group.checkmark[_ngcontent-%COMP%]   .label-cbx[_ngcontent-%COMP%]:focus-within   input[_ngcontent-%COMP%] + .checkbox[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{stroke-dashoffset:0}.form-group.checkmark[_ngcontent-%COMP%]   .label-cbx[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + .checkbox[_ngcontent-%COMP%]{border-color:#004d6b}.form-group.checkmark[_ngcontent-%COMP%]   .label-cbx[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + .checkbox[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{fill:#004d6b}.form-group.checkmark[_ngcontent-%COMP%]   .label-cbx[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + .checkbox[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   polyline[_ngcontent-%COMP%]{stroke-dashoffset:0}.form-group.checkmark[_ngcontent-%COMP%]   .label-cbx[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:hover + .checkbox[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   path[_ngcontent-%COMP%], .form-group.checkmark[_ngcontent-%COMP%]   .label-cbx[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus + .checkbox[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{stroke-dashoffset:0}.form-group.checkmark[_ngcontent-%COMP%]   .label-cbx[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#172c4ab3;font-size:12px;line-height:2}.form-group.checkmark[_ngcontent-%COMP%]   .label-cbx[_ngcontent-%COMP%]:hover   span[_ngcontent-%COMP%], .form-group.checkmark[_ngcontent-%COMP%]   .label-cbx[_ngcontent-%COMP%]:focus   span[_ngcontent-%COMP%]{color:#004d6b}.form-group.checkmark[_ngcontent-%COMP%]   .label-cbx[_ngcontent-%COMP%]   .checkbox[_ngcontent-%COMP%]{position:relative;top:6px;float:right;margin-left:8px;width:15px;height:15px;border:1px solid #c8ccd4;border-radius:2px}.form-group.checkmark[_ngcontent-%COMP%]   .label-cbx[_ngcontent-%COMP%]   .checkbox[_ngcontent-%COMP%]:focus{outline:0}.form-group.checkmark[_ngcontent-%COMP%]   .label-cbx[_ngcontent-%COMP%]   .checkbox[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{position:absolute;inset:-1px -1px 0 0}.form-group.checkmark[_ngcontent-%COMP%]   .label-cbx[_ngcontent-%COMP%]   .checkbox[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{fill:none;stroke:#004d6b;stroke-width:1;stroke-linecap:round;stroke-linejoin:round;stroke-dasharray:71px;stroke-dashoffset:71px;transition:all .6s ease-in-out}.form-group.checkmark[_ngcontent-%COMP%]   .label-cbx[_ngcontent-%COMP%]   .checkbox[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   polyline[_ngcontent-%COMP%]{fill:none;stroke:#fff;stroke-width:2;stroke-linecap:round;stroke-linejoin:round;stroke-dasharray:18px;stroke-dashoffset:18px;transition:all .3s ease-in-out}.form-group.checkmark[_ngcontent-%COMP%]   .invisible[_ngcontent-%COMP%]{position:absolute;z-index:-1;width:0;height:0;opacity:0}.form-group[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:12px;line-height:1.5!important;margin-bottom:0;margin-top:5px}.passwordField[_ngcontent-%COMP%]{position:relative}.passwordField[_ngcontent-%COMP%]   .eye-icon[_ngcontent-%COMP%]{position:absolute;left:1px;top:1px;z-index:10;padding:5px 15px 5px 10px;display:flex}.passwordField[_ngcontent-%COMP%]   .eye-icon[_ngcontent-%COMP%]   .mdi[_ngcontent-%COMP%]{padding:0 3px}.btn-class[_ngcontent-%COMP%]{width:100%;padding:.5rem 1rem;margin-top:1rem;text-align:left}.btn-primary[_ngcontent-%COMP%]{cursor:pointer;width:100%;color:#fff;text-align:center;border-radius:4px;border:0;height:40px;font-size:14px;display:flex;align-items:center;justify-content:center;font-weight:300;background-color:#004d6b;transition:all .2s ease-in-out;position:relative}.btn-primary[_ngcontent-%COMP%]:hover, .btn-primary[_ngcontent-%COMP%]:focus{background-color:#00374d}.btn-primary[_ngcontent-%COMP%]:disabled{border:0;background-color:#172c4ab3;cursor:default}.btn-secondary[_ngcontent-%COMP%]{cursor:pointer;width:100%;color:#76808a;text-align:center;border-radius:4px;height:36px;font-size:14px;display:flex;align-items:center;justify-content:center;font-weight:300;background-color:#fff;position:relative;border:1px solid #e1e5e9;transition:all .2s ease-in-out}.btn-secondary[_ngcontent-%COMP%]:hover, .btn-secondary[_ngcontent-%COMP%]:focus{color:#76808a;background-color:#e1e5e9;border:1px solid #e1e5e9;box-shadow:none;outline:0}.btn-secondary[_ngcontent-%COMP%]:disabled{border:0;background-color:#172c4ab3;cursor:default}.btn-danger[_ngcontent-%COMP%]{cursor:pointer;width:100%;color:#dc3545!important;text-align:center;border-radius:4px;border:1px solid #dc3545;height:40px;font-size:14px;display:flex;align-items:center;justify-content:center;font-weight:300;background-color:#fff;transition:all .2s ease-in-out}.btn-danger[_ngcontent-%COMP%]:hover{background-color:#dc3545;color:#fff!important}.btn-cancel[_ngcontent-%COMP%]{cursor:pointer;width:100%;color:#999!important;text-align:center;border-radius:4px;border:1px solid #999;height:40px;font-size:14px;display:flex;align-items:center;justify-content:center;font-weight:300;background-color:#fff;transition:all .2s ease-in-out}.btn-cancel[_ngcontent-%COMP%]:hover{background-color:#999;color:#fff!important}.btn-warning[_ngcontent-%COMP%]{cursor:pointer;width:100%;color:#004d6b!important;text-align:center;border-radius:4px;height:40px;font-size:14px;display:flex;align-items:center;justify-content:center;font-weight:300;background-color:#f7af3e;transition:all .2s ease-in-out}.btn-warning[_ngcontent-%COMP%]:hover{background-color:#fbc56f}.btn-gray[_ngcontent-%COMP%]{cursor:pointer;color:#7a8189;border-radius:4px;border:1px solid #dcdcdc;height:40px;font-size:14px;display:flex;align-items:center;justify-content:center;font-weight:300;transition:all .2s ease-in-out}.btn-gray[_ngcontent-%COMP%]:hover{color:#202020;border-color:#c7c7c7}.btn-gray[_ngcontent-%COMP%]:active, .btn-gray[_ngcontent-%COMP%]:focus{color:#202020;border-color:#c7c7c7;outline:0;box-shadow:none}.btn-green[_ngcontent-%COMP%]{color:#fff;background-color:#00a796;cursor:pointer;width:100%;text-align:center;border-radius:4px;height:40px;font-size:14px;display:flex;align-items:center;justify-content:center;font-weight:300;transition:all .2s ease-in-out}.btn-green[_ngcontent-%COMP%]:hover{color:#fff;background-color:#008e7f}.btn-small[_ngcontent-%COMP%]{height:30px;font-size:12px;min-width:75px}.organizer[_ngcontent-%COMP%]{height:100%}.main-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;text-align:center;z-index:10}.main-section[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{margin-bottom:0}.header[_ngcontent-%COMP%]{padding:.5rem 0;margin:0 1rem 1rem}.header-background[_ngcontent-%COMP%]{background:url("./media/top-BG-4EQHEZVP.png");background-repeat:no-repeat;background-size:cover}.header[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-top:20px;margin-bottom:1.5rem;width:90px}.header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{color:#00a796}.header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:12px;margin-bottom:0}.footer[_ngcontent-%COMP%]{margin:1rem 1rem 1.5rem;display:flex;align-items:center;justify-content:center}.field-validation-error[_ngcontent-%COMP%]{font-size:12px;line-height:1.5!important;margin-bottom:0;margin-top:5px;color:#dc3545}@keyframes _ngcontent-%COMP%_fadein{0%{opacity:0}to{opacity:1}}@-moz-keyframes fadein{0%{opacity:0}to{opacity:1}}@-webkit-keyframes _ngcontent-%COMP%_fadein{0%{opacity:0}to{opacity:1}}@-ms-keyframes fadein{0%{opacity:0}to{opacity:1}}@-o-keyframes fadein{0%{opacity:0}to{opacity:1}}.input-validation-error[_ngcontent-%COMP%]{border-color:#dc3545!important}.valError[_ngcontent-%COMP%]{padding-top:5px!important;padding-bottom:5px!important;color:#dc3545;background-color:#fde3e3;border-radius:4px;margin-top:5px;transition:all .2s ease-in-out}.valError[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border-color:#dc3545!important}.error-place[_ngcontent-%COMP%]{margin-bottom:10px}.error[_ngcontent-%COMP%]{color:#dc3545;padding:10px 50px 10px 10px;position:relative;margin:10px 1rem;border:1px solid #fde3e3;border-radius:4px;overflow:hidden;font-size:12px;text-align:justify}.error[_ngcontent-%COMP%]   .validation-summary-errors[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin-bottom:0}.error[_ngcontent-%COMP%]:before{content:"\\f15a";font-family:Material Design Icons!important;font-size:18px;right:0;top:0;position:absolute;width:40px;height:100%;background-color:#fde3e3;display:flex;align-items:center;justify-content:center}.warning[_ngcontent-%COMP%]{color:#d78709;padding:10px;position:relative;margin:10px 1rem;border:1px solid #f7af3e;border-radius:4px;overflow:hidden;font-size:12px;text-align:justify}.info[_ngcontent-%COMP%]{padding:5px 50px 5px 12px;position:relative;margin:.5rem 1rem;border:1px solid #d9edf7;border-radius:4px;overflow:hidden;font-size:12px;text-align:justify}.info[_ngcontent-%COMP%]:before{content:"\\f2fd";font-family:Material Design Icons!important;font-size:18px;right:0;top:0;position:absolute;width:40px;height:100%;background-color:#d9edf7;display:flex;align-items:center;justify-content:center}.info-box[_ngcontent-%COMP%]{padding:5px 12px;position:relative;margin:.5rem 1rem;border:1px solid #278abb;border-radius:4px;overflow:hidden;text-align:justify}.alert[_ngcontent-%COMP%]{padding:10px 50px 10px 10px;position:relative;border-radius:4px;overflow:hidden;font-size:12px;text-align:justify}.alert[_ngcontent-%COMP%]:before{content:"\\f02a";font-family:Material Design Icons!important;font-size:18px;right:0;top:0;position:absolute;width:40px;height:100%;display:flex;align-items:center;justify-content:center}.alert.profile-alert[_ngcontent-%COMP%]{color:#f80;background-color:#fff;border:1px solid #f80;margin-top:1rem}.alert.profile-alert[_ngcontent-%COMP%]:before{content:"\\f005";background-color:#f80;color:#fff}.alert.alert-success[_ngcontent-%COMP%]{color:#007e33;background-color:#fff;border:1px solid #d4edda}.alert.alert-success[_ngcontent-%COMP%]:before{content:"\\f854";background-color:#d4edda}.guest-alert[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;color:#004d6b;background-color:#70d3d9;position:relative;border-radius:4px;overflow:hidden;font-weight:500;box-shadow:0 0 4px #46d6dcb3}.guest-alert[_ngcontent-%COMP%]   .mdi[_ngcontent-%COMP%]{color:#fff}.guest-alert[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{font-size:12px;background-color:#004d6b;color:#fff;margin:0 1rem;padding:.5rem 1rem;white-space:nowrap}.token[_ngcontent-%COMP%]{position:relative;transition:all .2s ease-in-out;font-size:large;z-index:5}.token[_ngcontent-%COMP%]   .input-box[_ngcontent-%COMP%]{padding-left:115px;letter-spacing:8px}.token[_ngcontent-%COMP%]   .input-box.without-timer[_ngcontent-%COMP%]{padding-left:15px}.token[_ngcontent-%COMP%]   .send-again[_ngcontent-%COMP%]{position:absolute;left:0;top:10px;padding:0 12px;border-right:1px solid rgba(23,44,74,.7);line-height:1.5;text-align:left;font-size:14px;min-width:60px;cursor:pointer}.checkmark-an[_ngcontent-%COMP%]   .checkmark__circle[_ngcontent-%COMP%]{stroke-dasharray:166;stroke-dashoffset:166;stroke-width:2;stroke-miterlimit:10;stroke:#28a745;fill:none;animation:_ngcontent-%COMP%_stroke 1.5s cubic-bezier(.65,0,.45,1) forwards}.checkmark-an[_ngcontent-%COMP%]   .checkmark[_ngcontent-%COMP%]{width:56px;height:56px;border-radius:50%;display:block;stroke-width:2;stroke:#28a745;stroke-miterlimit:10;margin:10% auto;box-shadow:inset 0 0 #fff;animation:_ngcontent-%COMP%_fill .8s ease-in-out .8s forwards,_ngcontent-%COMP%_scale .6s ease-in-out 1.3s both}.checkmark-an[_ngcontent-%COMP%]   .checkmark__check[_ngcontent-%COMP%]{transform-origin:50% 50%;stroke-dasharray:48;stroke-dashoffset:48;animation:_ngcontent-%COMP%_stroke .8s cubic-bezier(.65,0,.45,1) .9s forwards}.cross-an[_ngcontent-%COMP%]   .cross__circle[_ngcontent-%COMP%]{stroke-dasharray:166;stroke-dashoffset:166;stroke-width:2;stroke-miterlimit:10;stroke:#dc3545;fill:none;animation:_ngcontent-%COMP%_stroke 1.5s cubic-bezier(.65,0,.45,1) forwards}.cross-an[_ngcontent-%COMP%]   .cross[_ngcontent-%COMP%]{width:56px;height:56px;border-radius:50%;display:block;stroke-width:2;stroke:#dc3545;stroke-miterlimit:10;margin:10% auto;animation:_ngcontent-%COMP%_fill .8s ease-in-out .8s forwards,_ngcontent-%COMP%_scale .6s ease-in-out 1.3s both}.cross-an[_ngcontent-%COMP%]   .cross__path[_ngcontent-%COMP%]{transform-origin:50% 50%;stroke-dasharray:48;stroke-dashoffset:48}.cross-an[_ngcontent-%COMP%]   .cross__path--right[_ngcontent-%COMP%], .cross-an[_ngcontent-%COMP%]   .cross__path--left[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_stroke .8s cubic-bezier(.65,0,.45,1) .9s forwards}@keyframes _ngcontent-%COMP%_stroke{to{stroke-dashoffset:0}}@keyframes _ngcontent-%COMP%_scale{0%,to{transform:none}50%{transform:scale3d(1.1,1.1,1)}}@keyframes _ngcontent-%COMP%_fill{to{box-shadow:inset 0 0 0 30px #fff}}.navbar[_ngcontent-%COMP%]{padding:0;align-items:center;height:60px}.btn-group[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{background-color:transparent}.btn-group[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:focus{outline:0;box-shadow:none}.btn-group[_ngcontent-%COMP%]   .dropdown-toggle[_ngcontent-%COMP%]:after{content:"\\f140";font-family:Material Design Icons!important;border:0;vertical-align:unset}.navbar-brand[_ngcontent-%COMP%]{margin-right:0}.profile-info[_ngcontent-%COMP%]{text-align:center}.infoField[_ngcontent-%COMP%]{margin:auto;display:flex;justify-content:space-between}.infoField[_ngcontent-%COMP%]   .h6[_ngcontent-%COMP%]{display:inline-block;position:relative;padding-left:32px}.infoField[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{display:inline-block;line-height:2;font-size:14px}.infoField[_ngcontent-%COMP%]   .mdi[_ngcontent-%COMP%]{position:absolute;left:0;top:-10px}.nav-two[_ngcontent-%COMP%]{display:none}.nav-two[_ngcontent-%COMP%]   .edit-profile[_ngcontent-%COMP%]{display:inline-block;margin-right:5px;opacity:.7;transition:opacity .15s linear}.nav-two[_ngcontent-%COMP%]   .edit-profile[_ngcontent-%COMP%]:hover{opacity:1}.hand[_ngcontent-%COMP%], .hand[_ngcontent-%COMP%]:hover{cursor:pointer}.loading[_ngcontent-%COMP%]{height:3px;width:100%;position:absolute;overflow:hidden;border-radius:0 0 5px 5px;bottom:0}.loading[_ngcontent-%COMP%]:before{display:block;position:absolute;content:"";right:-200px;width:200px;height:3px;background-color:#01aaa9;animation:_ngcontent-%COMP%_loading 2s linear infinite}@keyframes _ngcontent-%COMP%_loading{0%{right:-200px;width:30%}50%{width:40%}70%{width:50%}80%{right:60%}90%{right:85%}to{right:100%;border-radius:4px}}.form-group[_ngcontent-%COMP%]   .captcha-style[_ngcontent-%COMP%]{width:100%!important;border:1px solid #dcdfe4;border-radius:4px;position:relative;display:flex;justify-content:space-between;background-color:#fff}.form-group[_ngcontent-%COMP%]   captcha[_ngcontent-%COMP%]   .BDC_CaptchaDiv[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   captcha[_ngcontent-%COMP%]   .BDC_CaptchaDiv[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:active{outline:0!important}.form-group[_ngcontent-%COMP%]   captcha[_ngcontent-%COMP%]   .BDC_CaptchaDiv[_ngcontent-%COMP%]   .BDC_CaptchaImageDiv[_ngcontent-%COMP%]{display:inline-flex!important;align-items:center!important}.form-group[_ngcontent-%COMP%]   captcha[_ngcontent-%COMP%]   .BDC_CaptchaDiv[_ngcontent-%COMP%]   .BDC_CaptchaImageDiv[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{opacity:0!important;cursor:default;pointer-events:none;touch-action:none}.form-group[_ngcontent-%COMP%]   captcha[_ngcontent-%COMP%]   .BDC_CaptchaDiv[_ngcontent-%COMP%]   .BDC_CaptchaIconsDiv[_ngcontent-%COMP%]{position:absolute;left:0;height:100%;display:inline-flex!important;margin-left:25px!important;border-right:1px solid #dcdfe4}.form-group[_ngcontent-%COMP%]   captcha[_ngcontent-%COMP%]   .BDC_CaptchaDiv[_ngcontent-%COMP%]   .BDC_CaptchaIconsDiv[_ngcontent-%COMP%]   .BDC_ReloadLink[_ngcontent-%COMP%]{opacity:.7;transition:opacity .1s linear}.form-group[_ngcontent-%COMP%]   captcha[_ngcontent-%COMP%]   .BDC_CaptchaDiv[_ngcontent-%COMP%]   .BDC_CaptchaIconsDiv[_ngcontent-%COMP%]   .BDC_ReloadLink[_ngcontent-%COMP%]:hover{opacity:1;color:#004d6b}.form-group[_ngcontent-%COMP%]   captcha[_ngcontent-%COMP%]   .BDC_CaptchaDiv[_ngcontent-%COMP%]   .BDC_CaptchaIconsDiv[_ngcontent-%COMP%]   .BDC_ReloadLink[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:none!important}.form-group[_ngcontent-%COMP%]   captcha[_ngcontent-%COMP%]   .BDC_CaptchaDiv[_ngcontent-%COMP%]   .BDC_CaptchaIconsDiv[_ngcontent-%COMP%]   .BDC_ReloadLink[_ngcontent-%COMP%]:before{content:"\\f453";font-family:Material Design Icons;position:absolute;top:16px;left:-15px;font-size:22px;padding:0 4px;border-radius:3px}.form-group[_ngcontent-%COMP%]   captcha[_ngcontent-%COMP%]   .BDC_CaptchaDiv[_ngcontent-%COMP%]   .BDC_CaptchaIconsDiv[_ngcontent-%COMP%]   .BDC_SoundLink[_ngcontent-%COMP%]{position:relative;opacity:.7;transition:opacity .1s linear}.form-group[_ngcontent-%COMP%]   captcha[_ngcontent-%COMP%]   .BDC_CaptchaDiv[_ngcontent-%COMP%]   .BDC_CaptchaIconsDiv[_ngcontent-%COMP%]   .BDC_SoundLink[_ngcontent-%COMP%]:hover{opacity:1;color:#004d6b}.form-group[_ngcontent-%COMP%]   captcha[_ngcontent-%COMP%]   .BDC_CaptchaDiv[_ngcontent-%COMP%]   .BDC_CaptchaIconsDiv[_ngcontent-%COMP%]   .BDC_SoundLink[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:none!important}.form-group[_ngcontent-%COMP%]   captcha[_ngcontent-%COMP%]   .BDC_CaptchaDiv[_ngcontent-%COMP%]   .BDC_CaptchaIconsDiv[_ngcontent-%COMP%]   .BDC_SoundLink[_ngcontent-%COMP%]:before{content:"";font-family:Material Design Icons;position:absolute;bottom:-50px;left:-5px;font-size:20px;padding:0 4px;border-radius:3px}.form-group[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{margin-top:1rem;margin-bottom:5px}.form-group[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;height:40px!important;padding:5px 15px;text-align:center;background-color:#fff;border:1px solid #dcdfe4;border-radius:4px;letter-spacing:5px}.form-group[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:hover, .form-group[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:active, .form-group[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:#8793a1}.form-group.passRules[_ngcontent-%COMP%]   #Password_rules[_ngcontent-%COMP%], .form-group.passRules[_ngcontent-%COMP%]   #NewPassword_rules[_ngcontent-%COMP%]{-webkit-transition:all .3s linear;-moz-transition:all .3s linear;-o-transition:all .3s linear;transition:all .3s linear;opacity:0;max-height:0}.form-group.passRules[_ngcontent-%COMP%]:focus-within   #Password_rules[_ngcontent-%COMP%], .form-group.passRules[_ngcontent-%COMP%]:focus-within   #NewPassword_rules[_ngcontent-%COMP%]{max-height:150px;opacity:1}#Password_rules[_ngcontent-%COMP%], #NewPassword_rules[_ngcontent-%COMP%]{padding-right:15px;margin-top:3px;color:#dc3545}#Password_rules[_ngcontent-%COMP%]   div[_ngcontent-%COMP%], #NewPassword_rules[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{position:relative;font-size:12px;padding-right:15px}#Password_rules[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:before, #NewPassword_rules[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:before{content:"\\f156";font-family:Material Design Icons;position:absolute;font-size:12px;right:0}.rull-done[_ngcontent-%COMP%]{color:#006400}.rull-done[_ngcontent-%COMP%]:before{content:"\\f12c"!important}.footer-link[_ngcontent-%COMP%]{display:inline-block;font-size:smaller;color:#76808a}.footer-link[_ngcontent-%COMP%]:hover, .footer-link[_ngcontent-%COMP%]:focus{color:#4b5157;outline:0;text-decoration-line:underline!important}.after-layout[_ngcontent-%COMP%]{padding-top:60px;height:auto;background-size:cover;background-repeat:no-repeat;background-position:center;transition:all .25s ease}.after-layout[_ngcontent-%COMP%]   .navbar[_ngcontent-%COMP%]{height:60px}.main-container[_ngcontent-%COMP%]{height:auto}.profile-nav[_ngcontent-%COMP%]{display:flex;align-items:center}.profile-nav[_ngcontent-%COMP%]   .app-icon[_ngcontent-%COMP%]{height:30px;width:30px}.profile-nav[_ngcontent-%COMP%]   .dropdown-toggle[_ngcontent-%COMP%]{padding:0 30px}.profile-nav[_ngcontent-%COMP%]   .dropdown-toggle[_ngcontent-%COMP%]:after{content:none}.profile-nav[_ngcontent-%COMP%]   .user-menu[_ngcontent-%COMP%]{font-size:13px;position:relative;color:#fff!important;display:flex;align-items:center;font-weight:400;cursor:pointer}.profile-nav[_ngcontent-%COMP%]   .user-menu[_ngcontent-%COMP%]   .mdi-account[_ngcontent-%COMP%]{color:#00a796;font-size:20px}.profile-footer[_ngcontent-%COMP%]{text-align:center;position:absolute;bottom:0;right:0;left:0}.right-menu[_ngcontent-%COMP%]{background-color:#fff;position:fixed;top:60px;z-index:10}.profile-message[_ngcontent-%COMP%]{text-align:right;display:flex;align-items:center}.app-tile[_ngcontent-%COMP%]{text-align:right;display:flex;align-items:center;min-height:100px}.chevron[_ngcontent-%COMP%]{display:inline-block;line-height:0}.chevron[_ngcontent-%COMP%]   .arrow[_ngcontent-%COMP%]{width:1rem;height:1.25rem;display:inline-block;position:relative;margin-right:.5rem}.chevron[_ngcontent-%COMP%]   .arrow[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{top:.5rem;position:absolute;width:.6rem;height:.1rem;background-color:#fff;display:inline-block;transition:all .2s ease}.chevron[_ngcontent-%COMP%]   .arrow[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:first-of-type{left:0;-webkit-transform:rotate(45deg);transform:rotate(45deg)}.chevron[_ngcontent-%COMP%]   .arrow[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:last-of-type{right:0;-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}.chevron[_ngcontent-%COMP%]   .arrow.active[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:first-of-type{-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}.chevron[_ngcontent-%COMP%]   .arrow.active[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:last-of-type{-webkit-transform:rotate(45deg);transform:rotate(45deg)}.funds-section[_ngcontent-%COMP%]{position:relative;width:100%;text-align:right}.funds-section[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{position:absolute;top:0;right:0}.funds-section[_ngcontent-%COMP%]   .chart-section[_ngcontent-%COMP%]{position:relative}.funds-section[_ngcontent-%COMP%]   .chart-number[_ngcontent-%COMP%]{z-index:100;position:absolute;inset:0;display:flex;justify-content:center;align-items:center;pointer-events:none}.funds-section[_ngcontent-%COMP%]   .chart-width[_ngcontent-%COMP%]{width:80%;min-height:50vh;margin:auto}.funds-section[_ngcontent-%COMP%]   .chart-legends[_ngcontent-%COMP%]{display:flex;justify-content:center}.funds-section[_ngcontent-%COMP%]   .chart-legends[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin-bottom:0}.funds-section[_ngcontent-%COMP%]   .chart-legends[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{position:relative;padding-right:20px;margin-bottom:10px;display:flex;justify-content:space-between}.funds-section[_ngcontent-%COMP%]   .chart-legends[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:first-child:before{content:"";position:absolute;right:0;top:4px;background-color:#f8a91c;width:12px;height:12px;border-radius:50%}.funds-section[_ngcontent-%COMP%]   .chart-legends[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(2):before{content:"";position:absolute;right:0;top:4px;background-color:#9e61f2;width:12px;height:12px;border-radius:50%}.funds-section[_ngcontent-%COMP%]   .chart-legends[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(3):before{content:"";position:absolute;right:0;top:4px;background-color:#16c13b;width:12px;height:12px;border-radius:50%}.funds-section[_ngcontent-%COMP%]   .chart-legends[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(4):before{content:"";position:absolute;right:0;top:4px;background-color:#7cdaff;width:12px;height:12px;border-radius:50%}.funds-section[_ngcontent-%COMP%]   .chart-legends[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(5):before{content:"";position:absolute;right:0;top:4px;background-color:#cbd83c;width:12px;height:12px;border-radius:50%}.funds-section[_ngcontent-%COMP%]   .chart-legends[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(6):before{content:"";position:absolute;right:0;top:4px;background-color:#8aead5;width:12px;height:12px;border-radius:50%}.feild-title[_ngcontent-%COMP%]{height:60px;display:flex;justify-content:space-between;align-items:center;background-color:#fafafb;font-weight:500;color:#848e99}.feild-title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:13px;font-weight:500}.bg-primary[_ngcontent-%COMP%]{background-color:#004d6b!important}.nav-shortcut[_ngcontent-%COMP%]{display:inline-flex;align-items:center}.nav-shortcut[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;font-weight:200;margin:0 10px}.nav-shortcut[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:15px;margin-left:4px}.navbar-toggler[_ngcontent-%COMP%]{border:0;color:#fff;padding:0 15px;background-color:transparent}.navbar-toggler[_ngcontent-%COMP%]:focus{background-color:transparent}.navbar-collapse[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]{position:absolute;top:0;background-color:#fff;width:75%;height:100vh;left:100%;z-index:20;transition:left .5s,box-shadow .8s}.navbar-collapse.collapse[_ngcontent-%COMP%]:not(.show){display:block}.navbar-collapse.show[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]{left:25%;box-shadow:-220px 0 #00000080}.navbar-collapse.collapsing[_ngcontent-%COMP%]{transition:none}.profile-menu-item[_ngcontent-%COMP%]{display:flex;min-height:60px;align-items:center;font-weight:400;position:relative;padding-right:1rem;color:#848e99;transition:all .2s ease-in-out;font-size:13px}.profile-menu-item.active[_ngcontent-%COMP%], .profile-menu-item[_ngcontent-%COMP%]:hover{color:#00a796;background-color:#fafafc}.profile-menu-item.active[_ngcontent-%COMP%]   .mdi[_ngcontent-%COMP%], .profile-menu-item[_ngcontent-%COMP%]:hover   .mdi[_ngcontent-%COMP%]{color:#00a796}.profile-menu-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{text-align:right}.profile-menu-item[_ngcontent-%COMP%]   .mdi[_ngcontent-%COMP%]{color:#9aa6b3;display:block;font-size:22px}.dropdown-menu[_ngcontent-%COMP%]{display:block;padding:0;top:.4rem;left:1.2rem;text-align:right;font-size:14px;border-radius:4px;border:0;box-shadow:0 0 5px 1px #172c4a26;opacity:0;transform:scale(0);transition:all .5s ease;transform-origin:top left}.dropdown-menu.show[_ngcontent-%COMP%]{transform:scale(1);opacity:1}.dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]{color:#76808a!important;padding:1.5rem 2rem;transition:all .2s linear}.dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]   .mdi[_ngcontent-%COMP%]{color:#76808a;transition:all .2s linear}.dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]:active{color:inherit;background-color:inherit}.dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]:hover, .dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]:hover   .mdi[_ngcontent-%COMP%]{color:#00a796!important}.dropdown-menu[_ngcontent-%COMP%]   .mdi[_ngcontent-%COMP%]{position:relative;line-height:24px;font-size:22px}.dropdown-menu[_ngcontent-%COMP%]   .mdi[_ngcontent-%COMP%]:before{position:absolute;top:0;right:-2px}.dropdown-menu[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding-right:2rem}.edit-link[_ngcontent-%COMP%]{text-align:left}.edit-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#00a796;font-size:12px;font-weight:400}.h-70[_ngcontent-%COMP%]{height:85px}.funds-tile[_ngcontent-%COMP%]{position:relative;text-align:center}.funds-tile[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{position:absolute;top:0;right:0}.image-tile[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;background-color:#dcfafa;height:100%}.image-tile[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:200px;width:auto}.account-changes[_ngcontent-%COMP%]{min-height:320px;display:flex;flex-direction:column;justify-content:space-between;padding:1rem 1rem 0}.er404[_ngcontent-%COMP%]{font-family:Myriad Pro;font-size:100px;color:#dc3545}.twoFactor-button[_ngcontent-%COMP%]{background-color:#c9c9c9;border:0;padding:6px 14px;border-radius:4px;cursor:pointer;transition:all .25s ease-in-out;font-size:12px;font-weight:400;width:90px;color:#fff}.twoFactor-button[_ngcontent-%COMP%]:hover, .twoFactor-button[_ngcontent-%COMP%]:focus{background-color:#bebec9!important}.twoFactor-button[_ngcontent-%COMP%]:hover.active, .twoFactor-button[_ngcontent-%COMP%]:focus.active{background-color:#dca03e!important}.twoFactor-button[_ngcontent-%COMP%]:active.active{background-color:#c9c9c9!important}.twoFactor-button.active[_ngcontent-%COMP%]{color:#fff;border:0;background-color:#f7af3ee6!important}.twoFactor-state[_ngcontent-%COMP%]{font-weight:400}.twoFactor-state.active[_ngcontent-%COMP%]{color:#34a853}.security-rules[_ngcontent-%COMP%]{text-align:center;padding:0 1rem .5rem;background-color:#ffffff4d}.security-rules[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding-right:1rem}.security-rules[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:12px;list-style:disc}.simple-keyboard-con[_ngcontent-%COMP%]{display:none;direction:ltr}.btn[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;transition:all .2s ease-in-out}.text-primary[_ngcontent-%COMP%]{color:#005568!important}.text-m2[_ngcontent-%COMP%]{color:#00a796}.btn-next[_ngcontent-%COMP%]{width:140px;position:relative;height:36px;font-size:12px}.btn-next[_ngcontent-%COMP%]:after{content:"\\f141";font-family:Material Design Icons!important;position:absolute;left:12px;font-size:18px}.btn-outline-back[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:140px;position:relative;height:36px;font-size:12px;border-color:#848e99;color:#848e99!important}.btn-outline-back[_ngcontent-%COMP%]:hover{background-color:#e8e8e8}.btn-outline-back[_ngcontent-%COMP%]:active, .btn-outline-back[_ngcontent-%COMP%]:focus{background-color:#cecece}.link[_ngcontent-%COMP%]{color:#0085ff}.font-smaller[_ngcontent-%COMP%]{font-size:12px}.font-larger[_ngcontent-%COMP%]{font-size:16px}.font-weight-medium[_ngcontent-%COMP%]{font-weight:500}.title[_ngcontent-%COMP%]{color:#005568;font-weight:700;font-size:18px;margin:0}.mdi-information-outline[_ngcontent-%COMP%]:before{line-height:0}.modal[_ngcontent-%COMP%]{direction:rtl}#modal-password[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{min-height:400px}#modal-password[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{height:60px;justify-content:center;align-items:center;position:relative;color:#004d6b;padding:0}#modal-password[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{position:absolute;top:12px;left:-3px}#modal-password[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{position:relative}#modal-password[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .input-actions[_ngcontent-%COMP%]{position:absolute;left:12px;bottom:26px}#modal-password[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .input-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:0;background-color:transparent;padding:0}.label-ph2[_ngcontent-%COMP%]{margin-bottom:0;font-size:12px}.title-sm[_ngcontent-%COMP%]{font-weight:500;font-size:14px;margin-bottom:0}.switch-custom[_ngcontent-%COMP%]{position:relative}.switch-custom[_ngcontent-%COMP%]   .btn-switch[_ngcontent-%COMP%]{box-shadow:none!important}.switch-custom[_ngcontent-%COMP%]   .btn-switch[_ngcontent-%COMP%]   .switch-front[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:20px;height:20px;border-radius:12px;box-shadow:0 0 3px #0003!important;padding:0;position:absolute;left:3px;top:3px;background-color:#fff;transition:all .5s cubic-bezier(.42,0,.13,1.4);z-index:5}.switch-custom[_ngcontent-%COMP%]   .btn-switch[_ngcontent-%COMP%]   .switch-front[_ngcontent-%COMP%]:before{content:"\\f156";font-family:Material Design Icons!important;font-size:12px;color:#9e9e9e;font-weight:700}.switch-custom[_ngcontent-%COMP%]   .btn-switch[_ngcontent-%COMP%]   .switch-back[_ngcontent-%COMP%]{content:"";position:absolute;left:0;top:0;width:44px;height:26px;border-radius:15px;background-color:#9e9e9e;transition:all .5s cubic-bezier(.42,0,.13,1.4);overflow:hidden}.switch-custom[_ngcontent-%COMP%]   .btn-switch[_ngcontent-%COMP%]   .switch-back[_ngcontent-%COMP%]:before{transition:all .5s ease;content:"";position:absolute;background-color:#c3c3c3;width:44px;height:26px;left:0;transform:scale(1);border-radius:15px;font-weight:700}.switch-custom[_ngcontent-%COMP%]   .btn-switch.active[_ngcontent-%COMP%]   .switch-front[_ngcontent-%COMP%]{left:21px;background-color:#fff}.switch-custom[_ngcontent-%COMP%]   .btn-switch.active[_ngcontent-%COMP%]   .switch-front[_ngcontent-%COMP%]:before{content:"\\f12c";color:#00a796}.switch-custom[_ngcontent-%COMP%]   .btn-switch.active[_ngcontent-%COMP%]   .switch-back[_ngcontent-%COMP%]{background-color:#00a796}.switch-custom[_ngcontent-%COMP%]   .btn-switch.active[_ngcontent-%COMP%]   .switch-back[_ngcontent-%COMP%]:before{transform:scale(0)}.change-box[_ngcontent-%COMP%]{min-height:480px;display:flex;flex-direction:column;justify-content:space-between;padding:2rem 0 1rem}.twofa-Method[_ngcontent-%COMP%]{min-height:100px;align-items:center;padding:1rem 1rem 1.5rem}.disabled2fa[_ngcontent-%COMP%]{color:#c1c1c1!important;cursor:default!important;pointer-events:none!important}.disabled2fa[_ngcontent-%COMP%]   .btn-switch[_ngcontent-%COMP%]{opacity:.5}.disabled2fa[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]{color:#c1c1c1!important}.G-QR[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center}.copy-QR[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;border:1px solid #efefef;border-radius:4px;overflow:hidden}.copy-QR[_ngcontent-%COMP%]   kbd[_ngcontent-%COMP%]{text-align:left;padding:0;color:#4b5157;border:0;background-color:transparent;margin-left:5px;margin-right:5px;white-space:nowrap;overflow:auto;line-height:2.5}.copy-QR[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:3px 10px;border-top-left-radius:0;border-bottom-left-radius:0;background-color:#efefef}.copy-QR[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover, .copy-QR[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:active, .copy-QR[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:focus{background-color:#e2e2e2}.line-h2[_ngcontent-%COMP%]{line-height:2;padding:5px}.backupCodes[_ngcontent-%COMP%]{text-align:center}.backupCodes[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]{letter-spacing:2px;font-size:18px;margin:1rem;color:#4b5157;line-height:2.5}.googleAuth-download[_ngcontent-%COMP%]{transition:all .3s ease-in-out}.googleAuth-download[_ngcontent-%COMP%]:hover{filter:drop-shadow(0 0 5px rgba(0,0,0,.15))}.alert[_ngcontent-%COMP%]{padding:1rem 4rem 1rem 1rem;position:relative;font-size:14px;font-weight:400}.alert[_ngcontent-%COMP%]:before{font-family:Material Design Icons!important;font-size:24px;right:12px;top:0;position:absolute;text-align:center;height:100%;display:flex;align-items:center;justify-content:center}.alert.info[_ngcontent-%COMP%]{color:#04496b;background-color:#d9edf7;border-color:#bce8f1}.alert.info[_ngcontent-%COMP%]:before{content:"\\f2fd"}.alert.info.primary[_ngcontent-%COMP%]{background-color:#e7f4f7!important;border-color:#448a9a!important;color:#005568!important}.alert.info.secondary[_ngcontent-%COMP%]{background-color:#e6f4f4!important;border-color:#65c8c7!important;color:#00a9a7!important}.alert.success[_ngcontent-%COMP%]{background-color:#dff0d8;border-color:#d6e9c6;color:#28a745}.alert.success[_ngcontent-%COMP%]:before{content:"\\f6e8"}.alert.success.primary[_ngcontent-%COMP%]{background-color:#e7f4f7!important;border-color:#448a9a!important;color:#005568!important}.alert.success.secondary[_ngcontent-%COMP%]{background-color:#e6f4f4!important;border-color:#65c8c7!important;color:#00a9a7!important}.alert.send[_ngcontent-%COMP%]{background-color:#dff0d8;border-color:#d6e9c6;color:#28a745}.alert.send[_ngcontent-%COMP%]:before{content:"\\f180"}.alert.warning[_ngcontent-%COMP%]{background-color:#fcf8e3;border-color:#fbeed5}.alert.warning[_ngcontent-%COMP%]:before{content:"\\f02a"}.alert.warning.primary[_ngcontent-%COMP%]{background-color:#e7f4f7!important;border-color:#448a9a!important;color:#005568!important}.alert.warning.secondary[_ngcontent-%COMP%]{background-color:#e6f4f4!important;border-color:#65c8c7!important;color:#00a9a7!important}.alert.error[_ngcontent-%COMP%], .alert.danger[_ngcontent-%COMP%]{background-color:#f2dede;border-color:#eed3d7}.alert.error[_ngcontent-%COMP%]:before, .alert.danger[_ngcontent-%COMP%]:before{content:"\\f15a"}.alert.error.primary[_ngcontent-%COMP%], .alert.danger.primary[_ngcontent-%COMP%]{background-color:#e7f4f7!important;border-color:#448a9a!important;color:#005568!important}.alert.error.secondary[_ngcontent-%COMP%], .alert.danger.secondary[_ngcontent-%COMP%]{background-color:#e6f4f4!important;border-color:#65c8c7!important;color:#00a9a7!important}.ad-area[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:flex-end;width:100%;height:220px}.ad-area[_ngcontent-%COMP%]   .btn-info[_ngcontent-%COMP%]{color:#7843a6;font-size:12px;font-weight:500;padding-right:1rem;padding-left:1rem;border-radius:20px;background-color:#fff;border:0;transition:all .3s}.ad-area[_ngcontent-%COMP%]   .btn-info[_ngcontent-%COMP%]:hover{background-color:#e1e5e9!important}.ad-area[_ngcontent-%COMP%]   .btn-info[_ngcontent-%COMP%]:focus, .ad-area[_ngcontent-%COMP%]   .btn-info[_ngcontent-%COMP%]:active{color:#7843a6!important;background-color:#e1e5e9!important;border:0!important;box-shadow:none!important}@media (min-width: 575.98px){.header[_ngcontent-%COMP%]{margin:0 1rem 1.5rem;padding:1.5rem 0}.header[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-bottom:3rem}.BG[_ngcontent-%COMP%]{align-items:center}.container[_ngcontent-%COMP%]{height:auto;max-width:1140px;background-color:transparent}.main-section[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{margin-bottom:1.5rem}.right-col[_ngcontent-%COMP%]{padding:0 1rem;min-height:600px!important;border-radius:4px;padding:1rem}@media (max-width: 980px){.right-col[_ngcontent-%COMP%]{display:none}}.after-layout[_ngcontent-%COMP%]{padding-top:60px;height:100%;display:flex;align-items:flex-start}.profile-nav[_ngcontent-%COMP%]   .app-icon[_ngcontent-%COMP%]{height:40px;width:40px}.profile-nav[_ngcontent-%COMP%]   .user-menu[_ngcontent-%COMP%]{transform:scale(1)}.right-menu[_ngcontent-%COMP%]{background-color:#fff;position:fixed;top:56px;z-index:10}.profile-menu-item[_ngcontent-%COMP%]{font-size:14px}.profile-menu-item[_ngcontent-%COMP%]:before{top:-4px;right:0;border-radius:0 0 5px 5px;opacity:0;transition:all .2s ease-in-out}.profile-menu-item[_ngcontent-%COMP%]:hover:before{top:1px;opacity:1}.profile-menu-item.active[_ngcontent-%COMP%]:before{top:1px;height:4px;opacity:1}.account-changes[_ngcontent-%COMP%]{padding:2.5rem 3.5rem 0}}@media (min-width: 767.98px){.right-col[_ngcontent-%COMP%]{padding:1rem;border-radius:4px;margin-top:0;margin-bottom:0}.right-menu[_ngcontent-%COMP%]{background-color:#fff;position:relative;top:auto;z-index:10}.profile-menu-item[_ngcontent-%COMP%]{font-weight:400;position:relative;padding:.5rem}.navbar-expand-md[_ngcontent-%COMP%]   .navbar-collapse[_ngcontent-%COMP%]{display:none!important}.h-70[_ngcontent-%COMP%]{height:70px}.profile-nav[_ngcontent-%COMP%]   .dropdown-toggle[_ngcontent-%COMP%]{padding:0 15px 0 0}}@media (min-width: 991.98px){.main-container[_ngcontent-%COMP%]{height:100%}.organizer[_ngcontent-%COMP%]{padding:0 1.5rem;margin:0 1.5rem}.right-col[_ngcontent-%COMP%]{padding:2rem;box-shadow:none}.right-col[_ngcontent-%COMP%]:before{content:none}.left-col[_ngcontent-%COMP%]{display:block}.header[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:none}.row-styled[_ngcontent-%COMP%]{box-shadow:0 0 20px #0000001a,0 0 4px #00000026;overflow:hidden}.funds-section[_ngcontent-%COMP%]   .chart-legends[_ngcontent-%COMP%]{justify-content:flex-start}.security-rules[_ngcontent-%COMP%]{padding:0 2rem 2rem;line-height:1.8}}@media (min-width: 1199.98px){.right-col[_ngcontent-%COMP%]{padding:2rem;box-shadow:none}.organizer[_ngcontent-%COMP%]{padding:0 3rem;margin:0 3rem}.dropdown-menu[_ngcontent-%COMP%]{top:2rem;left:0}}
/*# sourceMappingURL=login.component-RVFH4LW4.css.map */`],
        changeDetection: 0
    });
    let e = t;
    return e
}
)();
var Jc = ( () => {
    let t = class t {
        constructor(i) {
            this.modalService = i,
            this.hasPushState = !1,
            sn(window, "popstate").subscribe( () => {
                this.hasPushState = !1,
                this.hasOpenModals() && this.dismissAll()
            }
            )
        }
        get activeInstances() {
            return this.modalService.activeInstances
        }
        hasOpenModals() {
            return this.modalService.hasOpenModals()
        }
        open(i, r) {
            let s = this.modalService.open(i, r);
            return this.pushState(),
            this.listenToModal(s),
            s
        }
        dismissAll() {
            this.modalService.dismissAll()
        }
        listenToModal(i) {
            i.result.then(null, () => {
                this.popState()
            }
            ).catch(console.log)
        }
        pushState() {
            history.pushState(null, ""),
            this.hasPushState = !0
        }
        popState() {
            this.hasPushState && history.go(-1),
            this.hasPushState = !1
        }
    }
    ;
    t.\u0275fac = function(r) {
        return new (r || t)(xe(NE))
    }
    ,
    t.\u0275prov = re({
        token: t,
        factory: t.\u0275fac,
        providedIn: "root"
    });
    let e = t;
    return e
}
)();
var za = ( () => {
    let t = class t {
        constructor() {
            this.injector = z(an),
            this.userDeviceService = z(hr),
            this.icons = $t,
            this.environment = z(xn),
            this.IsMobile = wi(this.userDeviceService.deviceType$.pipe($e(i => i === yn.Mobile)))
        }
        get modalService() {
            return this._modalService || (this._modalService = this.injector.get(Jc)),
            this._modalService
        }
        get localStorageService() {
            return this._localStorageService || (this._localStorageService = this.injector.get(Tc)),
            this._localStorageService
        }
        openModal(i, r) {
            this.modalService.open(i, r)
        }
        closeModal() {
            this.modalService.dismissAll()
        }
    }
    ;
    t.\u0275fac = function(r) {
        return new (r || t)
    }
    ,
    t.\u0275cmp = Ye({
        type: t,
        selectors: [["ng-component"]],
        decls: 0,
        vars: 0,
        template: function(r, s) {},
        encapsulation: 2,
        changeDetection: 0
    });
    let e = t;
    return e
}
)();
var Vz = ["logoutModalContent"]
  , q9 = e => ({
    disabled: e
});
function Wz(e, t) {
    if (e & 1) {
        let n = cn();
        H(0, "div", 1)(1, "span", 2),
        oe(2, "\u062E\u0631\u0648\u062C \u0627\u0632 \u062D\u0633\u0627\u0628"),
        W(),
        H(3, "button", 3),
        Qe("click", function() {
            yt(n);
            let r = Te();
            return bt(r.onCloseModal(!1))
        }),
        me(4, "span", 4),
        W()(),
        H(5, "div", 5)(6, "div")(7, "span"),
        oe(8, "\u0622\u06CC\u0627 \u0645\u0627\u06CC\u0644 \u0628\u0647 \u062E\u0631\u0648\u062C \u0627\u0632 \u062D\u0633\u0627\u0628 \u06A9\u0627\u0631\u0628\u0631\u06CC \u062E\u0648\u062F \u0647\u0633\u062A\u06CC\u062F\u061F"),
        W()()(),
        H(9, "div", 6)(10, "div", 7)(11, "button", 8),
        Qe("click", function() {
            yt(n);
            let r = Te();
            return bt(r.onCloseModal(!1))
        }),
        oe(12, " \u0627\u0646\u0635\u0631\u0627\u0641 "),
        W(),
        H(13, "button", 9),
        Qe("click", function() {
            yt(n);
            let r = Te();
            return bt(r.onCloseModal(!0))
        }),
        me(14, "svg-icon", 10),
        oe(15, " \u062E\u0631\u0648\u062C "),
        W()()()
    }
    if (e & 2) {
        let n = Te();
        Q(3),
        ye("ngClass", Dn(6, q9, n.isLogout())),
        Q(8),
        ye("ngClass", Dn(8, q9, n.isLogout())),
        Q(2),
        ye("ngClass", Dn(10, q9, n.isLogout())),
        Q(),
        mr("spin me-1 " + (n.isLogout() ? "d-inline-block" : "d-none")),
        ye("iconName", n.icons.Loading)
    }
}
var Npe = ( () => {
    let t = class t extends za {
        constructor() {
            super(...arguments),
            this.logoutModalContent = sc("logoutModalContent"),
            this.logoutEmitter = Wt(),
            this.userActivityEmitter = Wt(),
            this.isLogout = wt(!1),
            this.isShowUserActivity = wt(!1)
        }
        ngOnInit() {
            this.openModalWithDelay()
        }
        openModalWithDelay() {
            setTimeout( () => {
                this.openModal()
            }
            , Sg)
        }
        openModal() {
            let i = {
                backdrop: "static",
                keyboard: !1
            };
            this.modalService.open(this.logoutModalContent(), i).result.then( () => {}
            , () => {
                this.doAfterCloseOperations()
            }
            )
        }
        doAfterCloseOperations() {
            this.isShowUserActivity() ? this.userActivityEmitter.emit(this.isShowUserActivity()) : this.logoutEmitter.emit(this.isLogout())
        }
        onCloseModal(i) {
            this.isLogout() !== !0 && (this.isLogout.set(i),
            i ? this.logoutEmitter.emit(this.isLogout()) : this.modalService.dismissAll())
        }
    }
    ;
    t.\u0275fac = ( () => {
        let i;
        return function(s) {
            return (i || (i = On(t)))(s || t)
        }
    }
    )(),
    t.\u0275cmp = Ye({
        type: t,
        selectors: [["logout-modal"]],
        viewQuery: function(r, s) {
            r & 1 && cc(s.logoutModalContent, Vz, 5),
            r & 2 && lc()
        },
        outputs: {
            logoutEmitter: "logoutEmitter",
            userActivityEmitter: "userActivityEmitter"
        },
        features: [xo],
        decls: 2,
        vars: 0,
        consts: [["logoutModalContent", ""], [1, "modal-header", "align-items-center", "d-flex", "justify-content-between"], [1, "modal-title"], ["type", "button", "aria-label", "Close", 1, "btn-close", "m-0", 3, "click", "ngClass"], ["aria-hidden", "true"], [1, "modal-body", "py-4"], [1, "modal-footer"], [1, "m-0", "d-flex", "gap-2"], ["type", "button", 1, "btn", "btn-outline-secondary", 3, "click", "ngClass"], ["type", "button", "data-cy", "sign-out-confirm", 1, "btn", "btn-danger", "px-5", 3, "click", "ngClass"], ["width", "18", "height", "18", 3, "iconName"]],
        template: function(r, s) {
            r & 1 && at(0, Wz, 16, 12, "ng-template", null, 0, hc)
        },
        dependencies: [Fn, rr],
        encapsulation: 2,
        changeDetection: 0
    });
    let e = t;
    return e
}
)();
var Lpe = ( () => {
    let t = class t {
        constructor(i, r) {
            this.authService = i,
            this.environment = r
        }
        ngOnInit() {
            this.authService.isLoggedIn() ? window.location.href = this.environment.appUrl : this.authService.completeAuthentication()
        }
    }
    ;
    t.\u0275fac = function(r) {
        return new (r || t)(Pt(Dr),Pt(xn))
    }
    ,
    t.\u0275cmp = Ye({
        type: t,
        selectors: [["ng-component"]],
        decls: 0,
        vars: 0,
        template: function(r, s) {},
        encapsulation: 2,
        changeDetection: 0
    });
    let e = t;
    return e
}
)();
var $pe = ( () => {
    let t = class t extends za {
        constructor() {
            super(...arguments),
            this.authService = z(Dr),
            this.message = wt(""),
            this.description = W0( () => `${this.message()}\u060C \u0628\u0631\u0627\u06CC \u0627\u0639\u0645\u0627\u0644 \u062A\u063A\u06CC\u06CC\u0631\u0627\u062A\u060C \u0646\u06CC\u0627\u0632 \u0628\u0647 \u0648\u0631\u0648\u062F \u0645\u062C\u062F\u062F \u0645\u06CC \u0628\u0627\u0634\u062F.`)
        }
        updateMessage(i) {
            this.message.set(i)
        }
        onCloseModal(i) {
            i && this.exit(),
            this.modalService.dismissAll()
        }
        exit() {
            this.authService.logout()
        }
    }
    ;
    t.\u0275fac = ( () => {
        let i;
        return function(s) {
            return (i || (i = On(t)))(s || t)
        }
    }
    )(),
    t.\u0275cmp = Ye({
        type: t,
        selectors: [["reload-app"]],
        features: [xo],
        decls: 15,
        vars: 1,
        consts: [[1, "modal-header", "align-items-center", "d-flex", "justify-content-between"], [1, "modal-title"], ["type", "button", "aria-label", "Close", 1, "btn-close", "m-0", 3, "click"], ["aria-hidden", "true"], [1, "modal-body", "py-4"], [1, "modal-footer"], [1, "m-0", "d-flex", "gap-2"], ["type", "button", 1, "btn", "btn-outline-secondary", 3, "click"], ["data-cy", "sign-out-confirm", "type", "button", 1, "btn", "btn-success", "px-5", 3, "click"]],
        template: function(r, s) {
            r & 1 && (H(0, "div", 0)(1, "span", 1),
            oe(2, "\u0648\u0631\u0648\u062F \u0645\u062C\u062F\u062F"),
            W(),
            H(3, "button", 2),
            Qe("click", function() {
                return s.onCloseModal(!1)
            }),
            me(4, "span", 3),
            W()(),
            H(5, "div", 4)(6, "div")(7, "span"),
            oe(8),
            W()()(),
            H(9, "div", 5)(10, "div", 6)(11, "button", 7),
            Qe("click", function() {
                return s.onCloseModal(!1)
            }),
            oe(12, "\u0627\u0646\u0635\u0631\u0627\u0641"),
            W(),
            H(13, "button", 8),
            Qe("click", function() {
                return s.onCloseModal(!0)
            }),
            oe(14, " \u0648\u0631\u0648\u062F \u0645\u062C\u062F\u062F "),
            W()()()),
            r & 2 && (Q(8),
            Pn(s.description()))
        },
        encapsulation: 2,
        changeDetection: 0
    });
    let e = t;
    return e
}
)();
var sa, Y = typeof window < "u" ? window : void 0, ts = typeof globalThis < "u" ? globalThis : Y, CO = Array.prototype, ST = CO.forEach, xT = CO.indexOf, Cs = ts?.navigator, qe = ts?.document, es = ts?.location, om = ts?.fetch, am = ts != null && ts.XMLHttpRequest && "withCredentials"in new ts.XMLHttpRequest ? ts.XMLHttpRequest : void 0, wT = ts?.AbortController, Li = Cs?.userAgent, _t = Y ?? {}, Ja = {
    DEBUG: !1,
    LIB_VERSION: "1.207.0"
}, X9 = "$copy_autocapture", $z = ["$snapshot", "$pageview", "$pageleave", "$set", "survey dismissed", "survey sent", "survey shown", "$identify", "$groupidentify", "$create_alias", "$$client_ingestion_warning", "$web_experiment_applied", "$feature_enrollment_update", "$feature_flag_called"];
(function(e) {
    e.GZipJS = "gzip-js",
    e.Base64 = "base64"
}
)(sa || (sa = {}));
function Ft(e, t) {
    return e.indexOf(t) !== -1
}
var wp = function(e) {
    return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g, "")
}
  , cm = function(e) {
    return e.replace(/^\$/, "")
}
  , jz = Array.isArray
  , EO = Object.prototype
  , TO = EO.hasOwnProperty
  , Cp = EO.toString
  , zn = jz || function(e) {
    return Cp.call(e) === "[object Array]"
}
  , Es = e => typeof e == "function"
  , Xn = e => e === Object(e) && !zn(e)
  , lh = e => {
    if (Xn(e)) {
        for (var t in e)
            if (TO.call(e, t))
                return !1;
        return !0
    }
    return !1
}
  , et = e => e === void 0
  , Ji = e => Cp.call(e) == "[object String]"
  , CT = e => Ji(e) && e.trim().length === 0
  , sl = e => e === null
  , dn = e => et(e) || sl(e)
  , Fr = e => Cp.call(e) == "[object Number]"
  , P0 = e => Cp.call(e) === "[object Boolean]"
  , qz = e => e instanceof FormData
  , zz = e => Ft($z, e)
  , OO = e => {
    var t = {
        _log: function(n) {
            if (Y && (Ja.DEBUG || _t.POSTHOG_DEBUG) && !et(Y.console) && Y.console) {
                for (var i = ("__rrweb_original__"in Y.console[n]) ? Y.console[n].__rrweb_original__ : Y.console[n], r = arguments.length, s = new Array(r > 1 ? r - 1 : 0), o = 1; o < r; o++)
                    s[o - 1] = arguments[o];
                i(e, ...s)
            }
        },
        info: function() {
            for (var n = arguments.length, i = new Array(n), r = 0; r < n; r++)
                i[r] = arguments[r];
            t._log("log", ...i)
        },
        warn: function() {
            for (var n = arguments.length, i = new Array(n), r = 0; r < n; r++)
                i[r] = arguments[r];
            t._log("warn", ...i)
        },
        error: function() {
            for (var n = arguments.length, i = new Array(n), r = 0; r < n; r++)
                i[r] = arguments[r];
            t._log("error", ...i)
        },
        critical: function() {
            for (var n = arguments.length, i = new Array(n), r = 0; r < n; r++)
                i[r] = arguments[r];
            console.error(e, ...i)
        },
        uninitializedWarning: n => {
            t.error("You must initialize PostHog before calling ".concat(n))
        }
        ,
        createLogger: n => OO("".concat(e, " ").concat(n))
    };
    return t
}
  , Je = OO("[PostHog.js]")
  , pr = Je.createLogger
  , Xz = pr("[ExternalScriptsLoader]")
  , ET = (e, t, n) => {
    if (e.config.disable_external_dependency_loading)
        return Xz.warn("".concat(t, " was requested but loading of external scripts is disabled.")),
        n("Loading of external scripts is disabled");
    var i = () => {
        if (!qe)
            return n("document not found");
        var r = qe.createElement("script");
        if (r.type = "text/javascript",
        r.crossOrigin = "anonymous",
        r.src = t,
        r.onload = a => n(void 0, a),
        r.onerror = a => n(a),
        e.config.prepare_external_dependency_script && (r = e.config.prepare_external_dependency_script(r)),
        !r)
            return n("prepare_external_dependency_script returned null");
        var s, o = qe.querySelectorAll("body > script");
        o.length > 0 ? (s = o[0].parentNode) === null || s === void 0 || s.insertBefore(r, o[0]) : qe.body.appendChild(r)
    }
    ;
    qe != null && qe.body ? i() : qe?.addEventListener("DOMContentLoaded", i)
}
;
function TT(e, t) {
    var n = Object.keys(e);
    if (Object.getOwnPropertySymbols) {
        var i = Object.getOwnPropertySymbols(e);
        t && (i = i.filter(function(r) {
            return Object.getOwnPropertyDescriptor(e, r).enumerable
        })),
        n.push.apply(n, i)
    }
    return n
}
function we(e) {
    for (var t = 1; t < arguments.length; t++) {
        var n = arguments[t] != null ? arguments[t] : {};
        t % 2 ? TT(Object(n), !0).forEach(function(i) {
            Ie(e, i, n[i])
        }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : TT(Object(n)).forEach(function(i) {
            Object.defineProperty(e, i, Object.getOwnPropertyDescriptor(n, i))
        })
    }
    return e
}
function Ie(e, t, n) {
    return t in e ? Object.defineProperty(e, t, {
        value: n,
        enumerable: !0,
        configurable: !0,
        writable: !0
    }) : e[t] = n,
    e
}
function PO(e, t) {
    if (e == null)
        return {};
    var n, i, r = function(o, a) {
        if (o == null)
            return {};
        var c, l, u = {}, h = Object.keys(o);
        for (l = 0; l < h.length; l++)
            c = h[l],
            a.indexOf(c) >= 0 || (u[c] = o[c]);
        return u
    }(e, t);
    if (Object.getOwnPropertySymbols) {
        var s = Object.getOwnPropertySymbols(e);
        for (i = 0; i < s.length; i++)
            n = s[i],
            t.indexOf(n) >= 0 || Object.prototype.propertyIsEnumerable.call(e, n) && (r[n] = e[n])
    }
    return r
}
_t.__PosthogExtensions__ = _t.__PosthogExtensions__ || {},
_t.__PosthogExtensions__.loadExternalDependency = (e, t, n) => {
    var i = "/static/".concat(t, ".js") + "?v=".concat(e.version);
    if (t === "remote-config" && (i = "/array/".concat(e.config.token, "/config.js")),
    t === "toolbar") {
        var r = 3e5
          , s = Math.floor(Date.now() / r) * r;
        i = "".concat(i, "&t=").concat(s)
    }
    var o = e.requestRouter.endpointFor("assets", i);
    ET(e, o, n)
}
,
_t.__PosthogExtensions__.loadSiteApp = (e, t, n) => {
    var i = e.requestRouter.endpointFor("api", t);
    ET(e, i, n)
}
;
var rp = {};
function il(e, t, n) {
    if (zn(e)) {
        if (ST && e.forEach === ST)
            e.forEach(t, n);
        else if ("length"in e && e.length === +e.length) {
            for (var i = 0, r = e.length; i < r; i++)
                if (i in e && t.call(n, e[i], i) === rp)
                    return
        }
    }
}
function hn(e, t, n) {
    if (!dn(e)) {
        if (zn(e))
            return il(e, t, n);
        if (qz(e)) {
            for (var i of e.entries())
                if (t.call(n, i[1], i[0]) === rp)
                    return
        } else
            for (var r in e)
                if (TO.call(e, r) && t.call(n, e[r], r) === rp)
                    return
    }
}
var fr = function(e) {
    for (var t = arguments.length, n = new Array(t > 1 ? t - 1 : 0), i = 1; i < t; i++)
        n[i - 1] = arguments[i];
    return il(n, function(r) {
        for (var s in r)
            r[s] !== void 0 && (e[s] = r[s])
    }),
    e
}
  , lm = function(e) {
    for (var t = arguments.length, n = new Array(t > 1 ? t - 1 : 0), i = 1; i < t; i++)
        n[i - 1] = arguments[i];
    return il(n, function(r) {
        il(r, function(s) {
            e.push(s)
        })
    }),
    e
};
function tp(e) {
    for (var t = Object.keys(e), n = t.length, i = new Array(n); n--; )
        i[n] = [t[n], e[t[n]]];
    return i
}
var OT = function(e) {
    try {
        return e()
    } catch {
        return
    }
}
  , Kz = function(e) {
    return function() {
        try {
            for (var t = arguments.length, n = new Array(t), i = 0; i < t; i++)
                n[i] = arguments[i];
            return e.apply(this, n)
        } catch (r) {
            Je.critical("Implementation error. Please turn on debug mode and open a ticket on https://app.posthog.com/home#panel=support%3Asupport%3A."),
            Je.critical(r)
        }
    }
}
  , sp = function(e) {
    var t = {};
    return hn(e, function(n, i) {
        Ji(n) && n.length > 0 && (t[i] = n)
    }),
    t
};
function Yz(e, t) {
    return n = e,
    i = s => Ji(s) && !sl(t) ? s.slice(0, t) : s,
    r = new Set,
    function s(o, a) {
        return o !== Object(o) ? i ? i(o, a) : o : r.has(o) ? void 0 : (r.add(o),
        zn(o) ? (c = [],
        il(o, l => {
            c.push(s(l))
        }
        )) : (c = {},
        hn(o, (l, u) => {
            r.has(l) || (c[u] = s(l, u))
        }
        )),
        c);
        var c
    }(n);
    var n, i, r
}
var Za = function() {
    function e(t) {
        return t && (t.preventDefault = e.preventDefault,
        t.stopPropagation = e.stopPropagation),
        t
    }
    return e.preventDefault = function() {
        this.returnValue = !1
    }
    ,
    e.stopPropagation = function() {
        this.cancelBubble = !0
    }
    ,
    function(t, n, i, r, s) {
        if (t)
            if (t.addEventListener && !r)
                t.addEventListener(n, i, !!s);
            else {
                var o = "on" + n
                  , a = t[o];
                t[o] = function(c, l, u) {
                    return function(h) {
                        if (h = h || e(Y?.event)) {
                            var d, f = !0;
                            Es(u) && (d = u(h));
                            var g = l.call(c, h);
                            return d !== !1 && g !== !1 || (f = !1),
                            f
                        }
                    }
                }(t, i, a)
            }
        else
            Je.error("No valid element provided to register_event")
    }
}();
function MO(e, t) {
    for (var n = 0; n < e.length; n++)
        if (t(e[n]))
            return e[n]
}
var kO = "$people_distinct_id"
  , j1 = "__alias"
  , q1 = "__timers"
  , PT = "$autocapture_disabled_server_side"
  , um = "$heatmaps_enabled_server_side"
  , MT = "$exception_capture_enabled_server_side"
  , kT = "$web_vitals_enabled_server_side"
  , AO = "$dead_clicks_enabled_server_side"
  , AT = "$web_vitals_allowed_metrics"
  , hm = "$session_recording_enabled_server_side"
  , IT = "$console_log_recording_enabled_server_side"
  , RT = "$session_recording_network_payload_capture"
  , DT = "$session_recording_canvas_recording"
  , NT = "$replay_sample_rate"
  , FT = "$replay_minimum_duration"
  , LT = "$replay_script_config"
  , op = "$sesid"
  , z1 = "$session_is_sampled"
  , K9 = "$session_recording_url_trigger_activated_session"
  , Y9 = "$session_recording_event_trigger_activated_session"
  , uh = "$enabled_feature_flags"
  , np = "$early_access_features"
  , X1 = "$stored_person_properties"
  , T0 = "$stored_group_properties"
  , dm = "$surveys"
  , j2 = "$surveys_activated"
  , ap = "$flag_call_reported"
  , Ka = "$user_state"
  , fm = "$client_session_props"
  , pm = "$capture_rate_limit"
  , gm = "$initial_campaign_params"
  , mm = "$initial_referrer_info"
  , vm = "$initial_person_info"
  , cp = "$epp"
  , IO = "__POSTHOG_TOOLBAR__"
  , BT = "$posthog_cookieless"
  , Qz = [kO, j1, "__cmpns", q1, hm, um, op, uh, Ka, np, T0, X1, dm, ap, fm, pm, gm, mm, cp]
  , q2 = pr("[FeatureFlags]")
  , Q9 = "$active_feature_flags"
  , z2 = "$override_feature_flags"
  , UT = "$feature_flag_payloads"
  , HT = e => {
    var t = {};
    for (var [n,i] of tp(e || {}))
        i && (t[n] = i);
    return t
}
  , _m = class {
    constructor(t) {
        Ie(this, "_override_warning", !1),
        Ie(this, "_hasLoadedFlags", !1),
        Ie(this, "_requestInFlight", !1),
        Ie(this, "_reloadingDisabled", !1),
        Ie(this, "_additionalReloadRequested", !1),
        Ie(this, "_decideCalled", !1),
        Ie(this, "_flagsLoadedFromRemote", !1),
        this.instance = t,
        this.featureFlagEventHandlers = []
    }
    decide() {
        if (this.instance.config.__preview_remote_config)
            this._decideCalled = !0;
        else {
            var t = !this._reloadDebouncer && (this.instance.config.advanced_disable_feature_flags || this.instance.config.advanced_disable_feature_flags_on_first_load);
            this._callDecideEndpoint({
                disableFlags: t
            })
        }
    }
    get hasLoadedFlags() {
        return this._hasLoadedFlags
    }
    getFlags() {
        return Object.keys(this.getFlagVariants())
    }
    getFlagVariants() {
        var t = this.instance.get_property(uh)
          , n = this.instance.get_property(z2);
        if (!n)
            return t || {};
        for (var i = fr({}, t), r = Object.keys(n), s = 0; s < r.length; s++)
            i[r[s]] = n[r[s]];
        return this._override_warning || (q2.warn(" Overriding feature flags!", {
            enabledFlags: t,
            overriddenFlags: n,
            finalFlags: i
        }),
        this._override_warning = !0),
        i
    }
    getFlagPayloads() {
        return this.instance.get_property(UT) || {}
    }
    reloadFeatureFlags() {
        this._reloadingDisabled || this.instance.config.advanced_disable_feature_flags || this._reloadDebouncer || (this._reloadDebouncer = setTimeout( () => {
            this._callDecideEndpoint()
        }
        , 5))
    }
    clearDebouncer() {
        clearTimeout(this._reloadDebouncer),
        this._reloadDebouncer = void 0
    }
    ensureFlagsLoaded() {
        this._hasLoadedFlags || this._requestInFlight || this._reloadDebouncer || this.reloadFeatureFlags()
    }
    setAnonymousDistinctId(t) {
        this.$anon_distinct_id = t
    }
    setReloadingPaused(t) {
        this._reloadingDisabled = t
    }
    _callDecideEndpoint(t) {
        if (this.clearDebouncer(),
        !this.instance.config.advanced_disable_decide)
            if (this._requestInFlight)
                this._additionalReloadRequested = !0;
            else {
                var n = {
                    token: this.instance.config.token,
                    distinct_id: this.instance.get_distinct_id(),
                    groups: this.instance.getGroups(),
                    $anon_distinct_id: this.$anon_distinct_id,
                    person_properties: this.instance.get_property(X1),
                    group_properties: this.instance.get_property(T0)
                };
                (t != null && t.disableFlags || this.instance.config.advanced_disable_feature_flags) && (n.disable_flags = !0),
                this._requestInFlight = !0,
                this.instance._send_request({
                    method: "POST",
                    url: this.instance.requestRouter.endpointFor("api", "/decide/?v=3"),
                    data: n,
                    compression: this.instance.config.disable_compression ? void 0 : sa.Base64,
                    timeout: this.instance.config.feature_flag_request_timeout_ms,
                    callback: i => {
                        var r, s, o = !0;
                        i.statusCode === 200 && (this.$anon_distinct_id = void 0,
                        o = !1),
                        this._requestInFlight = !1,
                        this._decideCalled || (this._decideCalled = !0,
                        this.instance._onRemoteConfig((s = i.json) !== null && s !== void 0 ? s : {})),
                        n.disable_flags || (this._flagsLoadedFromRemote = !o,
                        this.receivedFeatureFlags((r = i.json) !== null && r !== void 0 ? r : {}, o),
                        this._additionalReloadRequested && (this._additionalReloadRequested = !1,
                        this._callDecideEndpoint()))
                    }
                })
            }
    }
    getFeatureFlag(t) {
        var n = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};
        if (this._hasLoadedFlags || this.getFlags() && this.getFlags().length > 0) {
            var i, r, s, o, a, c = this.getFlagVariants()[t], l = "".concat(c), u = this.instance.get_property(ap) || {};
            return (n.send_event || !("send_event"in n)) && (!(t in u) || !u[t].includes(l)) && (zn(u[t]) ? u[t].push(l) : u[t] = [l],
            (i = this.instance.persistence) === null || i === void 0 || i.register({
                [ap]: u
            }),
            this.instance.capture("$feature_flag_called", {
                $feature_flag: t,
                $feature_flag_response: c,
                $feature_flag_payload: this.getFeatureFlagPayload(t) || null,
                $feature_flag_bootstrapped_response: ((r = this.instance.config.bootstrap) === null || r === void 0 || (s = r.featureFlags) === null || s === void 0 ? void 0 : s[t]) || null,
                $feature_flag_bootstrapped_payload: ((o = this.instance.config.bootstrap) === null || o === void 0 || (a = o.featureFlagPayloads) === null || a === void 0 ? void 0 : a[t]) || null,
                $used_bootstrap_value: !this._flagsLoadedFromRemote
            })),
            c
        }
        q2.warn('getFeatureFlag for key "' + t + `" failed. Feature flags didn't load in time.`)
    }
    getFeatureFlagPayload(t) {
        return this.getFlagPayloads()[t]
    }
    isFeatureEnabled(t) {
        var n = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};
        if (this._hasLoadedFlags || this.getFlags() && this.getFlags().length > 0)
            return !!this.getFeatureFlag(t, n);
        q2.warn('isFeatureEnabled for key "' + t + `" failed. Feature flags didn't load in time.`)
    }
    addFeatureFlagsHandler(t) {
        this.featureFlagEventHandlers.push(t)
    }
    removeFeatureFlagsHandler(t) {
        this.featureFlagEventHandlers = this.featureFlagEventHandlers.filter(n => n !== t)
    }
    receivedFeatureFlags(t, n) {
        if (this.instance.persistence) {
            this._hasLoadedFlags = !0;
            var i = this.getFlagVariants()
              , r = this.getFlagPayloads();
            (function(s, o) {
                var a = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : {}
                  , c = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : {}
                  , l = s.featureFlags
                  , u = s.featureFlagPayloads;
                if (l)
                    if (zn(l)) {
                        var h = {};
                        if (l)
                            for (var d = 0; d < l.length; d++)
                                h[l[d]] = !0;
                        o && o.register({
                            [Q9]: l,
                            [uh]: h
                        })
                    } else {
                        var f = l
                          , g = u;
                        s.errorsWhileComputingFlags && (f = we(we({}, a), f),
                        g = we(we({}, c), g)),
                        o && o.register({
                            [Q9]: Object.keys(HT(f)),
                            [uh]: f || {},
                            [UT]: g || {}
                        })
                    }
            }
            )(t, this.instance.persistence, i, r),
            this._fireFeatureFlagsCallbacks(n)
        }
    }
    override(t) {
        var n = arguments.length > 1 && arguments[1] !== void 0 && arguments[1];
        if (!this.instance.__loaded || !this.instance.persistence)
            return q2.uninitializedWarning("posthog.feature_flags.override");
        if (this._override_warning = n,
        t === !1)
            this.instance.persistence.unregister(z2);
        else if (zn(t)) {
            for (var i = {}, r = 0; r < t.length; r++)
                i[t[r]] = !0;
            this.instance.persistence.register({
                [z2]: i
            })
        } else
            this.instance.persistence.register({
                [z2]: t
            })
    }
    onFeatureFlags(t) {
        if (this.addFeatureFlagsHandler(t),
        this._hasLoadedFlags) {
            var {flags: n, flagVariants: i} = this._prepareFeatureFlagsForCallbacks();
            t(n, i)
        }
        return () => this.removeFeatureFlagsHandler(t)
    }
    updateEarlyAccessFeatureEnrollment(t, n) {
        var i, r = (this.instance.get_property(np) || []).find(c => c.flagKey === t), s = {
            ["$feature_enrollment/".concat(t)]: n
        }, o = {
            $feature_flag: t,
            $feature_enrollment: n,
            $set: s
        };
        r && (o.$early_access_feature_name = r.name),
        this.instance.capture("$feature_enrollment_update", o),
        this.setPersonPropertiesForFlags(s, !1);
        var a = we(we({}, this.getFlagVariants()), {}, {
            [t]: n
        });
        (i = this.instance.persistence) === null || i === void 0 || i.register({
            [Q9]: Object.keys(HT(a)),
            [uh]: a
        }),
        this._fireFeatureFlagsCallbacks()
    }
    getEarlyAccessFeatures(t) {
        var n = arguments.length > 1 && arguments[1] !== void 0 && arguments[1]
          , i = this.instance.get_property(np);
        if (i && !n)
            return t(i);
        this.instance._send_request({
            url: this.instance.requestRouter.endpointFor("api", "/api/early_access_features/?token=".concat(this.instance.config.token)),
            method: "GET",
            callback: r => {
                var s;
                if (r.json) {
                    var o = r.json.earlyAccessFeatures;
                    return (s = this.instance.persistence) === null || s === void 0 || s.register({
                        [np]: o
                    }),
                    t(o)
                }
            }
        })
    }
    _prepareFeatureFlagsForCallbacks() {
        var t = this.getFlags()
          , n = this.getFlagVariants();
        return {
            flags: t.filter(i => n[i]),
            flagVariants: Object.keys(n).filter(i => n[i]).reduce( (i, r) => (i[r] = n[r],
            i), {})
        }
    }
    _fireFeatureFlagsCallbacks(t) {
        var {flags: n, flagVariants: i} = this._prepareFeatureFlagsForCallbacks();
        this.featureFlagEventHandlers.forEach(r => r(n, i, {
            errorsLoading: t
        }))
    }
    setPersonPropertiesForFlags(t) {
        var n = !(arguments.length > 1 && arguments[1] !== void 0) || arguments[1]
          , i = this.instance.get_property(X1) || {};
        this.instance.register({
            [X1]: we(we({}, i), t)
        }),
        n && this.instance.reloadFeatureFlags()
    }
    resetPersonPropertiesForFlags() {
        this.instance.unregister(X1)
    }
    setGroupPropertiesForFlags(t) {
        var n = !(arguments.length > 1 && arguments[1] !== void 0) || arguments[1]
          , i = this.instance.get_property(T0) || {};
        Object.keys(i).length !== 0 && Object.keys(i).forEach(r => {
            i[r] = we(we({}, i[r]), t[r]),
            delete t[r]
        }
        ),
        this.instance.register({
            [T0]: we(we({}, i), t)
        }),
        n && this.instance.reloadFeatureFlags()
    }
    resetGroupPropertiesForFlags(t) {
        if (t) {
            var n = this.instance.get_property(T0) || {};
            this.instance.register({
                [T0]: we(we({}, n), {}, {
                    [t]: {}
                })
            })
        } else
            this.instance.unregister(T0)
    }
}
;
Math.trunc || (Math.trunc = function(e) {
    return e < 0 ? Math.ceil(e) : Math.floor(e)
}
),
Number.isInteger || (Number.isInteger = function(e) {
    return Fr(e) && isFinite(e) && Math.floor(e) === e
}
);
var GT = "0123456789abcdef", ym = class e {
    constructor(t) {
        if (this.bytes = t,
        t.length !== 16)
            throw new TypeError("not 128-bit length")
    }
    static fromFieldsV7(t, n, i, r) {
        if (!Number.isInteger(t) || !Number.isInteger(n) || !Number.isInteger(i) || !Number.isInteger(r) || t < 0 || n < 0 || i < 0 || r < 0 || t > 0xffffffffffff || n > 4095 || i > 1073741823 || r > 4294967295)
            throw new RangeError("invalid field value");
        var s = new Uint8Array(16);
        return s[0] = t / Math.pow(2, 40),
        s[1] = t / Math.pow(2, 32),
        s[2] = t / Math.pow(2, 24),
        s[3] = t / Math.pow(2, 16),
        s[4] = t / Math.pow(2, 8),
        s[5] = t,
        s[6] = 112 | n >>> 8,
        s[7] = n,
        s[8] = 128 | i >>> 24,
        s[9] = i >>> 16,
        s[10] = i >>> 8,
        s[11] = i,
        s[12] = r >>> 24,
        s[13] = r >>> 16,
        s[14] = r >>> 8,
        s[15] = r,
        new e(s)
    }
    toString() {
        for (var t = "", n = 0; n < this.bytes.length; n++)
            t = t + GT.charAt(this.bytes[n] >>> 4) + GT.charAt(15 & this.bytes[n]),
            n !== 3 && n !== 5 && n !== 7 && n !== 9 || (t += "-");
        if (t.length !== 36)
            throw new Error("Invalid UUIDv7 was generated");
        return t
    }
    clone() {
        return new e(this.bytes.slice(0))
    }
    equals(t) {
        return this.compareTo(t) === 0
    }
    compareTo(t) {
        for (var n = 0; n < 16; n++) {
            var i = this.bytes[n] - t.bytes[n];
            if (i !== 0)
                return Math.sign(i)
        }
        return 0
    }
}
, bm = class {
    constructor() {
        Ie(this, "timestamp", 0),
        Ie(this, "counter", 0),
        Ie(this, "random", new Sm)
    }
    generate() {
        var t = this.generateOrAbort();
        if (et(t)) {
            this.timestamp = 0;
            var n = this.generateOrAbort();
            if (et(n))
                throw new Error("Could not generate UUID after timestamp reset");
            return n
        }
        return t
    }
    generateOrAbort() {
        var t = Date.now();
        if (t > this.timestamp)
            this.timestamp = t,
            this.resetCounter();
        else {
            if (!(t + 1e4 > this.timestamp))
                return;
            this.counter++,
            this.counter > 4398046511103 && (this.timestamp++,
            this.resetCounter())
        }
        return ym.fromFieldsV7(this.timestamp, Math.trunc(this.counter / Math.pow(2, 30)), this.counter & Math.pow(2, 30) - 1, this.random.nextUint32())
    }
    resetCounter() {
        this.counter = 1024 * this.random.nextUint32() + (1023 & this.random.nextUint32())
    }
}
, VT, RO = e => {
    if (typeof UUIDV7_DENY_WEAK_RNG < "u" && UUIDV7_DENY_WEAK_RNG)
        throw new Error("no cryptographically strong RNG available");
    for (var t = 0; t < e.length; t++)
        e[t] = 65536 * Math.trunc(65536 * Math.random()) + Math.trunc(65536 * Math.random());
    return e
}
;
Y && !et(Y.crypto) && crypto.getRandomValues && (RO = e => crypto.getRandomValues(e));
var Sm = class {
    constructor() {
        Ie(this, "buffer", new Uint32Array(8)),
        Ie(this, "cursor", 1 / 0)
    }
    nextUint32() {
        return this.cursor >= this.buffer.length && (RO(this.buffer),
        this.cursor = 0),
        this.buffer[this.cursor++]
    }
}
  , tl = () => Jz().toString()
  , Jz = () => (VT || (VT = new bm)).generate()
  , Zz = "Thu, 01 Jan 1970 00:00:00 GMT"
  , G1 = ""
  , eX = /[a-z0-9][a-z0-9-]+\.[a-z]{2,}$/i;
function tX(e, t) {
    if (t) {
        var n = function(r) {
            var s = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : qe;
            if (G1)
                return G1;
            if (!s || ["localhost", "127.0.0.1"].includes(r))
                return "";
            for (var o = r.split("."), a = Math.min(o.length, 8), c = "dmn_chk_" + tl(), l = new RegExp("(^|;)\\s*" + c + "=1"); !G1 && a--; ) {
                var u = o.slice(a).join(".")
                  , h = c + "=1;domain=." + u;
                s.cookie = h,
                l.test(s.cookie) && (s.cookie = h + ";expires=" + Zz,
                G1 = u)
            }
            return G1
        }(e);
        if (!n) {
            var i = (r => {
                var s = r.match(eX);
                return s ? s[0] : ""
            }
            )(e);
            i !== n && Je.info("Warning: cookie subdomain discovery mismatch", i, n),
            n = i
        }
        return n ? "; domain=." + n : ""
    }
    return ""
}
var ec = {
    is_supported: () => !!qe,
    error: function(e) {
        Je.error("cookieStore error: " + e)
    },
    get: function(e) {
        if (qe) {
            try {
                for (var t = e + "=", n = qe.cookie.split(";").filter(s => s.length), i = 0; i < n.length; i++) {
                    for (var r = n[i]; r.charAt(0) == " "; )
                        r = r.substring(1, r.length);
                    if (r.indexOf(t) === 0)
                        return decodeURIComponent(r.substring(t.length, r.length))
                }
            } catch {}
            return null
        }
    },
    parse: function(e) {
        var t;
        try {
            t = JSON.parse(ec.get(e)) || {}
        } catch {}
        return t
    },
    set: function(e, t, n, i, r) {
        if (qe)
            try {
                var s = ""
                  , o = ""
                  , a = tX(qe.location.hostname, i);
                if (n) {
                    var c = new Date;
                    c.setTime(c.getTime() + 24 * n * 60 * 60 * 1e3),
                    s = "; expires=" + c.toUTCString()
                }
                r && (o = "; secure");
                var l = e + "=" + encodeURIComponent(JSON.stringify(t)) + s + "; SameSite=Lax; path=/" + a + o;
                return l.length > 3686.4 && Je.warn("cookieStore warning: large cookie, len=" + l.length),
                qe.cookie = l,
                l
            } catch {
                return
            }
    },
    remove: function(e, t) {
        try {
            ec.set(e, "", -1, t)
        } catch {
            return
        }
    }
}
  , J9 = null
  , Si = {
    is_supported: function() {
        if (!sl(J9))
            return J9;
        var e = !0;
        if (et(Y))
            e = !1;
        else
            try {
                var t = "__mplssupport__";
                Si.set(t, "xyz"),
                Si.get(t) !== '"xyz"' && (e = !1),
                Si.remove(t)
            } catch {
                e = !1
            }
        return e || Je.error("localStorage unsupported; falling back to cookie store"),
        J9 = e,
        e
    },
    error: function(e) {
        Je.error("localStorage error: " + e)
    },
    get: function(e) {
        try {
            return Y?.localStorage.getItem(e)
        } catch (t) {
            Si.error(t)
        }
        return null
    },
    parse: function(e) {
        try {
            return JSON.parse(Si.get(e)) || {}
        } catch {}
        return null
    },
    set: function(e, t) {
        try {
            Y?.localStorage.setItem(e, JSON.stringify(t))
        } catch (n) {
            Si.error(n)
        }
    },
    remove: function(e) {
        try {
            Y?.localStorage.removeItem(e)
        } catch (t) {
            Si.error(t)
        }
    }
}
  , nX = ["distinct_id", op, z1, cp, vm]
  , X2 = we(we({}, Si), {}, {
    parse: function(e) {
        try {
            var t = {};
            try {
                t = ec.parse(e) || {}
            } catch {}
            var n = fr(t, JSON.parse(Si.get(e) || "{}"));
            return Si.set(e, n),
            n
        } catch {}
        return null
    },
    set: function(e, t, n, i, r, s) {
        try {
            Si.set(e, t, void 0, void 0, s);
            var o = {};
            nX.forEach(a => {
                t[a] && (o[a] = t[a])
            }
            ),
            Object.keys(o).length && ec.set(e, o, n, i, r, s)
        } catch (a) {
            Si.error(a)
        }
    },
    remove: function(e, t) {
        try {
            Y?.localStorage.removeItem(e),
            ec.remove(e, t)
        } catch (n) {
            Si.error(n)
        }
    }
})
  , K2 = {}
  , iX = {
    is_supported: function() {
        return !0
    },
    error: function(e) {
        Je.error("memoryStorage error: " + e)
    },
    get: function(e) {
        return K2[e] || null
    },
    parse: function(e) {
        return K2[e] || null
    },
    set: function(e, t) {
        K2[e] = t
    },
    remove: function(e) {
        delete K2[e]
    }
}
  , S0 = null
  , Qi = {
    is_supported: function() {
        if (!sl(S0))
            return S0;
        if (S0 = !0,
        et(Y))
            S0 = !1;
        else
            try {
                var e = "__support__";
                Qi.set(e, "xyz"),
                Qi.get(e) !== '"xyz"' && (S0 = !1),
                Qi.remove(e)
            } catch {
                S0 = !1
            }
        return S0
    },
    error: function(e) {
        Je.error("sessionStorage error: ", e)
    },
    get: function(e) {
        try {
            return Y?.sessionStorage.getItem(e)
        } catch (t) {
            Qi.error(t)
        }
        return null
    },
    parse: function(e) {
        try {
            return JSON.parse(Qi.get(e)) || null
        } catch {}
        return null
    },
    set: function(e, t) {
        try {
            Y?.sessionStorage.setItem(e, JSON.stringify(t))
        } catch (n) {
            Qi.error(n)
        }
    },
    remove: function(e) {
        try {
            Y?.sessionStorage.removeItem(e)
        } catch (t) {
            Qi.error(t)
        }
    }
}
  , rX = ["localhost", "127.0.0.1"]
  , hh = e => {
    var t = qe?.createElement("a");
    return et(t) ? null : (t.href = e,
    t)
}
  , ph = function(e, t) {
    return !!function(n) {
        try {
            new RegExp(n)
        } catch {
            return !1
        }
        return !0
    }(t) && new RegExp(t).test(e)
}
  , sX = function(e) {
    var t, n, i = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : "&", r = [];
    return hn(e, function(s, o) {
        et(s) || et(o) || o === "undefined" || (t = encodeURIComponent((a => a instanceof File)(s) ? s.name : s.toString()),
        n = encodeURIComponent(o),
        r[r.length] = n + "=" + t)
    }),
    r.join(i)
}
  , lp = function(e, t) {
    for (var n, i = ((e.split("#")[0] || "").split("?")[1] || "").split("&"), r = 0; r < i.length; r++) {
        var s = i[r].split("=");
        if (s[0] === t) {
            n = s;
            break
        }
    }
    if (!zn(n) || n.length < 2)
        return "";
    var o = n[1];
    try {
        o = decodeURIComponent(o)
    } catch {
        Je.error("Skipping decoding for malformed query param: " + o)
    }
    return o.replace(/\+/g, " ")
}
  , WT = function(e, t, n) {
    if (!e || !t || !t.length)
        return e;
    for (var i = e.split("#"), r = i[0] || "", s = i[1], o = r.split("?"), a = o[1], c = o[0], l = (a || "").split("&"), u = [], h = 0; h < l.length; h++) {
        var d = l[h].split("=");
        zn(d) && (t.includes(d[0]) ? u.push(d[0] + "=" + n) : u.push(l[h]))
    }
    var f = c;
    return a != null && (f += "?" + u.join("&")),
    s != null && (f += "#" + s),
    f
}
  , up = function(e, t) {
    var n = e.match(new RegExp(t + "=([^&]*)"));
    return n ? n[1] : null
}
  , Ws = "Mobile"
  , hp = "iOS"
  , oa = "Android"
  , n5 = "Tablet"
  , DO = oa + " " + n5
  , NO = "iPad"
  , FO = "Apple"
  , LO = FO + " Watch"
  , i5 = "Safari"
  , gh = "BlackBerry"
  , BO = "Samsung"
  , UO = BO + "Browser"
  , HO = BO + " Internet"
  , k0 = "Chrome"
  , oX = k0 + " OS"
  , GO = k0 + " " + hp
  , d8 = "Internet Explorer"
  , VO = d8 + " " + Ws
  , f8 = "Opera"
  , aX = f8 + " Mini"
  , p8 = "Edge"
  , WO = "Microsoft " + p8
  , dh = "Firefox"
  , $O = dh + " " + hp
  , r5 = "Nintendo"
  , s5 = "PlayStation"
  , fh = "Xbox"
  , jO = oa + " " + Ws
  , qO = Ws + " " + i5
  , K1 = "Windows"
  , xm = K1 + " Phone"
  , $T = "Nokia"
  , wm = "Ouya"
  , zO = "Generic"
  , cX = zO + " " + Ws.toLowerCase()
  , XO = zO + " " + n5.toLowerCase()
  , Cm = "Konqueror"
  , Nr = "(\\d+(\\.\\d+)?)"
  , Z9 = new RegExp("Version/" + Nr)
  , lX = new RegExp(fh,"i")
  , uX = new RegExp(s5 + " \\w+","i")
  , hX = new RegExp(r5 + " \\w+","i")
  , g8 = new RegExp(gh + "|PlayBook|BB10","i")
  , dX = {
    "NT3.51": "NT 3.11",
    "NT4.0": "NT 4.0",
    "5.0": "2000",
    5.1: "XP",
    5.2: "XP",
    "6.0": "Vista",
    6.1: "7",
    6.2: "8",
    6.3: "8.1",
    6.4: "10",
    "10.0": "10"
}
  , fX = (e, t) => t && Ft(t, FO) || function(n) {
    return Ft(n, i5) && !Ft(n, k0) && !Ft(n, oa)
}(e)
  , jT = function(e, t) {
    return t = t || "",
    Ft(e, " OPR/") && Ft(e, "Mini") ? aX : Ft(e, " OPR/") ? f8 : g8.test(e) ? gh : Ft(e, "IE" + Ws) || Ft(e, "WPDesktop") ? VO : Ft(e, UO) ? HO : Ft(e, p8) || Ft(e, "Edg/") ? WO : Ft(e, "FBIOS") ? "Facebook " + Ws : Ft(e, "UCWEB") || Ft(e, "UCBrowser") ? "UC Browser" : Ft(e, "CriOS") ? GO : Ft(e, "CrMo") || Ft(e, k0) ? k0 : Ft(e, oa) && Ft(e, i5) ? jO : Ft(e, "FxiOS") ? $O : Ft(e.toLowerCase(), Cm.toLowerCase()) ? Cm : fX(e, t) ? Ft(e, Ws) ? qO : i5 : Ft(e, dh) ? dh : Ft(e, "MSIE") || Ft(e, "Trident/") ? d8 : Ft(e, "Gecko") ? dh : ""
}
  , pX = {
    [VO]: [new RegExp("rv:" + Nr)],
    [WO]: [new RegExp(p8 + "?\\/" + Nr)],
    [k0]: [new RegExp("(" + k0 + "|CrMo)\\/" + Nr)],
    [GO]: [new RegExp("CriOS\\/" + Nr)],
    "UC Browser": [new RegExp("(UCBrowser|UCWEB)\\/" + Nr)],
    [i5]: [Z9],
    [qO]: [Z9],
    [f8]: [new RegExp("(Opera|OPR)\\/" + Nr)],
    [dh]: [new RegExp(dh + "\\/" + Nr)],
    [$O]: [new RegExp("FxiOS\\/" + Nr)],
    [Cm]: [new RegExp("Konqueror[:/]?" + Nr,"i")],
    [gh]: [new RegExp(gh + " " + Nr), Z9],
    [jO]: [new RegExp("android\\s" + Nr,"i")],
    [HO]: [new RegExp(UO + "\\/" + Nr)],
    [d8]: [new RegExp("(rv:|MSIE )" + Nr)],
    Mozilla: [new RegExp("rv:" + Nr)]
}
  , qT = [[new RegExp(fh + "; " + fh + " (.*?)[);]","i"), e => [fh, e && e[1] || ""]], [new RegExp(r5,"i"), [r5, ""]], [new RegExp(s5,"i"), [s5, ""]], [g8, [gh, ""]], [new RegExp(K1,"i"), (e, t) => {
    if (/Phone/.test(t) || /WPDesktop/.test(t))
        return [xm, ""];
    if (new RegExp(Ws).test(t) && !/IEMobile\b/.test(t))
        return [K1 + " " + Ws, ""];
    var n = /Windows NT ([0-9.]+)/i.exec(t);
    if (n && n[1]) {
        var i = n[1]
          , r = dX[i] || "";
        return /arm/i.test(t) && (r = "RT"),
        [K1, r]
    }
    return [K1, ""]
}
], [/((iPhone|iPad|iPod).*?OS (\d+)_(\d+)_?(\d+)?|iPhone)/, e => {
    if (e && e[3]) {
        var t = [e[3], e[4], e[5] || "0"];
        return [hp, t.join(".")]
    }
    return [hp, ""]
}
], [/(watch.*\/(\d+\.\d+\.\d+)|watch os,(\d+\.\d+),)/i, e => {
    var t = "";
    return e && e.length >= 3 && (t = et(e[2]) ? e[3] : e[2]),
    ["watchOS", t]
}
], [new RegExp("(" + oa + " (\\d+)\\.(\\d+)\\.?(\\d+)?|" + oa + ")","i"), e => {
    if (e && e[2]) {
        var t = [e[2], e[3], e[4] || "0"];
        return [oa, t.join(".")]
    }
    return [oa, ""]
}
], [/Mac OS X (\d+)[_.](\d+)[_.]?(\d+)?/i, e => {
    var t = ["Mac OS X", ""];
    if (e && e[1]) {
        var n = [e[1], e[2], e[3] || "0"];
        t[1] = n.join(".")
    }
    return t
}
], [/Mac/i, ["Mac OS X", ""]], [/CrOS/, [oX, ""]], [/Linux|debian/i, ["Linux", ""]]]
  , zT = function(e) {
    return hX.test(e) ? r5 : uX.test(e) ? s5 : lX.test(e) ? fh : new RegExp(wm,"i").test(e) ? wm : new RegExp("(" + xm + "|WPDesktop)","i").test(e) ? xm : /iPad/.test(e) ? NO : /iPod/.test(e) ? "iPod Touch" : /iPhone/.test(e) ? "iPhone" : /(watch)(?: ?os[,/]|\d,\d\/)[\d.]+/i.test(e) ? LO : g8.test(e) ? gh : /(kobo)\s(ereader|touch)/i.test(e) ? "Kobo" : new RegExp($T,"i").test(e) ? $T : /(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i.test(e) || /(kf[a-z]+)( bui|\)).+silk\//i.test(e) ? "Kindle Fire" : /(Android|ZTE)/i.test(e) ? !new RegExp(Ws).test(e) || /(9138B|TB782B|Nexus [97]|pixel c|HUAWEISHT|BTV|noble nook|smart ultra 6)/i.test(e) ? /pixel[\daxl ]{1,6}/i.test(e) && !/pixel c/i.test(e) || /(huaweimed-al00|tah-|APA|SM-G92|i980|zte|U304AA)/i.test(e) || /lmy47v/i.test(e) && !/QTAQZ3/i.test(e) ? oa : DO : oa : new RegExp("(pda|" + Ws + ")","i").test(e) ? cX : new RegExp(n5,"i").test(e) && !new RegExp(n5 + " pc","i").test(e) ? XO : ""
}
  , Y2 = "https?://(.*)"
  , Em = ["gclid", "gclsrc", "dclid", "gbraid", "wbraid", "fbclid", "msclkid", "twclid", "li_fat_id", "igshid", "ttclid", "rdt_cid", "irclid", "_kx"]
  , gX = lm(["utm_source", "utm_medium", "utm_campaign", "utm_content", "utm_term", "gad_source", "mc_cid"], Em)
  , XT = "<masked>"
  , Hn = {
    campaignParams: function() {
        var {customTrackedParams: e, maskPersonalDataProperties: t, customPersonalDataProperties: n} = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {};
        if (!qe)
            return {};
        var i = t ? lm([], Em, n || []) : [];
        return this._campaignParamsFromUrl(WT(qe.URL, i, XT), e)
    },
    _campaignParamsFromUrl: function(e, t) {
        var n = gX.concat(t || [])
          , i = {};
        return hn(n, function(r) {
            var s = lp(e, r);
            i[r] = s || null
        }),
        i
    },
    _searchEngine: function(e) {
        return e ? e.search(Y2 + "google.([^/?]*)") === 0 ? "google" : e.search(Y2 + "bing.com") === 0 ? "bing" : e.search(Y2 + "yahoo.com") === 0 ? "yahoo" : e.search(Y2 + "duckduckgo.com") === 0 ? "duckduckgo" : null : null
    },
    _searchInfoFromReferrer: function(e) {
        var t = Hn._searchEngine(e)
          , n = t != "yahoo" ? "q" : "p"
          , i = {};
        if (!sl(t)) {
            i.$search_engine = t;
            var r = qe ? lp(qe.referrer, n) : "";
            r.length && (i.ph_keyword = r)
        }
        return i
    },
    searchInfo: function() {
        var e = qe?.referrer;
        return e ? this._searchInfoFromReferrer(e) : {}
    },
    browser: jT,
    browserVersion: function(e, t) {
        var n = jT(e, t)
          , i = pX[n];
        if (et(i))
            return null;
        for (var r = 0; r < i.length; r++) {
            var s = i[r]
              , o = e.match(s);
            if (o)
                return parseFloat(o[o.length - 2])
        }
        return null
    },
    browserLanguage: function() {
        return navigator.language || navigator.userLanguage
    },
    browserLanguagePrefix: function() {
        var e = this.browserLanguage();
        return typeof e == "string" ? e.split("-")[0] : void 0
    },
    os: function(e) {
        for (var t = 0; t < qT.length; t++) {
            var [n,i] = qT[t]
              , r = n.exec(e)
              , s = r && (Es(i) ? i(r, e) : i);
            if (s)
                return s
        }
        return ["", ""]
    },
    device: zT,
    deviceType: function(e) {
        var t = zT(e);
        return t === NO || t === DO || t === "Kobo" || t === "Kindle Fire" || t === XO ? n5 : t === r5 || t === fh || t === s5 || t === wm ? "Console" : t === LO ? "Wearable" : t ? Ws : "Desktop"
    },
    referrer: function() {
        return qe?.referrer || "$direct"
    },
    referringDomain: function() {
        var e;
        return qe != null && qe.referrer && ((e = hh(qe.referrer)) === null || e === void 0 ? void 0 : e.host) || "$direct"
    },
    referrerInfo: function() {
        return {
            $referrer: this.referrer(),
            $referring_domain: this.referringDomain()
        }
    },
    initialPersonInfo: function() {
        return {
            r: this.referrer().substring(0, 1e3),
            u: es?.href.substring(0, 1e3)
        }
    },
    initialPersonPropsFromInfo: function(e) {
        var t, {r: n, u: i} = e, r = {
            $initial_referrer: n,
            $initial_referring_domain: n == null ? void 0 : n == "$direct" ? "$direct" : (t = hh(n)) === null || t === void 0 ? void 0 : t.host
        };
        if (i) {
            r.$initial_current_url = i;
            var s = hh(i);
            r.$initial_host = s?.host,
            r.$initial_pathname = s?.pathname,
            hn(this._campaignParamsFromUrl(i), function(o, a) {
                r["$initial_" + cm(a)] = o
            })
        }
        return n && hn(this._searchInfoFromReferrer(n), function(o, a) {
            r["$initial_" + cm(a)] = o
        }),
        r
    },
    timezone: function() {
        try {
            return Intl.DateTimeFormat().resolvedOptions().timeZone
        } catch {
            return
        }
    },
    timezoneOffset: function() {
        try {
            return new Date().getTimezoneOffset()
        } catch {
            return
        }
    },
    properties: function() {
        var {maskPersonalDataProperties: e, customPersonalDataProperties: t} = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {};
        if (!Li)
            return {};
        var n = e ? lm([], Em, t || []) : []
          , [i,r] = Hn.os(Li);
        return fr(sp({
            $os: i,
            $os_version: r,
            $browser: Hn.browser(Li, navigator.vendor),
            $device: Hn.device(Li),
            $device_type: Hn.deviceType(Li),
            $timezone: Hn.timezone(),
            $timezone_offset: Hn.timezoneOffset()
        }), {
            $current_url: WT(es?.href, n, XT),
            $host: es?.host,
            $pathname: es?.pathname,
            $raw_user_agent: Li.length > 1e3 ? Li.substring(0, 997) + "..." : Li,
            $browser_version: Hn.browserVersion(Li, navigator.vendor),
            $browser_language: Hn.browserLanguage(),
            $browser_language_prefix: Hn.browserLanguagePrefix(),
            $screen_height: Y?.screen.height,
            $screen_width: Y?.screen.width,
            $viewport_height: Y?.innerHeight,
            $viewport_width: Y?.innerWidth,
            $lib: "web",
            $lib_version: Ja.LIB_VERSION,
            $insert_id: Math.random().toString(36).substring(2, 10) + Math.random().toString(36).substring(2, 10),
            $time: Date.now() / 1e3
        })
    },
    people_properties: function() {
        if (!Li)
            return {};
        var [e,t] = Hn.os(Li);
        return fr(sp({
            $os: e,
            $os_version: t,
            $browser: Hn.browser(Li, navigator.vendor)
        }), {
            $browser_version: Hn.browserVersion(Li, navigator.vendor)
        })
    }
}
  , mX = ["cookie", "localstorage", "localstorage+cookie", "sessionstorage", "memory"]
  , J1 = class {
    constructor(t) {
        this.config = t,
        this.props = {},
        this.campaign_params_saved = !1,
        this.name = (n => {
            var i = "";
            return n.token && (i = n.token.replace(/\+/g, "PL").replace(/\//g, "SL").replace(/=/g, "EQ")),
            n.persistence_name ? "ph_" + n.persistence_name : "ph_" + i + "_posthog"
        }
        )(t),
        this.storage = this.buildStorage(t),
        this.load(),
        t.debug && Je.info("Persistence loaded", t.persistence, we({}, this.props)),
        this.update_config(t, t),
        this.save()
    }
    buildStorage(t) {
        mX.indexOf(t.persistence.toLowerCase()) === -1 && (Je.critical("Unknown persistence type " + t.persistence + "; falling back to localStorage+cookie"),
        t.persistence = "localStorage+cookie");
        var n = t.persistence.toLowerCase();
        return n === "localstorage" && Si.is_supported() ? Si : n === "localstorage+cookie" && X2.is_supported() ? X2 : n === "sessionstorage" && Qi.is_supported() ? Qi : n === "memory" ? iX : n === "cookie" ? ec : X2.is_supported() ? X2 : ec
    }
    properties() {
        var t = {};
        return hn(this.props, function(n, i) {
            if (i === uh && Xn(n))
                for (var r = Object.keys(n), s = 0; s < r.length; s++)
                    t["$feature/".concat(r[s])] = n[r[s]];
            else
                a = i,
                c = !1,
                (sl(o = Qz) ? c : xT && o.indexOf === xT ? o.indexOf(a) != -1 : (hn(o, function(l) {
                    if (c || (c = l === a))
                        return rp
                }),
                c)) || (t[i] = n);
            var o, a, c
        }),
        t
    }
    load() {
        if (!this.disabled) {
            var t = this.storage.parse(this.name);
            t && (this.props = fr({}, t))
        }
    }
    save() {
        this.disabled || this.storage.set(this.name, this.props, this.expire_days, this.cross_subdomain, this.secure, this.config.debug)
    }
    remove() {
        this.storage.remove(this.name, !1),
        this.storage.remove(this.name, !0)
    }
    clear() {
        this.remove(),
        this.props = {}
    }
    register_once(t, n, i) {
        if (Xn(t)) {
            et(n) && (n = "None"),
            this.expire_days = et(i) ? this.default_expiry : i;
            var r = !1;
            if (hn(t, (s, o) => {
                this.props.hasOwnProperty(o) && this.props[o] !== n || (this.props[o] = s,
                r = !0)
            }
            ),
            r)
                return this.save(),
                !0
        }
        return !1
    }
    register(t, n) {
        if (Xn(t)) {
            this.expire_days = et(n) ? this.default_expiry : n;
            var i = !1;
            if (hn(t, (r, s) => {
                t.hasOwnProperty(s) && this.props[s] !== r && (this.props[s] = r,
                i = !0)
            }
            ),
            i)
                return this.save(),
                !0
        }
        return !1
    }
    unregister(t) {
        t in this.props && (delete this.props[t],
        this.save())
    }
    update_campaign_params() {
        if (!this.campaign_params_saved) {
            var t = Hn.campaignParams({
                customTrackedParams: this.config.custom_campaign_params,
                maskPersonalDataProperties: this.config.mask_personal_data_properties,
                customPersonalDataProperties: this.config.custom_personal_data_properties
            });
            lh(sp(t)) || this.register(t),
            this.campaign_params_saved = !0
        }
    }
    update_search_keyword() {
        this.register(Hn.searchInfo())
    }
    update_referrer_info() {
        this.register_once(Hn.referrerInfo(), void 0)
    }
    set_initial_person_info() {
        this.props[gm] || this.props[mm] || this.register_once({
            [vm]: Hn.initialPersonInfo()
        }, void 0)
    }
    get_referrer_info() {
        return sp({
            $referrer: this.props.$referrer,
            $referring_domain: this.props.$referring_domain
        })
    }
    get_initial_props() {
        var t = {};
        hn([mm, gm], r => {
            var s = this.props[r];
            s && hn(s, function(o, a) {
                t["$initial_" + cm(a)] = o
            })
        }
        );
        var n = this.props[vm];
        if (n) {
            var i = Hn.initialPersonPropsFromInfo(n);
            fr(t, i)
        }
        return t
    }
    safe_merge(t) {
        return hn(this.props, function(n, i) {
            i in t || (t[i] = n)
        }),
        t
    }
    update_config(t, n) {
        if (this.default_expiry = this.expire_days = t.cookie_expiration,
        this.set_disabled(t.disable_persistence),
        this.set_cross_subdomain(t.cross_subdomain_cookie),
        this.set_secure(t.secure_cookie),
        t.persistence !== n.persistence) {
            var i = this.buildStorage(t)
              , r = this.props;
            this.clear(),
            this.storage = i,
            this.props = r,
            this.save()
        }
    }
    set_disabled(t) {
        this.disabled = t,
        this.disabled ? this.remove() : this.save()
    }
    set_cross_subdomain(t) {
        t !== this.cross_subdomain && (this.cross_subdomain = t,
        this.remove(),
        this.save())
    }
    get_cross_subdomain() {
        return !!this.cross_subdomain
    }
    set_secure(t) {
        t !== this.secure && (this.secure = t,
        this.remove(),
        this.save())
    }
    set_event_timer(t, n) {
        var i = this.props[q1] || {};
        i[t] = n,
        this.props[q1] = i,
        this.save()
    }
    remove_event_timer(t) {
        var n = (this.props[q1] || {})[t];
        return et(n) || (delete this.props[q1][t],
        this.save()),
        n
    }
    get_property(t) {
        return this.props[t]
    }
    set_property(t, n) {
        this.props[t] = n,
        this.save()
    }
}
;
function dp(e) {
    var t, n;
    return ((t = JSON.stringify(e, (n = [],
    function(i, r) {
        if (Xn(r)) {
            for (; n.length > 0 && n[n.length - 1] !== this; )
                n.pop();
            return n.includes(r) ? "[Circular]" : (n.push(r),
            r)
        }
        return r
    }
    ))) === null || t === void 0 ? void 0 : t.length) || 0
}
function Tm(e) {
    var t = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 66060288e-1;
    if (e.size >= t && e.data.length > 1) {
        var n = Math.floor(e.data.length / 2)
          , i = e.data.slice(0, n)
          , r = e.data.slice(n);
        return [Tm({
            size: dp(i),
            data: i,
            sessionId: e.sessionId,
            windowId: e.windowId
        }), Tm({
            size: dp(r),
            data: r,
            sessionId: e.sessionId,
            windowId: e.windowId
        })].flatMap(s => s)
    }
    return [e]
}
var Ya = (e => (e[e.DomContentLoaded = 0] = "DomContentLoaded",
e[e.Load = 1] = "Load",
e[e.FullSnapshot = 2] = "FullSnapshot",
e[e.IncrementalSnapshot = 3] = "IncrementalSnapshot",
e[e.Meta = 4] = "Meta",
e[e.Custom = 5] = "Custom",
e[e.Plugin = 6] = "Plugin",
e))(Ya || {})
  , _o = (e => (e[e.Mutation = 0] = "Mutation",
e[e.MouseMove = 1] = "MouseMove",
e[e.MouseInteraction = 2] = "MouseInteraction",
e[e.Scroll = 3] = "Scroll",
e[e.ViewportResize = 4] = "ViewportResize",
e[e.Input = 5] = "Input",
e[e.TouchMove = 6] = "TouchMove",
e[e.MediaInteraction = 7] = "MediaInteraction",
e[e.StyleSheetRule = 8] = "StyleSheetRule",
e[e.CanvasMutation = 9] = "CanvasMutation",
e[e.Font = 10] = "Font",
e[e.Log = 11] = "Log",
e[e.Drag = 12] = "Drag",
e[e.StyleDeclaration = 13] = "StyleDeclaration",
e[e.Selection = 14] = "Selection",
e[e.AdoptedStyleSheet = 15] = "AdoptedStyleSheet",
e[e.CustomElement = 16] = "CustomElement",
e))(_o || {});
function KT(e) {
    var t;
    return e instanceof Element && (e.id === IO || !((t = e.closest) === null || t === void 0 || !t.call(e, ".toolbar-global-fade-container")))
}
function Ep(e) {
    return !!e && e.nodeType === 1
}
function rl(e, t) {
    return !!e && !!e.tagName && e.tagName.toLowerCase() === t.toLowerCase()
}
function KO(e) {
    return !!e && e.nodeType === 3
}
function YO(e) {
    return !!e && e.nodeType === 11
}
function m8(e) {
    return e ? wp(e).split(/\s+/) : []
}
function YT(e) {
    var t = Y?.location.href;
    return !!(t && e && e.some(n => t.match(n)))
}
function fp(e) {
    var t = "";
    switch (typeof e.className) {
    case "string":
        t = e.className;
        break;
    case "object":
        t = (e.className && "baseVal"in e.className ? e.className.baseVal : null) || e.getAttribute("class") || "";
        break;
    default:
        t = ""
    }
    return m8(t)
}
function QO(e) {
    return dn(e) ? null : wp(e).split(/(\s+)/).filter(t => mh(t)).join("").replace(/[\r\n]/g, " ").replace(/[ ]+/g, " ").substring(0, 255)
}
function Tp(e) {
    var t = "";
    return Pm(e) && !eP(e) && e.childNodes && e.childNodes.length && hn(e.childNodes, function(n) {
        var i;
        KO(n) && n.textContent && (t += (i = QO(n.textContent)) !== null && i !== void 0 ? i : "")
    }),
    wp(t)
}
function JO(e) {
    return et(e.target) ? e.srcElement || null : (t = e.target) !== null && t !== void 0 && t.shadowRoot ? e.composedPath()[0] || null : e.target || null;
    var t
}
var Om = ["a", "button", "form", "input", "select", "textarea", "label"];
function ZO(e) {
    var t = e.parentNode;
    return !(!t || !Ep(t)) && t
}
function vX(e, t) {
    var n = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : void 0
      , i = arguments.length > 3 ? arguments[3] : void 0
      , r = arguments.length > 4 ? arguments[4] : void 0;
    if (!Y || !e || rl(e, "html") || !Ep(e) || n != null && n.url_allowlist && !YT(n.url_allowlist) || n != null && n.url_ignorelist && YT(n.url_ignorelist))
        return !1;
    if (n != null && n.dom_event_allowlist) {
        var s = n.dom_event_allowlist;
        if (s && !s.some(f => t.type === f))
            return !1
    }
    for (var o = !1, a = [e], c = !0, l = e; l.parentNode && !rl(l, "body"); )
        if (YO(l.parentNode))
            a.push(l.parentNode.host),
            l = l.parentNode.host;
        else {
            if (!(c = ZO(l)))
                break;
            if (i || Om.indexOf(c.tagName.toLowerCase()) > -1)
                o = !0;
            else {
                var u = Y.getComputedStyle(c);
                u && u.getPropertyValue("cursor") === "pointer" && (o = !0)
            }
            a.push(c),
            l = c
        }
    if (!function(f, g) {
        var p = g?.element_allowlist;
        if (et(p))
            return !0;
        var v = function(w) {
            if (p.some(k => w.tagName.toLowerCase() === k))
                return {
                    v: !0
                }
        };
        for (var b of f) {
            var S = v(b);
            if (typeof S == "object")
                return S.v
        }
        return !1
    }(a, n) || !function(f, g) {
        var p = g?.css_selector_allowlist;
        if (et(p))
            return !0;
        var v = function(w) {
            if (p.some(k => w.matches(k)))
                return {
                    v: !0
                }
        };
        for (var b of f) {
            var S = v(b);
            if (typeof S == "object")
                return S.v
        }
        return !1
    }(a, n))
        return !1;
    var h = Y.getComputedStyle(e);
    if (h && h.getPropertyValue("cursor") === "pointer" && t.type === "click")
        return !0;
    var d = e.tagName.toLowerCase();
    switch (d) {
    case "html":
        return !1;
    case "form":
        return (r || ["submit"]).indexOf(t.type) >= 0;
    case "input":
    case "select":
    case "textarea":
        return (r || ["change", "click"]).indexOf(t.type) >= 0;
    default:
        return o ? (r || ["click"]).indexOf(t.type) >= 0 : (r || ["click"]).indexOf(t.type) >= 0 && (Om.indexOf(d) > -1 || e.getAttribute("contenteditable") === "true")
    }
}
function Pm(e) {
    for (var t = e; t.parentNode && !rl(t, "body"); t = t.parentNode) {
        var n = fp(t);
        if (Ft(n, "ph-sensitive") || Ft(n, "ph-no-capture"))
            return !1
    }
    if (Ft(fp(e), "ph-include"))
        return !0;
    var i = e.type || "";
    if (Ji(i))
        switch (i.toLowerCase()) {
        case "hidden":
        case "password":
            return !1
        }
    var r = e.name || e.id || "";
    return !(Ji(r) && /^cc|cardnum|ccnum|creditcard|csc|cvc|cvv|exp|pass|pwd|routing|seccode|securitycode|securitynum|socialsec|socsec|ssn/i.test(r.replace(/[^a-zA-Z0-9]/g, "")))
}
function eP(e) {
    return !!(rl(e, "input") && !["button", "checkbox", "submit", "reset"].includes(e.type) || rl(e, "select") || rl(e, "textarea") || e.getAttribute("contenteditable") === "true")
}
var tP = "(4[0-9]{12}(?:[0-9]{3})?)|(5[1-5][0-9]{14})|(6(?:011|5[0-9]{2})[0-9]{12})|(3[47][0-9]{13})|(3(?:0[0-5]|[68][0-9])[0-9]{11})|((?:2131|1800|35[0-9]{3})[0-9]{11})"
  , _X = new RegExp("^(?:".concat(tP, ")$"))
  , yX = new RegExp(tP)
  , nP = "\\d{3}-?\\d{2}-?\\d{4}"
  , bX = new RegExp("^(".concat(nP, ")$"))
  , SX = new RegExp("(".concat(nP, ")"));
function mh(e) {
    var t = !(arguments.length > 1 && arguments[1] !== void 0) || arguments[1];
    return !(dn(e) || Ji(e) && (e = wp(e),
    (t ? _X : yX).test((e || "").replace(/[- ]/g, "")) || (t ? bX : SX).test(e)))
}
function iP(e) {
    var t = Tp(e);
    return mh(t = "".concat(t, " ").concat(rP(e)).trim()) ? t : ""
}
function rP(e) {
    var t = "";
    return e && e.childNodes && e.childNodes.length && hn(e.childNodes, function(n) {
        var i;
        if (n && ((i = n.tagName) === null || i === void 0 ? void 0 : i.toLowerCase()) === "span")
            try {
                var r = Tp(n);
                t = "".concat(t, " ").concat(r).trim(),
                n.childNodes && n.childNodes.length && (t = "".concat(t, " ").concat(rP(n)).trim())
            } catch (s) {
                Je.error("[AutoCapture]", s)
            }
    }),
    t
}
function xX(e) {
    return function(t) {
        var n = t.map(i => {
            var r, s, o = "";
            if (i.tag_name && (o += i.tag_name),
            i.attr_class)
                for (var a of (i.attr_class.sort(),
                i.attr_class))
                    o += ".".concat(a.replace(/"/g, ""));
            var c = we(we(we(we({}, i.text ? {
                text: i.text
            } : {}), {}, {
                "nth-child": (r = i.nth_child) !== null && r !== void 0 ? r : 0,
                "nth-of-type": (s = i.nth_of_type) !== null && s !== void 0 ? s : 0
            }, i.href ? {
                href: i.href
            } : {}), i.attr_id ? {
                attr_id: i.attr_id
            } : {}), i.attributes)
              , l = {};
            return tp(c).sort( (u, h) => {
                var [d] = u
                  , [f] = h;
                return d.localeCompare(f)
            }
            ).forEach(u => {
                var [h,d] = u;
                return l[QT(h.toString())] = QT(d.toString())
            }
            ),
            o += ":",
            o += tp(c).map(u => {
                var [h,d] = u;
                return "".concat(h, '="').concat(d, '"')
            }
            ).join("")
        }
        );
        return n.join(";")
    }(function(t) {
        return t.map(n => {
            var i, r, s = {
                text: (i = n.$el_text) === null || i === void 0 ? void 0 : i.slice(0, 400),
                tag_name: n.tag_name,
                href: (r = n.attr__href) === null || r === void 0 ? void 0 : r.slice(0, 2048),
                attr_class: wX(n),
                attr_id: n.attr__id,
                nth_child: n.nth_child,
                nth_of_type: n.nth_of_type,
                attributes: {}
            };
            return tp(n).filter(o => {
                var [a] = o;
                return a.indexOf("attr__") === 0
            }
            ).forEach(o => {
                var [a,c] = o;
                return s.attributes[a] = c
            }
            ),
            s
        }
        )
    }(e))
}
function QT(e) {
    return e.replace(/"|\\"/g, '\\"')
}
function wX(e) {
    var t = e.attr__class;
    return t ? zn(t) ? t : m8(t) : void 0
}
var Mm = "[SessionRecording]"
  , km = "redacted"
  , Q2 = {
    initiatorTypes: ["audio", "beacon", "body", "css", "early-hint", "embed", "fetch", "frame", "iframe", "icon", "image", "img", "input", "link", "navigation", "object", "ping", "script", "track", "video", "xmlhttprequest"],
    maskRequestFn: e => e,
    recordHeaders: !1,
    recordBody: !1,
    recordInitialRequests: !1,
    recordPerformance: !1,
    performanceEntryTypeToObserve: ["first-input", "navigation", "paint", "resource"],
    payloadSizeLimitBytes: 1e6,
    payloadHostDenyList: [".lr-ingest.io", ".ingest.sentry.io", ".clarity.ms", "analytics.google.com"]
}
  , CX = ["authorization", "x-forwarded-for", "authorization", "cookie", "set-cookie", "x-api-key", "x-real-ip", "remote-addr", "forwarded", "proxy-authorization", "x-csrf-token", "x-csrftoken", "x-xsrf-token"]
  , EX = ["password", "secret", "passwd", "api_key", "apikey", "auth", "credentials", "mysql_pwd", "privatekey", "private_key", "token"]
  , TX = ["/s/", "/e/", "/i/"];
function JT(e, t, n, i) {
    if (dn(e))
        return e;
    var r = t?.["content-length"] || function(s) {
        return new Blob([s]).size
    }(e);
    return Ji(r) && (r = parseInt(r)),
    r > n ? Mm + " ".concat(i, " body too large to record (").concat(r, " bytes)") : e
}
function ZT(e, t) {
    if (dn(e))
        return e;
    var n = e;
    return mh(n, !1) || (n = Mm + " " + t + " body " + km),
    hn(EX, i => {
        var r, s;
        (r = n) !== null && r !== void 0 && r.length && ((s = n) === null || s === void 0 ? void 0 : s.indexOf(i)) !== -1 && (n = Mm + " " + t + " body " + km + " as might contain: " + i)
    }
    ),
    n
}
var OX = (e, t) => {
    var n, i, r, s = {
        payloadSizeLimitBytes: Q2.payloadSizeLimitBytes,
        performanceEntryTypeToObserve: [...Q2.performanceEntryTypeToObserve],
        payloadHostDenyList: [...t.payloadHostDenyList || [], ...Q2.payloadHostDenyList]
    }, o = e.session_recording.recordHeaders !== !1 && t.recordHeaders, a = e.session_recording.recordBody !== !1 && t.recordBody, c = e.capture_performance !== !1 && t.recordPerformance, l = (n = s,
    r = Math.min(1e6, (i = n.payloadSizeLimitBytes) !== null && i !== void 0 ? i : 1e6),
    d => (d != null && d.requestBody && (d.requestBody = JT(d.requestBody, d.requestHeaders, r, "Request")),
    d != null && d.responseBody && (d.responseBody = JT(d.responseBody, d.responseHeaders, r, "Response")),
    d)), u = d => {
        return l(( (p, v) => {
            var b, S = hh(p.name), w = v.indexOf("http") === 0 ? (b = hh(v)) === null || b === void 0 ? void 0 : b.pathname : v;
            w === "/" && (w = "");
            var k = S?.pathname.replace(w || "", "");
            if (!(S && k && TX.some(B => k.indexOf(B) === 0)))
                return p
        }
        )((g = (f = d).requestHeaders,
        dn(g) || hn(Object.keys(g ?? {}), p => {
            CX.includes(p.toLowerCase()) && (g[p] = km)
        }
        ),
        f), e.api_host));
        var f, g
    }
    , h = Es(e.session_recording.maskNetworkRequestFn);
    return h && Es(e.session_recording.maskCapturedNetworkRequestFn) && Je.warn("Both `maskNetworkRequestFn` and `maskCapturedNetworkRequestFn` are defined. `maskNetworkRequestFn` will be ignored."),
    h && (e.session_recording.maskCapturedNetworkRequestFn = d => {
        var f = e.session_recording.maskNetworkRequestFn({
            url: d.name
        });
        return we(we({}, d), {}, {
            name: f?.url
        })
    }
    ),
    s.maskRequestFn = Es(e.session_recording.maskCapturedNetworkRequestFn) ? d => {
        var f, g, p, v = u(d);
        return v && (f = (g = (p = e.session_recording).maskCapturedNetworkRequestFn) === null || g === void 0 ? void 0 : g.call(p, v)) !== null && f !== void 0 ? f : void 0
    }
    : d => function(f) {
        if (!et(f))
            return f.requestBody = ZT(f.requestBody, "Request"),
            f.responseBody = ZT(f.responseBody, "Response"),
            f
    }(u(d)),
    we(we(we({}, Q2), s), {}, {
        recordHeaders: o,
        recordBody: a,
        recordPerformance: c,
        recordInitialRequests: c
    })
}
;
function aa(e, t, n, i, r) {
    return t > n && (Je.warn("min cannot be greater than max."),
    t = n),
    Fr(e) ? e > n ? (i && Je.warn(i + " cannot be  greater than max: " + n + ". Using max value instead."),
    n) : e < t ? (i && Je.warn(i + " cannot be less than min: " + t + ". Using min value instead."),
    t) : e : (i && Je.warn(i + " must be a number. using max or fallback. max: " + n + ", fallback: " + r),
    aa(r || n, t, n, i))
}
var Am = class {
    constructor(t) {
        var n, i, r = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};
        Ie(this, "bucketSize", 100),
        Ie(this, "refillRate", 10),
        Ie(this, "mutationBuckets", {}),
        Ie(this, "loggedTracker", {}),
        Ie(this, "refillBuckets", () => {
            Object.keys(this.mutationBuckets).forEach(s => {
                this.mutationBuckets[s] = this.mutationBuckets[s] + this.refillRate,
                this.mutationBuckets[s] >= this.bucketSize && delete this.mutationBuckets[s]
            }
            )
        }
        ),
        Ie(this, "getNodeOrRelevantParent", s => {
            var o = this.rrweb.mirror.getNode(s);
            if (o?.nodeName !== "svg" && o instanceof Element) {
                var a = o.closest("svg");
                if (a)
                    return [this.rrweb.mirror.getId(a), a]
            }
            return [s, o]
        }
        ),
        Ie(this, "numberOfChanges", s => {
            var o, a, c, l, u, h, d, f;
            return ((o = (a = s.removes) === null || a === void 0 ? void 0 : a.length) !== null && o !== void 0 ? o : 0) + ((c = (l = s.attributes) === null || l === void 0 ? void 0 : l.length) !== null && c !== void 0 ? c : 0) + ((u = (h = s.texts) === null || h === void 0 ? void 0 : h.length) !== null && u !== void 0 ? u : 0) + ((d = (f = s.adds) === null || f === void 0 ? void 0 : f.length) !== null && d !== void 0 ? d : 0)
        }
        ),
        Ie(this, "throttleMutations", s => {
            if (s.type !== 3 || s.data.source !== 0)
                return s;
            var o = s.data
              , a = this.numberOfChanges(o);
            o.attributes && (o.attributes = o.attributes.filter(l => {
                var u, h, d, [f,g] = this.getNodeOrRelevantParent(l.id);
                return this.mutationBuckets[f] === 0 ? !1 : (this.mutationBuckets[f] = (u = this.mutationBuckets[f]) !== null && u !== void 0 ? u : this.bucketSize,
                this.mutationBuckets[f] = Math.max(this.mutationBuckets[f] - 1, 0),
                this.mutationBuckets[f] === 0 && (this.loggedTracker[f] || (this.loggedTracker[f] = !0,
                (h = (d = this.options).onBlockedNode) === null || h === void 0 || h.call(d, f, g))),
                l)
            }
            ));
            var c = this.numberOfChanges(o);
            return c !== 0 || a === c ? s : void 0
        }
        ),
        this.rrweb = t,
        this.options = r,
        this.refillRate = aa((n = this.options.refillRate) !== null && n !== void 0 ? n : this.refillRate, 0, 100, "mutation throttling refill rate"),
        this.bucketSize = aa((i = this.options.bucketSize) !== null && i !== void 0 ? i : this.bucketSize, 0, 100, "mutation throttling bucket size"),
        setInterval( () => {
            this.refillBuckets()
        }
        , 1e3)
    }
}
  , $s = Uint8Array
  , Lr = Uint16Array
  , vh = Uint32Array
  , v8 = new $s([0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 2, 2, 2, 2, 3, 3, 3, 3, 4, 4, 4, 4, 5, 5, 5, 5, 0, 0, 0, 0])
  , _8 = new $s([0, 0, 0, 0, 1, 1, 2, 2, 3, 3, 4, 4, 5, 5, 6, 6, 7, 7, 8, 8, 9, 9, 10, 10, 11, 11, 12, 12, 13, 13, 0, 0])
  , eO = new $s([16, 17, 18, 0, 8, 7, 9, 6, 10, 5, 11, 4, 12, 3, 13, 2, 14, 1, 15])
  , sP = function(e, t) {
    for (var n = new Lr(31), i = 0; i < 31; ++i)
        n[i] = t += 1 << e[i - 1];
    var r = new vh(n[30]);
    for (i = 1; i < 30; ++i)
        for (var s = n[i]; s < n[i + 1]; ++s)
            r[s] = s - n[i] << 5 | i;
    return [n, r]
}
  , oP = sP(v8, 2)
  , PX = oP[0]
  , Im = oP[1];
PX[28] = 258,
Im[258] = 28;
for (Rm = sP(_8, 0)[1],
pp = new Lr(32768),
vn = 0; vn < 32768; ++vn)
    Zc = (43690 & vn) >>> 1 | (21845 & vn) << 1,
    Zc = (61680 & (Zc = (52428 & Zc) >>> 2 | (13107 & Zc) << 2)) >>> 4 | (3855 & Zc) << 4,
    pp[vn] = ((65280 & Zc) >>> 8 | (255 & Zc) << 8) >>> 1;
var Zc, Rm, pp, vn, Z1 = function(e, t, n) {
    for (var i = e.length, r = 0, s = new Lr(t); r < i; ++r)
        ++s[e[r] - 1];
    var o, a = new Lr(t);
    for (r = 0; r < t; ++r)
        a[r] = a[r - 1] + s[r - 1] << 1;
    if (n) {
        o = new Lr(1 << t);
        var c = 15 - t;
        for (r = 0; r < i; ++r)
            if (e[r])
                for (var l = r << 4 | e[r], u = t - e[r], h = a[e[r] - 1]++ << u, d = h | (1 << u) - 1; h <= d; ++h)
                    o[pp[h] >>> c] = l
    } else
        for (o = new Lr(i),
        r = 0; r < i; ++r)
            o[r] = pp[a[e[r] - 1]++] >>> 15 - e[r];
    return o
}, A0 = new $s(288);
for (vn = 0; vn < 144; ++vn)
    A0[vn] = 8;
for (vn = 144; vn < 256; ++vn)
    A0[vn] = 9;
for (vn = 256; vn < 280; ++vn)
    A0[vn] = 7;
for (vn = 280; vn < 288; ++vn)
    A0[vn] = 8;
var gp = new $s(32);
for (vn = 0; vn < 32; ++vn)
    gp[vn] = 5;
var MX = Z1(A0, 9, 0)
  , kX = Z1(gp, 5, 0)
  , aP = function(e) {
    return (e / 8 >> 0) + (7 & e && 1)
}
  , cP = function(e, t, n) {
    (n == null || n > e.length) && (n = e.length);
    var i = new (e instanceof Lr ? Lr : e instanceof vh ? vh : $s)(n - t);
    return i.set(e.subarray(t, n)),
    i
}
  , Xa = function(e, t, n) {
    n <<= 7 & t;
    var i = t / 8 >> 0;
    e[i] |= n,
    e[i + 1] |= n >>> 8
}
  , V1 = function(e, t, n) {
    n <<= 7 & t;
    var i = t / 8 >> 0;
    e[i] |= n,
    e[i + 1] |= n >>> 8,
    e[i + 2] |= n >>> 16
}
  , em = function(e, t) {
    for (var n = [], i = 0; i < e.length; ++i)
        e[i] && n.push({
            s: i,
            f: e[i]
        });
    var r = n.length
      , s = n.slice();
    if (!r)
        return [new $s(0), 0];
    if (r == 1) {
        var o = new $s(n[0].s + 1);
        return o[n[0].s] = 1,
        [o, 1]
    }
    n.sort(function(B, N) {
        return B.f - N.f
    }),
    n.push({
        s: -1,
        f: 25001
    });
    var a = n[0]
      , c = n[1]
      , l = 0
      , u = 1
      , h = 2;
    for (n[0] = {
        s: -1,
        f: a.f + c.f,
        l: a,
        r: c
    }; u != r - 1; )
        a = n[n[l].f < n[h].f ? l++ : h++],
        c = n[l != u && n[l].f < n[h].f ? l++ : h++],
        n[u++] = {
            s: -1,
            f: a.f + c.f,
            l: a,
            r: c
        };
    var d = s[0].s;
    for (i = 1; i < r; ++i)
        s[i].s > d && (d = s[i].s);
    var f = new Lr(d + 1)
      , g = Dm(n[u - 1], f, 0);
    if (g > t) {
        i = 0;
        var p = 0
          , v = g - t
          , b = 1 << v;
        for (s.sort(function(B, N) {
            return f[N.s] - f[B.s] || B.f - N.f
        }); i < r; ++i) {
            var S = s[i].s;
            if (!(f[S] > t))
                break;
            p += b - (1 << g - f[S]),
            f[S] = t
        }
        for (p >>>= v; p > 0; ) {
            var w = s[i].s;
            f[w] < t ? p -= 1 << t - f[w]++ - 1 : ++i
        }
        for (; i >= 0 && p; --i) {
            var k = s[i].s;
            f[k] == t && (--f[k],
            ++p)
        }
        g = t
    }
    return [new $s(f), g]
}
  , Dm = function(e, t, n) {
    return e.s == -1 ? Math.max(Dm(e.l, t, n + 1), Dm(e.r, t, n + 1)) : t[e.s] = n
}
  , tO = function(e) {
    for (var t = e.length; t && !e[--t]; )
        ;
    for (var n = new Lr(++t), i = 0, r = e[0], s = 1, o = function(c) {
        n[i++] = c
    }, a = 1; a <= t; ++a)
        if (e[a] == r && a != t)
            ++s;
        else {
            if (!r && s > 2) {
                for (; s > 138; s -= 138)
                    o(32754);
                s > 2 && (o(s > 10 ? s - 11 << 5 | 28690 : s - 3 << 5 | 12305),
                s = 0)
            } else if (s > 3) {
                for (o(r),
                --s; s > 6; s -= 6)
                    o(8304);
                s > 2 && (o(s - 3 << 5 | 8208),
                s = 0)
            }
            for (; s--; )
                o(r);
            s = 1,
            r = e[a]
        }
    return [n.subarray(0, i), t]
}
  , W1 = function(e, t) {
    for (var n = 0, i = 0; i < t.length; ++i)
        n += e[i] * t[i];
    return n
}
  , Nm = function(e, t, n) {
    var i = n.length
      , r = aP(t + 2);
    e[r] = 255 & i,
    e[r + 1] = i >>> 8,
    e[r + 2] = 255 ^ e[r],
    e[r + 3] = 255 ^ e[r + 1];
    for (var s = 0; s < i; ++s)
        e[r + s + 4] = n[s];
    return 8 * (r + 4 + i)
}
  , nO = function(e, t, n, i, r, s, o, a, c, l, u) {
    Xa(t, u++, n),
    ++r[256];
    for (var h = em(r, 15), d = h[0], f = h[1], g = em(s, 15), p = g[0], v = g[1], b = tO(d), S = b[0], w = b[1], k = tO(p), B = k[0], N = k[1], E = new Lr(19), F = 0; F < S.length; ++F)
        E[31 & S[F]]++;
    for (F = 0; F < B.length; ++F)
        E[31 & B[F]]++;
    for (var O = em(E, 7), V = O[0], X = O[1], x = 19; x > 4 && !V[eO[x - 1]]; --x)
        ;
    var j, fe, he, Re, Xe = l + 5 << 3, pt = W1(r, A0) + W1(s, gp) + o, it = W1(r, d) + W1(s, p) + o + 14 + 3 * x + W1(E, V) + (2 * E[16] + 3 * E[17] + 7 * E[18]);
    if (Xe <= pt && Xe <= it)
        return Nm(t, u, e.subarray(c, c + l));
    if (Xa(t, u, 1 + (it < pt)),
    u += 2,
    it < pt) {
        j = Z1(d, f, 0),
        fe = d,
        he = Z1(p, v, 0),
        Re = p;
        var de = Z1(V, X, 0);
        for (Xa(t, u, w - 257),
        Xa(t, u + 5, N - 1),
        Xa(t, u + 10, x - 4),
        u += 14,
        F = 0; F < x; ++F)
            Xa(t, u + 3 * F, V[eO[F]]);
        u += 3 * x;
        for (var Ue = [S, B], A = 0; A < 2; ++A) {
            var q = Ue[A];
            for (F = 0; F < q.length; ++F) {
                var L = 31 & q[F];
                Xa(t, u, de[L]),
                u += V[L],
                L > 15 && (Xa(t, u, q[F] >>> 5 & 127),
                u += q[F] >>> 12)
            }
        }
    } else
        j = MX,
        fe = A0,
        he = kX,
        Re = gp;
    for (F = 0; F < a; ++F)
        if (i[F] > 255) {
            L = i[F] >>> 18 & 31,
            V1(t, u, j[L + 257]),
            u += fe[L + 257],
            L > 7 && (Xa(t, u, i[F] >>> 23 & 31),
            u += v8[L]);
            var U = 31 & i[F];
            V1(t, u, he[U]),
            u += Re[U],
            U > 3 && (V1(t, u, i[F] >>> 5 & 8191),
            u += _8[U])
        } else
            V1(t, u, j[i[F]]),
            u += fe[i[F]];
    return V1(t, u, j[256]),
    u + fe[256]
}
  , AX = new vh([65540, 131080, 131088, 131104, 262176, 1048704, 1048832, 2114560, 2117632])
  , IX = function() {
    for (var e = new vh(256), t = 0; t < 256; ++t) {
        for (var n = t, i = 9; --i; )
            n = (1 & n && 3988292384) ^ n >>> 1;
        e[t] = n
    }
    return e
}()
  , RX = function() {
    var e = 4294967295;
    return {
        p: function(t) {
            for (var n = e, i = 0; i < t.length; ++i)
                n = IX[255 & n ^ t[i]] ^ n >>> 8;
            e = n
        },
        d: function() {
            return 4294967295 ^ e
        }
    }
}
  , DX = function(e, t, n, i, r) {
    return function(s, o, a, c, l, u) {
        var h = s.length
          , d = new $s(c + h + 5 * (1 + Math.floor(h / 7e3)) + l)
          , f = d.subarray(c, d.length - l)
          , g = 0;
        if (!o || h < 8)
            for (var p = 0; p <= h; p += 65535) {
                var v = p + 65535;
                v < h ? g = Nm(f, g, s.subarray(p, v)) : (f[p] = u,
                g = Nm(f, g, s.subarray(p, h)))
            }
        else {
            for (var b = AX[o - 1], S = b >>> 13, w = 8191 & b, k = (1 << a) - 1, B = new Lr(32768), N = new Lr(k + 1), E = Math.ceil(a / 3), F = 2 * E, O = function(He) {
                return (s[He] ^ s[He + 1] << E ^ s[He + 2] << F) & k
            }, V = new vh(25e3), X = new Lr(288), x = new Lr(32), j = 0, fe = 0, he = (p = 0,
            0), Re = 0, Xe = 0; p < h; ++p) {
                var pt = O(p)
                  , it = 32767 & p
                  , de = N[pt];
                if (B[it] = de,
                N[pt] = it,
                Re <= p) {
                    var Ue = h - p;
                    if ((j > 7e3 || he > 24576) && Ue > 423) {
                        g = nO(s, f, 0, V, X, x, fe, he, Xe, p - Xe, g),
                        he = j = fe = 0,
                        Xe = p;
                        for (var A = 0; A < 286; ++A)
                            X[A] = 0;
                        for (A = 0; A < 30; ++A)
                            x[A] = 0
                    }
                    var q = 2
                      , L = 0
                      , U = w
                      , te = it - de & 32767;
                    if (Ue > 2 && pt == O(p - te))
                        for (var Ce = Math.min(S, Ue) - 1, Ve = Math.min(32767, p), De = Math.min(258, Ue); te <= Ve && --U && it != de; ) {
                            if (s[p + q] == s[p + q - te]) {
                                for (var ge = 0; ge < De && s[p + ge] == s[p + ge - te]; ++ge)
                                    ;
                                if (ge > q) {
                                    if (q = ge,
                                    L = te,
                                    ge > Ce)
                                        break;
                                    var kt = Math.min(te, ge - 2)
                                      , xt = 0;
                                    for (A = 0; A < kt; ++A) {
                                        var fn = p - te + A + 32768 & 32767
                                          , Ot = fn - B[fn] + 32768 & 32767;
                                        Ot > xt && (xt = Ot,
                                        de = fn)
                                    }
                                }
                            }
                            te += (it = de) - (de = B[it]) + 32768 & 32767
                        }
                    if (L) {
                        V[he++] = 268435456 | Im[q] << 18 | Rm[L];
                        var xi = 31 & Im[q]
                          , Xt = 31 & Rm[L];
                        fe += v8[xi] + _8[Xt],
                        ++X[257 + xi],
                        ++x[Xt],
                        Re = p + q,
                        ++j
                    } else
                        V[he++] = s[p],
                        ++X[s[p]]
                }
            }
            g = nO(s, f, u, V, X, x, fe, he, Xe, p - Xe, g)
        }
        return cP(d, 0, c + aP(g) + l)
    }(e, t.level == null ? 6 : t.level, t.mem == null ? Math.ceil(1.5 * Math.max(8, Math.min(13, Math.log(e.length)))) : 12 + t.mem, n, i, !r)
}
  , Fm = function(e, t, n) {
    for (; n; ++t)
        e[t] = n,
        n >>>= 8
}
  , NX = function(e, t) {
    var n = t.filename;
    if (e[0] = 31,
    e[1] = 139,
    e[2] = 8,
    e[8] = t.level < 2 ? 4 : t.level == 9 ? 2 : 0,
    e[9] = 3,
    t.mtime != 0 && Fm(e, 4, Math.floor(new Date(t.mtime || Date.now()) / 1e3)),
    n) {
        e[3] = 8;
        for (var i = 0; i <= n.length; ++i)
            e[i + 10] = n.charCodeAt(i)
    }
}
  , FX = function(e) {
    return 10 + (e.filename && e.filename.length + 1 || 0)
};
function lP(e, t) {
    t === void 0 && (t = {});
    var n = RX()
      , i = e.length;
    n.p(e);
    var r = DX(e, t, FX(t), 8)
      , s = r.length;
    return NX(r, t),
    Fm(r, s - 8, n.d()),
    Fm(r, s - 4, i),
    r
}
function uP(e, t) {
    var n = e.length;
    if (typeof TextEncoder < "u")
        return new TextEncoder().encode(e);
    for (var i = new $s(e.length + (e.length >>> 1)), r = 0, s = function(l) {
        i[r++] = l
    }, o = 0; o < n; ++o) {
        if (r + 5 > i.length) {
            var a = new $s(r + 8 + (n - o << 1));
            a.set(i),
            i = a
        }
        var c = e.charCodeAt(o);
        c < 128 || t ? s(c) : c < 2048 ? (s(192 | c >>> 6),
        s(128 | 63 & c)) : c > 55295 && c < 57344 ? (s(240 | (c = 65536 + (1047552 & c) | 1023 & e.charCodeAt(++o)) >>> 18),
        s(128 | c >>> 12 & 63),
        s(128 | c >>> 6 & 63),
        s(128 | 63 & c)) : (s(224 | c >>> 12),
        s(128 | c >>> 6 & 63),
        s(128 | 63 & c))
    }
    return cP(i, 0, r)
}
var Y1 = "[SessionRecording]"
  , dr = pr(Y1)
  , LX = 3e5
  , BX = [_o.MouseMove, _o.MouseInteraction, _o.Scroll, _o.ViewportResize, _o.Input, _o.TouchMove, _o.MediaInteraction, _o.Drag]
  , iO = e => ({
    rrwebMethod: e,
    enqueuedAt: Date.now(),
    attempt: 1
});
function x0(e) {
    return function(t, n) {
        for (var i = "", r = 0; r < t.length; ) {
            var s = t[r++];
            s < 128 || n ? i += String.fromCharCode(s) : s < 224 ? i += String.fromCharCode((31 & s) << 6 | 63 & t[r++]) : s < 240 ? i += String.fromCharCode((15 & s) << 12 | (63 & t[r++]) << 6 | 63 & t[r++]) : (s = ((15 & s) << 18 | (63 & t[r++]) << 12 | (63 & t[r++]) << 6 | 63 & t[r++]) - 65536,
            i += String.fromCharCode(55296 | s >> 10, 56320 | 1023 & s))
        }
        return i
    }(lP(uP(JSON.stringify(e))), !0)
}
function rO(e) {
    return e.type === Ya.Custom && e.data.tag === "sessionIdle"
}
function sO(e, t) {
    return t.some(n => n.matching === "regex" && new RegExp(n.url).test(e))
}
var Lm = class {
    get sessionIdleThresholdMilliseconds() {
        return this.instance.config.session_recording.session_idle_threshold_ms || 3e5
    }
    get rrwebRecord() {
        var t, n;
        return _t == null || (t = _t.__PosthogExtensions__) === null || t === void 0 || (n = t.rrweb) === null || n === void 0 ? void 0 : n.record
    }
    get started() {
        return this._captureStarted
    }
    get sessionManager() {
        if (!this.instance.sessionManager)
            throw new Error(Y1 + " must be started with a valid sessionManager.");
        return this.instance.sessionManager
    }
    get fullSnapshotIntervalMillis() {
        var t, n;
        return this.triggerStatus === "trigger_pending" ? 6e4 : (t = (n = this.instance.config.session_recording) === null || n === void 0 ? void 0 : n.full_snapshot_interval_millis) !== null && t !== void 0 ? t : LX
    }
    get isSampled() {
        var t = this.instance.get_property(z1);
        return P0(t) ? t : null
    }
    get sessionDuration() {
        var t, n, i = (t = this.buffer) === null || t === void 0 ? void 0 : t.data[((n = this.buffer) === null || n === void 0 ? void 0 : n.data.length) - 1], {sessionStartTimestamp: r} = this.sessionManager.checkAndGetSessionAndWindowId(!0);
        return i ? i.timestamp - r : null
    }
    get isRecordingEnabled() {
        var t = !!this.instance.get_property(hm)
          , n = !this.instance.config.disable_session_recording;
        return Y && t && n
    }
    get isConsoleLogCaptureEnabled() {
        var t = !!this.instance.get_property(IT)
          , n = this.instance.config.enable_recording_console_log;
        return n ?? t
    }
    get canvasRecording() {
        var t, n, i, r, s, o, a = this.instance.config.session_recording.captureCanvas, c = this.instance.get_property(DT), l = (t = (n = a?.recordCanvas) !== null && n !== void 0 ? n : c?.enabled) !== null && t !== void 0 && t, u = (i = (r = a?.canvasFps) !== null && r !== void 0 ? r : c?.fps) !== null && i !== void 0 ? i : 0, h = (s = (o = a?.canvasQuality) !== null && o !== void 0 ? o : c?.quality) !== null && s !== void 0 ? s : 0;
        return {
            enabled: l,
            fps: aa(u, 0, 12, "canvas recording fps"),
            quality: aa(h, 0, 1, "canvas recording quality")
        }
    }
    get networkPayloadCapture() {
        var t, n, i = this.instance.get_property(RT), r = {
            recordHeaders: (t = this.instance.config.session_recording) === null || t === void 0 ? void 0 : t.recordHeaders,
            recordBody: (n = this.instance.config.session_recording) === null || n === void 0 ? void 0 : n.recordBody
        }, s = r?.recordHeaders || i?.recordHeaders, o = r?.recordBody || i?.recordBody, a = Xn(this.instance.config.capture_performance) ? this.instance.config.capture_performance.network_timing : this.instance.config.capture_performance, c = !!(P0(a) ? a : i?.capturePerformance);
        return s || o || c ? {
            recordHeaders: s,
            recordBody: o,
            recordPerformance: c
        } : void 0
    }
    get sampleRate() {
        var t = this.instance.get_property(NT);
        return Fr(t) ? t : null
    }
    get minimumDuration() {
        var t = this.instance.get_property(FT);
        return Fr(t) ? t : null
    }
    get status() {
        return this.receivedDecide ? this.isRecordingEnabled ? this._urlBlocked ? "paused" : dn(this._linkedFlag) || this._linkedFlagSeen ? this.triggerStatus === "trigger_pending" ? "buffering" : P0(this.isSampled) ? this.isSampled ? "sampled" : "disabled" : "active" : "buffering" : "disabled" : "buffering"
    }
    get urlTriggerStatus() {
        var t;
        return this._urlTriggers.length === 0 ? "trigger_disabled" : ((t = this.instance) === null || t === void 0 ? void 0 : t.get_property(K9)) === this.sessionId ? "trigger_activated" : "trigger_pending"
    }
    get eventTriggerStatus() {
        var t;
        return this._eventTriggers.length === 0 ? "trigger_disabled" : ((t = this.instance) === null || t === void 0 ? void 0 : t.get_property(Y9)) === this.sessionId ? "trigger_activated" : "trigger_pending"
    }
    get triggerStatus() {
        var t = this.eventTriggerStatus === "trigger_activated" || this.urlTriggerStatus === "trigger_activated"
          , n = this.eventTriggerStatus === "trigger_pending" || this.urlTriggerStatus === "trigger_pending";
        return t ? "trigger_activated" : n ? "trigger_pending" : "trigger_disabled"
    }
    constructor(t) {
        if (Ie(this, "queuedRRWebEvents", []),
        Ie(this, "isIdle", !1),
        Ie(this, "_linkedFlagSeen", !1),
        Ie(this, "_lastActivityTimestamp", Date.now()),
        Ie(this, "_linkedFlag", null),
        Ie(this, "_removePageViewCaptureHook", void 0),
        Ie(this, "_onSessionIdListener", void 0),
        Ie(this, "_persistDecideOnSessionListener", void 0),
        Ie(this, "_samplingSessionListener", void 0),
        Ie(this, "_urlTriggers", []),
        Ie(this, "_urlBlocklist", []),
        Ie(this, "_urlBlocked", !1),
        Ie(this, "_eventTriggers", []),
        Ie(this, "_removeEventTriggerCaptureHook", void 0),
        Ie(this, "_forceAllowLocalhostNetworkCapture", !1),
        Ie(this, "_onBeforeUnload", () => {
            this._flushBuffer()
        }
        ),
        Ie(this, "_onOffline", () => {
            this._tryAddCustomEvent("browser offline", {})
        }
        ),
        Ie(this, "_onOnline", () => {
            this._tryAddCustomEvent("browser online", {})
        }
        ),
        Ie(this, "_onVisibilityChange", () => {
            if (qe != null && qe.visibilityState) {
                var r = "window " + qe.visibilityState;
                this._tryAddCustomEvent(r, {})
            }
        }
        ),
        this.instance = t,
        this._captureStarted = !1,
        this._endpoint = "/s/",
        this.stopRrweb = void 0,
        this.receivedDecide = !1,
        !this.instance.sessionManager)
            throw dr.error("started without valid sessionManager"),
            new Error(Y1 + " started without valid sessionManager. This is a bug.");
        if (this.instance.config.__preview_experimental_cookieless_mode)
            throw new Error(Y1 + " cannot be used with __preview_experimental_cookieless_mode.");
        var {sessionId: n, windowId: i} = this.sessionManager.checkAndGetSessionAndWindowId();
        this.sessionId = n,
        this.windowId = i,
        this.buffer = this.clearBuffer(),
        this.sessionIdleThresholdMilliseconds >= this.sessionManager.sessionTimeoutMs && dr.warn("session_idle_threshold_ms (".concat(this.sessionIdleThresholdMilliseconds, ") is greater than the session timeout (").concat(this.sessionManager.sessionTimeoutMs, "). Session will never be detected as idle"))
    }
    startIfEnabledOrStop(t) {
        this.isRecordingEnabled ? (this._startCapture(t),
        Y?.addEventListener("beforeunload", this._onBeforeUnload),
        Y?.addEventListener("offline", this._onOffline),
        Y?.addEventListener("online", this._onOnline),
        Y?.addEventListener("visibilitychange", this._onVisibilityChange),
        this._setupSampling(),
        this._addEventTriggerListener(),
        dn(this._removePageViewCaptureHook) && (this._removePageViewCaptureHook = this.instance.on("eventCaptured", n => {
            try {
                if (n.event === "$pageview") {
                    var i = n != null && n.properties.$current_url ? this._maskUrl(n?.properties.$current_url) : "";
                    if (!i)
                        return;
                    this._tryAddCustomEvent("$pageview", {
                        href: i
                    })
                }
            } catch (r) {
                dr.error("Could not add $pageview to rrweb session", r)
            }
        }
        )),
        this._onSessionIdListener || (this._onSessionIdListener = this.sessionManager.onSessionId( (n, i, r) => {
            var s, o, a, c;
            r && (this._tryAddCustomEvent("$session_id_change", {
                sessionId: n,
                windowId: i,
                changeReason: r
            }),
            (s = this.instance) === null || s === void 0 || (o = s.persistence) === null || o === void 0 || o.unregister(Y9),
            (a = this.instance) === null || a === void 0 || (c = a.persistence) === null || c === void 0 || c.unregister(K9))
        }
        ))) : this.stopRecording()
    }
    stopRecording() {
        var t, n, i, r;
        this._captureStarted && this.stopRrweb && (this.stopRrweb(),
        this.stopRrweb = void 0,
        this._captureStarted = !1,
        Y?.removeEventListener("beforeunload", this._onBeforeUnload),
        Y?.removeEventListener("offline", this._onOffline),
        Y?.removeEventListener("online", this._onOnline),
        Y?.removeEventListener("visibilitychange", this._onVisibilityChange),
        this.clearBuffer(),
        clearInterval(this._fullSnapshotTimer),
        (t = this._removePageViewCaptureHook) === null || t === void 0 || t.call(this),
        this._removePageViewCaptureHook = void 0,
        (n = this._removeEventTriggerCaptureHook) === null || n === void 0 || n.call(this),
        this._removeEventTriggerCaptureHook = void 0,
        (i = this._onSessionIdListener) === null || i === void 0 || i.call(this),
        this._onSessionIdListener = void 0,
        (r = this._samplingSessionListener) === null || r === void 0 || r.call(this),
        this._samplingSessionListener = void 0,
        dr.info("stopped"))
    }
    makeSamplingDecision(t) {
        var n, i = this.sessionId !== t, r = this.sampleRate;
        if (Fr(r)) {
            var s, o = this.isSampled, a = i || !P0(o);
            a ? s = Math.random() < r : s = o,
            a && (s ? this._reportStarted("sampled") : dr.warn("Sample rate (".concat(r, ") has determined that this sessionId (").concat(t, ") will not be sent to the server.")),
            this._tryAddCustomEvent("samplingDecisionMade", {
                sampleRate: r,
                isSampled: s
            })),
            (n = this.instance.persistence) === null || n === void 0 || n.register({
                [z1]: s
            })
        } else {
            var c;
            (c = this.instance.persistence) === null || c === void 0 || c.register({
                [z1]: null
            })
        }
    }
    onRemoteConfig(t) {
        var n, i, r, s, o, a;
        if (this._tryAddCustomEvent("$remote_config_received", t),
        this._persistRemoteConfig(t),
        this._linkedFlag = ((n = t.sessionRecording) === null || n === void 0 ? void 0 : n.linkedFlag) || null,
        (i = t.sessionRecording) !== null && i !== void 0 && i.endpoint && (this._endpoint = (a = t.sessionRecording) === null || a === void 0 ? void 0 : a.endpoint),
        this._setupSampling(),
        !dn(this._linkedFlag) && !this._linkedFlagSeen) {
            var c = Ji(this._linkedFlag) ? this._linkedFlag : this._linkedFlag.flag
              , l = Ji(this._linkedFlag) ? null : this._linkedFlag.variant;
            this.instance.onFeatureFlags( (u, h) => {
                var d = Xn(h) && c in h
                  , f = l ? h[c] === l : d;
                f && this._reportStarted("linked_flag_matched", {
                    linkedFlag: c,
                    linkedVariant: l
                }),
                this._linkedFlagSeen = f
            }
            )
        }
        (r = t.sessionRecording) !== null && r !== void 0 && r.urlTriggers && (this._urlTriggers = t.sessionRecording.urlTriggers),
        (s = t.sessionRecording) !== null && s !== void 0 && s.urlBlocklist && (this._urlBlocklist = t.sessionRecording.urlBlocklist),
        (o = t.sessionRecording) !== null && o !== void 0 && o.eventTriggers && (this._eventTriggers = t.sessionRecording.eventTriggers),
        this.receivedDecide = !0,
        this.startIfEnabledOrStop()
    }
    _setupSampling() {
        Fr(this.sampleRate) && dn(this._samplingSessionListener) && (this._samplingSessionListener = this.sessionManager.onSessionId(t => {
            this.makeSamplingDecision(t)
        }
        ))
    }
    _persistRemoteConfig(t) {
        if (this.instance.persistence) {
            var n, i = this.instance.persistence, r = () => {
                var s, o, a, c, l, u, h, d, f = (s = t.sessionRecording) === null || s === void 0 ? void 0 : s.sampleRate, g = dn(f) ? null : parseFloat(f), p = (o = t.sessionRecording) === null || o === void 0 ? void 0 : o.minimumDurationMilliseconds;
                i.register({
                    [hm]: !!t.sessionRecording,
                    [IT]: (a = t.sessionRecording) === null || a === void 0 ? void 0 : a.consoleLogRecordingEnabled,
                    [RT]: we({
                        capturePerformance: t.capturePerformance
                    }, (c = t.sessionRecording) === null || c === void 0 ? void 0 : c.networkPayloadCapture),
                    [DT]: {
                        enabled: (l = t.sessionRecording) === null || l === void 0 ? void 0 : l.recordCanvas,
                        fps: (u = t.sessionRecording) === null || u === void 0 ? void 0 : u.canvasFps,
                        quality: (h = t.sessionRecording) === null || h === void 0 ? void 0 : h.canvasQuality
                    },
                    [NT]: g,
                    [FT]: et(p) ? null : p,
                    [LT]: (d = t.sessionRecording) === null || d === void 0 ? void 0 : d.scriptConfig
                })
            }
            ;
            r(),
            (n = this._persistDecideOnSessionListener) === null || n === void 0 || n.call(this),
            this._persistDecideOnSessionListener = this.sessionManager.onSessionId(r)
        }
    }
    log(t) {
        var n, i = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : "log";
        (n = this.instance.sessionRecording) === null || n === void 0 || n.onRRwebEmit({
            type: 6,
            data: {
                plugin: "rrweb/console@1",
                payload: {
                    level: i,
                    trace: [],
                    payload: [JSON.stringify(t)]
                }
            },
            timestamp: Date.now()
        })
    }
    _startCapture(t) {
        if (!et(Object.assign) && !et(Array.from) && !(this._captureStarted || this.instance.config.disable_session_recording || this.instance.consent.isOptedOut())) {
            var n, i;
            this._captureStarted = !0,
            this.sessionManager.checkAndGetSessionAndWindowId(),
            this.rrwebRecord ? this._onScriptLoaded() : (n = _t.__PosthogExtensions__) === null || n === void 0 || (i = n.loadExternalDependency) === null || i === void 0 || i.call(n, this.instance, this.scriptName, r => {
                if (r)
                    return dr.error("could not load recorder", r);
                this._onScriptLoaded()
            }
            ),
            dr.info("starting"),
            this.status === "active" && this._reportStarted(t || "recording_initialized")
        }
    }
    get scriptName() {
        var t, n, i;
        return ((t = this.instance) === null || t === void 0 || (n = t.persistence) === null || n === void 0 || (i = n.get_property(LT)) === null || i === void 0 ? void 0 : i.script) || "recorder"
    }
    isInteractiveEvent(t) {
        var n;
        return t.type === 3 && BX.indexOf((n = t.data) === null || n === void 0 ? void 0 : n.source) !== -1
    }
    _updateWindowAndSessionIds(t) {
        var n = this.isInteractiveEvent(t);
        n || this.isIdle || t.timestamp - this._lastActivityTimestamp > this.sessionIdleThresholdMilliseconds && (this.isIdle = !0,
        clearInterval(this._fullSnapshotTimer),
        this._tryAddCustomEvent("sessionIdle", {
            eventTimestamp: t.timestamp,
            lastActivityTimestamp: this._lastActivityTimestamp,
            threshold: this.sessionIdleThresholdMilliseconds,
            bufferLength: this.buffer.data.length,
            bufferSize: this.buffer.size
        }),
        this._flushBuffer());
        var i = !1;
        if (n && (this._lastActivityTimestamp = t.timestamp,
        this.isIdle && (this.isIdle = !1,
        this._tryAddCustomEvent("sessionNoLongerIdle", {
            reason: "user activity",
            type: t.type
        }),
        i = !0)),
        !this.isIdle) {
            var {windowId: r, sessionId: s} = this.sessionManager.checkAndGetSessionAndWindowId(!n, t.timestamp)
              , o = this.sessionId !== s
              , a = this.windowId !== r;
            this.windowId = r,
            this.sessionId = s,
            o || a ? (this.stopRecording(),
            this.startIfEnabledOrStop("session_id_changed")) : i && this._scheduleFullSnapshot()
        }
    }
    _tryRRWebMethod(t) {
        try {
            return t.rrwebMethod(),
            !0
        } catch (n) {
            return this.queuedRRWebEvents.length < 10 ? this.queuedRRWebEvents.push({
                enqueuedAt: t.enqueuedAt || Date.now(),
                attempt: t.attempt++,
                rrwebMethod: t.rrwebMethod
            }) : dr.warn("could not emit queued rrweb event.", n, t),
            !1
        }
    }
    _tryAddCustomEvent(t, n) {
        return this._tryRRWebMethod(iO( () => this.rrwebRecord.addCustomEvent(t, n)))
    }
    _tryTakeFullSnapshot() {
        return this._tryRRWebMethod(iO( () => this.rrwebRecord.takeFullSnapshot()))
    }
    _onScriptLoaded() {
        var t, n = {
            blockClass: "ph-no-capture",
            blockSelector: void 0,
            ignoreClass: "ph-ignore-input",
            maskTextClass: "ph-mask",
            maskTextSelector: void 0,
            maskTextFn: void 0,
            maskAllInputs: !0,
            maskInputOptions: {
                password: !0
            },
            maskInputFn: void 0,
            slimDOMOptions: {},
            collectFonts: !1,
            inlineStylesheet: !0,
            recordCrossOriginIframes: !1
        }, i = this.instance.config.session_recording;
        for (var [r,s] of Object.entries(i || {}))
            r in n && (r === "maskInputOptions" ? n.maskInputOptions = we({
                password: !0
            }, s) : n[r] = s);
        if (this.canvasRecording && this.canvasRecording.enabled && (n.recordCanvas = !0,
        n.sampling = {
            canvas: this.canvasRecording.fps
        },
        n.dataURLOptions = {
            type: "image/webp",
            quality: this.canvasRecording.quality
        }),
        this.rrwebRecord) {
            this.mutationRateLimiter = (t = this.mutationRateLimiter) !== null && t !== void 0 ? t : new Am(this.rrwebRecord,{
                refillRate: this.instance.config.session_recording.__mutationRateLimiterRefillRate,
                bucketSize: this.instance.config.session_recording.__mutationRateLimiterBucketSize,
                onBlockedNode: (a, c) => {
                    var l = "Too many mutations on node '".concat(a, "'. Rate limiting. This could be due to SVG animations or something similar");
                    dr.info(l, {
                        node: c
                    }),
                    this.log(Y1 + " " + l, "warn")
                }
            });
            var o = this._gatherRRWebPlugins();
            this.stopRrweb = this.rrwebRecord(we({
                emit: a => {
                    this.onRRwebEmit(a)
                }
                ,
                plugins: o
            }, n)),
            this._lastActivityTimestamp = Date.now(),
            this.isIdle = !1,
            this._tryAddCustomEvent("$session_options", {
                sessionRecordingOptions: n,
                activePlugins: o.map(a => a?.name)
            }),
            this._tryAddCustomEvent("$posthog_config", {
                config: this.instance.config
            })
        } else
            dr.error("onScriptLoaded was called but rrwebRecord is not available. This indicates something has gone wrong.")
    }
    _scheduleFullSnapshot() {
        if (this._fullSnapshotTimer && clearInterval(this._fullSnapshotTimer),
        !this.isIdle) {
            var t = this.fullSnapshotIntervalMillis;
            t && (this._fullSnapshotTimer = setInterval( () => {
                this._tryTakeFullSnapshot()
            }
            , t))
        }
    }
    _gatherRRWebPlugins() {
        var t, n, i, r, s = [], o = (t = _t.__PosthogExtensions__) === null || t === void 0 || (n = t.rrwebPlugins) === null || n === void 0 ? void 0 : n.getRecordConsolePlugin;
        o && this.isConsoleLogCaptureEnabled && s.push(o());
        var a = (i = _t.__PosthogExtensions__) === null || i === void 0 || (r = i.rrwebPlugins) === null || r === void 0 ? void 0 : r.getRecordNetworkPlugin;
        return this.networkPayloadCapture && Es(a) && (!rX.includes(location.hostname) || this._forceAllowLocalhostNetworkCapture ? s.push(a(OX(this.instance.config, this.networkPayloadCapture))) : dr.info("NetworkCapture not started because we are on localhost.")),
        s
    }
    onRRwebEmit(t) {
        var n;
        if (this._processQueuedEvents(),
        t && Xn(t)) {
            if (t.type === Ya.Meta) {
                var i = this._maskUrl(t.data.href);
                if (this._lastHref = i,
                !i)
                    return;
                t.data.href = i
            } else
                this._pageViewFallBack();
            if (this._checkUrlTriggerConditions(),
            this.status !== "paused" || function(h) {
                return h.type === Ya.Custom && h.data.tag === "recording paused"
            }(t)) {
                t.type === Ya.FullSnapshot && this._scheduleFullSnapshot(),
                t.type === Ya.FullSnapshot && this.triggerStatus === "trigger_pending" && this.clearBuffer();
                var r = this.mutationRateLimiter ? this.mutationRateLimiter.throttleMutations(t) : t;
                if (r) {
                    var s = function(h) {
                        var d = h;
                        if (d && Xn(d) && d.type === 6 && Xn(d.data) && d.data.plugin === "rrweb/console@1") {
                            d.data.payload.payload.length > 10 && (d.data.payload.payload = d.data.payload.payload.slice(0, 10),
                            d.data.payload.payload.push("...[truncated]"));
                            for (var f = [], g = 0; g < d.data.payload.payload.length; g++)
                                d.data.payload.payload[g] && d.data.payload.payload[g].length > 2e3 ? f.push(d.data.payload.payload[g].slice(0, 2e3) + "...[truncated]") : f.push(d.data.payload.payload[g]);
                            return d.data.payload.payload = f,
                            h
                        }
                        return h
                    }(r);
                    if (this._updateWindowAndSessionIds(s),
                    !this.isIdle || rO(s)) {
                        if (rO(s)) {
                            var o = s.data.payload;
                            if (o) {
                                var a = o.lastActivityTimestamp
                                  , c = o.threshold;
                                s.timestamp = a + c
                            }
                        }
                        var l = (n = this.instance.config.session_recording.compress_events) === null || n === void 0 || n ? function(h) {
                            if (dp(h) < 1024)
                                return h;
                            try {
                                if (h.type === Ya.FullSnapshot)
                                    return we(we({}, h), {}, {
                                        data: x0(h.data),
                                        cv: "2024-10"
                                    });
                                if (h.type === Ya.IncrementalSnapshot && h.data.source === _o.Mutation)
                                    return we(we({}, h), {}, {
                                        cv: "2024-10",
                                        data: we(we({}, h.data), {}, {
                                            texts: x0(h.data.texts),
                                            attributes: x0(h.data.attributes),
                                            removes: x0(h.data.removes),
                                            adds: x0(h.data.adds)
                                        })
                                    });
                                if (h.type === Ya.IncrementalSnapshot && h.data.source === _o.StyleSheetRule)
                                    return we(we({}, h), {}, {
                                        cv: "2024-10",
                                        data: we(we({}, h.data), {}, {
                                            adds: x0(h.data.adds),
                                            removes: x0(h.data.removes)
                                        })
                                    })
                            } catch (d) {
                                dr.error("could not compress event - will use uncompressed event", d)
                            }
                            return h
                        }(s) : s
                          , u = {
                            $snapshot_bytes: dp(l),
                            $snapshot_data: l,
                            $session_id: this.sessionId,
                            $window_id: this.windowId
                        };
                        this.status !== "disabled" ? this._captureSnapshotBuffered(u) : this.clearBuffer()
                    }
                }
            }
        }
    }
    _pageViewFallBack() {
        if (!this.instance.config.capture_pageview && Y) {
            var t = this._maskUrl(Y.location.href);
            this._lastHref !== t && (this._tryAddCustomEvent("$url_changed", {
                href: t
            }),
            this._lastHref = t)
        }
    }
    _processQueuedEvents() {
        if (this.queuedRRWebEvents.length) {
            var t = [...this.queuedRRWebEvents];
            this.queuedRRWebEvents = [],
            t.forEach(n => {
                Date.now() - n.enqueuedAt <= 2e3 && this._tryRRWebMethod(n)
            }
            )
        }
    }
    _maskUrl(t) {
        var n = this.instance.config.session_recording;
        if (n.maskNetworkRequestFn) {
            var i, r = {
                url: t
            };
            return (i = r = n.maskNetworkRequestFn(r)) === null || i === void 0 ? void 0 : i.url
        }
        return t
    }
    clearBuffer() {
        return this.buffer = {
            size: 0,
            data: [],
            sessionId: this.sessionId,
            windowId: this.windowId
        },
        this.buffer
    }
    _flushBuffer() {
        this.flushBufferTimer && (clearTimeout(this.flushBufferTimer),
        this.flushBufferTimer = void 0);
        var t = this.minimumDuration
          , n = this.sessionDuration
          , i = Fr(n) && n >= 0
          , r = Fr(t) && i && n < t;
        return this.status === "buffering" || this.status === "paused" || r ? (this.flushBufferTimer = setTimeout( () => {
            this._flushBuffer()
        }
        , 2e3),
        this.buffer) : (this.buffer.data.length > 0 && Tm(this.buffer).forEach(s => {
            this._captureSnapshot({
                $snapshot_bytes: s.size,
                $snapshot_data: s.data,
                $session_id: s.sessionId,
                $window_id: s.windowId,
                $lib: "web",
                $lib_version: Ja.LIB_VERSION
            })
        }
        ),
        this.clearBuffer())
    }
    _captureSnapshotBuffered(t) {
        var n, i = 2 + (((n = this.buffer) === null || n === void 0 ? void 0 : n.data.length) || 0);
        !this.isIdle && (this.buffer.size + t.$snapshot_bytes + i > 943718.4 || this.buffer.sessionId !== this.sessionId) && (this.buffer = this._flushBuffer()),
        this.buffer.size += t.$snapshot_bytes,
        this.buffer.data.push(t.$snapshot_data),
        this.flushBufferTimer || this.isIdle || (this.flushBufferTimer = setTimeout( () => {
            this._flushBuffer()
        }
        , 2e3))
    }
    _captureSnapshot(t) {
        this.instance.capture("$snapshot", t, {
            _url: this.instance.requestRouter.endpointFor("api", this._endpoint),
            _noTruncate: !0,
            _batchKey: "recordings",
            skip_client_rate_limiting: !0
        })
    }
    _checkUrlTriggerConditions() {
        if (Y !== void 0 && Y.location.href) {
            var t = Y.location.href
              , n = this.status === "paused"
              , i = sO(t, this._urlBlocklist);
            i && !n ? this._pauseRecording() : !i && n && this._resumeRecording(),
            sO(t, this._urlTriggers) && this._activateTrigger("url")
        }
    }
    _activateTrigger(t) {
        var n, i;
        this.triggerStatus === "trigger_pending" && ((n = this.instance) === null || n === void 0 || (i = n.persistence) === null || i === void 0 || i.register({
            [t === "url" ? K9 : Y9]: this.sessionId
        }),
        this._flushBuffer(),
        this._reportStarted(t + "_trigger_matched"))
    }
    _pauseRecording() {
        this.status !== "paused" && (this._urlBlocked = !0,
        clearInterval(this._fullSnapshotTimer),
        dr.info("recording paused due to URL blocker"),
        this._tryAddCustomEvent("recording paused", {
            reason: "url blocker"
        }))
    }
    _resumeRecording() {
        this.status === "paused" && (this._urlBlocked = !1,
        this._tryTakeFullSnapshot(),
        this._scheduleFullSnapshot(),
        this._tryAddCustomEvent("recording resumed", {
            reason: "left blocked url"
        }),
        dr.info("recording resumed"))
    }
    _addEventTriggerListener() {
        this._eventTriggers.length !== 0 && dn(this._removeEventTriggerCaptureHook) && (this._removeEventTriggerCaptureHook = this.instance.on("eventCaptured", t => {
            try {
                this._eventTriggers.includes(t.event) && this._activateTrigger("event")
            } catch (n) {
                dr.error("Could not activate event trigger", n)
            }
        }
        ))
    }
    overrideLinkedFlag() {
        this._linkedFlagSeen = !0,
        this._tryTakeFullSnapshot(),
        this._reportStarted("linked_flag_overridden")
    }
    overrideSampling() {
        var t;
        (t = this.instance.persistence) === null || t === void 0 || t.register({
            [z1]: !0
        }),
        this._tryTakeFullSnapshot(),
        this._reportStarted("sampling_overridden")
    }
    overrideTrigger(t) {
        this._activateTrigger(t)
    }
    _reportStarted(t, n) {
        this.instance.register_for_session({
            $session_recording_start_reason: t
        }),
        dr.info(t.replace("_", " "), n),
        Ft(["recording_initialized", "session_id_changed"], t) || this._tryAddCustomEvent(t, n)
    }
}
, w0 = pr("[RemoteConfig]"), Bm = class {
    constructor(t) {
        this.instance = t
    }
    get remoteConfig() {
        var t, n;
        return (t = _t._POSTHOG_REMOTE_CONFIG) === null || t === void 0 || (n = t[this.instance.config.token]) === null || n === void 0 ? void 0 : n.config
    }
    _loadRemoteConfigJs(t) {
        var n, i, r;
        (n = _t.__PosthogExtensions__) !== null && n !== void 0 && n.loadExternalDependency ? (i = _t.__PosthogExtensions__) === null || i === void 0 || (r = i.loadExternalDependency) === null || r === void 0 || r.call(i, this.instance, "remote-config", () => t(this.remoteConfig)) : (w0.error("PostHog Extensions not found. Cannot load remote config."),
        t())
    }
    _loadRemoteConfigJSON(t) {
        this.instance._send_request({
            method: "GET",
            url: this.instance.requestRouter.endpointFor("assets", "/array/".concat(this.instance.config.token, "/config")),
            callback: n => {
                t(n.json)
            }
        })
    }
    load() {
        try {
            if (this.remoteConfig)
                return w0.info("Using preloaded remote config", this.remoteConfig),
                void this.onRemoteConfig(this.remoteConfig);
            if (this.instance.config.advanced_disable_decide)
                return void w0.warn("Remote config is disabled. Falling back to local config.");
            this._loadRemoteConfigJs(t => {
                if (!t)
                    return w0.info("No config found after loading remote JS config. Falling back to JSON."),
                    void this._loadRemoteConfigJSON(n => {
                        this.onRemoteConfig(n)
                    }
                    );
                this.onRemoteConfig(t)
            }
            )
        } catch (t) {
            w0.error("Error loading remote config", t)
        }
    }
    onRemoteConfig(t) {
        t ? this.instance.config.__preview_remote_config ? (this.instance._onRemoteConfig(t),
        t.hasFeatureFlags !== !1 && this.instance.featureFlags.ensureFlagsLoaded()) : w0.info("__preview_remote_config is disabled. Logging config instead", t) : w0.error("Failed to fetch remote config from PostHog.")
    }
}
, Qa, UX = Y != null && Y.location ? up(Y.location.hash, "__posthog") || up(location.hash, "state") : null, oO = "_postHogToolbarParams", aO = pr("[Toolbar]");
(function(e) {
    e[e.UNINITIALIZED = 0] = "UNINITIALIZED",
    e[e.LOADING = 1] = "LOADING",
    e[e.LOADED = 2] = "LOADED"
}
)(Qa || (Qa = {}));
var Um = class {
    constructor(t) {
        this.instance = t
    }
    setToolbarState(t) {
        _t.ph_toolbar_state = t
    }
    getToolbarState() {
        var t;
        return (t = _t.ph_toolbar_state) !== null && t !== void 0 ? t : Qa.UNINITIALIZED
    }
    maybeLoadToolbar() {
        var t, n, i = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : void 0, r = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : void 0, s = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : void 0;
        if (!Y || !qe)
            return !1;
        i = (t = i) !== null && t !== void 0 ? t : Y.location,
        s = (n = s) !== null && n !== void 0 ? n : Y.history;
        try {
            if (!r) {
                try {
                    Y.localStorage.setItem("test", "test"),
                    Y.localStorage.removeItem("test")
                } catch {
                    return !1
                }
                r = Y?.localStorage
            }
            var o, a = UX || up(i.hash, "__posthog") || up(i.hash, "state"), c = a ? OT( () => JSON.parse(atob(decodeURIComponent(a)))) || OT( () => JSON.parse(decodeURIComponent(a))) : null;
            return c && c.action === "ph_authorize" ? ((o = c).source = "url",
            o && Object.keys(o).length > 0 && (c.desiredHash ? i.hash = c.desiredHash : s ? s.replaceState(s.state, "", i.pathname + i.search) : i.hash = "")) : ((o = JSON.parse(r.getItem(oO) || "{}")).source = "localstorage",
            delete o.userIntent),
            !(!o.token || this.instance.config.token !== o.token) && (this.loadToolbar(o),
            !0)
        } catch {
            return !1
        }
    }
    _callLoadToolbar(t) {
        var n = _t.ph_load_toolbar || _t.ph_load_editor;
        !dn(n) && Es(n) ? n(t, this.instance) : aO.warn("No toolbar load function found")
    }
    loadToolbar(t) {
        var n = !(qe == null || !qe.getElementById(IO));
        if (!Y || n)
            return !1;
        var i = this.instance.requestRouter.region === "custom" && this.instance.config.advanced_disable_toolbar_metrics
          , r = we(we({
            token: this.instance.config.token
        }, t), {}, {
            apiURL: this.instance.requestRouter.endpointFor("ui")
        }, i ? {
            instrument: !1
        } : {});
        if (Y.localStorage.setItem(oO, JSON.stringify(we(we({}, r), {}, {
            source: void 0
        }))),
        this.getToolbarState() === Qa.LOADED)
            this._callLoadToolbar(r);
        else if (this.getToolbarState() === Qa.UNINITIALIZED) {
            var s, o;
            this.setToolbarState(Qa.LOADING),
            (s = _t.__PosthogExtensions__) === null || s === void 0 || (o = s.loadExternalDependency) === null || o === void 0 || o.call(s, this.instance, "toolbar", a => {
                if (a)
                    return aO.error("[Toolbar] Failed to load", a),
                    void this.setToolbarState(Qa.UNINITIALIZED);
                this.setToolbarState(Qa.LOADED),
                this._callLoadToolbar(r)
            }
            ),
            Za(Y, "turbolinks:load", () => {
                this.setToolbarState(Qa.UNINITIALIZED),
                this.loadToolbar(r)
            }
            )
        }
        return !0
    }
    _loadEditor(t) {
        return this.loadToolbar(t)
    }
    maybeLoadEditor() {
        var t = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : void 0
          , n = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : void 0
          , i = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : void 0;
        return this.maybeLoadToolbar(t, n, i)
    }
}
  , Hm = class {
    constructor(t) {
        Ie(this, "isPaused", !0),
        Ie(this, "queue", []),
        Ie(this, "flushTimeoutMs", 3e3),
        this.sendRequest = t
    }
    enqueue(t) {
        this.queue.push(t),
        this.flushTimeout || this.setFlushTimeout()
    }
    unload() {
        this.clearFlushTimeout();
        var t = this.queue.length > 0 ? this.formatQueue() : {}
          , n = Object.values(t)
          , i = [...n.filter(r => r.url.indexOf("/e") === 0), ...n.filter(r => r.url.indexOf("/e") !== 0)];
        i.map(r => {
            this.sendRequest(we(we({}, r), {}, {
                transport: "sendBeacon"
            }))
        }
        )
    }
    enable() {
        this.isPaused = !1,
        this.setFlushTimeout()
    }
    setFlushTimeout() {
        var t = this;
        this.isPaused || (this.flushTimeout = setTimeout( () => {
            if (this.clearFlushTimeout(),
            this.queue.length > 0) {
                var n = this.formatQueue()
                  , i = function(s) {
                    var o = n[s]
                      , a = new Date().getTime();
                    o.data && zn(o.data) && hn(o.data, c => {
                        c.offset = Math.abs(c.timestamp - a),
                        delete c.timestamp
                    }
                    ),
                    t.sendRequest(o)
                };
                for (var r in n)
                    i(r)
            }
        }
        , this.flushTimeoutMs))
    }
    clearFlushTimeout() {
        clearTimeout(this.flushTimeout),
        this.flushTimeout = void 0
    }
    formatQueue() {
        var t = {};
        return hn(this.queue, n => {
            var i, r = n, s = (r ? r.batchKey : null) || r.url;
            et(t[s]) && (t[s] = we(we({}, r), {}, {
                data: []
            })),
            (i = t[s].data) === null || i === void 0 || i.push(r.data)
        }
        ),
        this.queue = [],
        t
    }
}
  , HX = function(e) {
    var t, n, i, r, s = "";
    for (t = n = 0,
    i = (e = (e + "").replace(/\r\n/g, `
`).replace(/\r/g, `
`)).length,
    r = 0; r < i; r++) {
        var o = e.charCodeAt(r)
          , a = null;
        o < 128 ? n++ : a = o > 127 && o < 2048 ? String.fromCharCode(o >> 6 | 192, 63 & o | 128) : String.fromCharCode(o >> 12 | 224, o >> 6 & 63 | 128, 63 & o | 128),
        sl(a) || (n > t && (s += e.substring(t, n)),
        s += a,
        t = n = r + 1)
    }
    return n > t && (s += e.substring(t, e.length)),
    s
}
  , GX = !!am || !!om
  , cO = "text/plain"
  , mp = (e, t) => {
    var [n,i] = e.split("?")
      , r = we({}, t);
    i?.split("&").forEach(o => {
        var [a] = o.split("=");
        delete r[a]
    }
    );
    var s = sX(r);
    return s = s ? (i ? i + "&" : "") + s : i,
    "".concat(n, "?").concat(s)
}
  , Q1 = (e, t) => JSON.stringify(e, (n, i) => typeof i == "bigint" ? i.toString() : i, t)
  , tm = e => {
    var {data: t, compression: n} = e;
    if (t) {
        if (n === sa.GZipJS) {
            var i = lP(uP(Q1(t)), {
                mtime: 0
            })
              , r = new Blob([i],{
                type: cO
            });
            return {
                contentType: cO,
                body: r,
                estimatedSize: r.size
            }
        }
        if (n === sa.Base64) {
            var s = function(c) {
                var l, u, h, d, f, g = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=", p = 0, v = 0, b = "", S = [];
                if (!c)
                    return c;
                c = HX(c);
                do
                    l = (f = c.charCodeAt(p++) << 16 | c.charCodeAt(p++) << 8 | c.charCodeAt(p++)) >> 18 & 63,
                    u = f >> 12 & 63,
                    h = f >> 6 & 63,
                    d = 63 & f,
                    S[v++] = g.charAt(l) + g.charAt(u) + g.charAt(h) + g.charAt(d);
                while (p < c.length);
                switch (b = S.join(""),
                c.length % 3) {
                case 1:
                    b = b.slice(0, -2) + "==";
                    break;
                case 2:
                    b = b.slice(0, -1) + "="
                }
                return b
            }(Q1(t))
              , o = (c => "data=" + encodeURIComponent(typeof c == "string" ? c : Q1(c)))(s);
            return {
                contentType: "application/x-www-form-urlencoded",
                body: o,
                estimatedSize: new Blob([o]).size
            }
        }
        var a = Q1(t);
        return {
            contentType: "application/json",
            body: a,
            estimatedSize: new Blob([a]).size
        }
    }
}
  , e5 = [];
om && e5.push({
    transport: "fetch",
    method: e => {
        var t, n, {contentType: i, body: r, estimatedSize: s} = (t = tm(e)) !== null && t !== void 0 ? t : {}, o = new Headers;
        hn(e.headers, function(u, h) {
            o.append(h, u)
        }),
        i && o.append("Content-Type", i);
        var a = e.url
          , c = null;
        if (wT) {
            var l = new wT;
            c = {
                signal: l.signal,
                timeout: setTimeout( () => l.abort(), e.timeout)
            }
        }
        om(a, we({
            method: e?.method || "GET",
            headers: o,
            keepalive: e.method === "POST" && (s || 0) < 52428.8,
            body: r,
            signal: (n = c) === null || n === void 0 ? void 0 : n.signal
        }, e.fetchOptions)).then(u => u.text().then(h => {
            var d, f = {
                statusCode: u.status,
                text: h
            };
            if (u.status === 200)
                try {
                    f.json = JSON.parse(h)
                } catch (g) {
                    Je.error(g)
                }
            (d = e.callback) === null || d === void 0 || d.call(e, f)
        }
        )).catch(u => {
            var h;
            Je.error(u),
            (h = e.callback) === null || h === void 0 || h.call(e, {
                statusCode: 0,
                text: u
            })
        }
        ).finally( () => c ? clearTimeout(c.timeout) : null)
    }
}),
am && e5.push({
    transport: "XHR",
    method: e => {
        var t, n = new am;
        n.open(e.method || "GET", e.url, !0);
        var {contentType: i, body: r} = (t = tm(e)) !== null && t !== void 0 ? t : {};
        hn(e.headers, function(s, o) {
            n.setRequestHeader(o, s)
        }),
        i && n.setRequestHeader("Content-Type", i),
        e.timeout && (n.timeout = e.timeout),
        n.withCredentials = !0,
        n.onreadystatechange = () => {
            if (n.readyState === 4) {
                var s, o = {
                    statusCode: n.status,
                    text: n.responseText
                };
                if (n.status === 200)
                    try {
                        o.json = JSON.parse(n.responseText)
                    } catch {}
                (s = e.callback) === null || s === void 0 || s.call(e, o)
            }
        }
        ,
        n.send(r)
    }
}),
Cs != null && Cs.sendBeacon && e5.push({
    transport: "sendBeacon",
    method: e => {
        var t = mp(e.url, {
            beacon: "1"
        });
        try {
            var n, {contentType: i, body: r} = (n = tm(e)) !== null && n !== void 0 ? n : {}, s = typeof r == "string" ? new Blob([r],{
                type: i
            }) : r;
            Cs.sendBeacon(t, s)
        } catch {}
    }
});
var VX = ["retriesPerformedSoFar"], Gm = class {
    constructor(t) {
        Ie(this, "isPolling", !1),
        Ie(this, "pollIntervalMs", 3e3),
        Ie(this, "queue", []),
        this.instance = t,
        this.queue = [],
        this.areWeOnline = !0,
        !et(Y) && "onLine"in Y.navigator && (this.areWeOnline = Y.navigator.onLine,
        Y.addEventListener("online", () => {
            this.areWeOnline = !0,
            this.flush()
        }
        ),
        Y.addEventListener("offline", () => {
            this.areWeOnline = !1
        }
        ))
    }
    retriableRequest(t) {
        var {retriesPerformedSoFar: n} = t
          , i = PO(t, VX);
        Fr(n) && n > 0 && (i.url = mp(i.url, {
            retry_count: n
        })),
        this.instance._send_request(we(we({}, i), {}, {
            callback: r => {
                var s;
                r.statusCode !== 200 && (r.statusCode < 400 || r.statusCode >= 500) && (n ?? 0) < 10 ? this.enqueue(we({
                    retriesPerformedSoFar: n
                }, i)) : (s = i.callback) === null || s === void 0 || s.call(i, r)
            }
        }))
    }
    enqueue(t) {
        var n = t.retriesPerformedSoFar || 0;
        t.retriesPerformedSoFar = n + 1;
        var i = function(o) {
            var a = 3e3 * Math.pow(2, o)
              , c = a / 2
              , l = Math.min(18e5, a)
              , u = (Math.random() - .5) * (l - c);
            return Math.ceil(l + u)
        }(n)
          , r = Date.now() + i;
        this.queue.push({
            retryAt: r,
            requestOptions: t
        });
        var s = "Enqueued failed request for retry in ".concat(i);
        navigator.onLine || (s += " (Browser is offline)"),
        Je.warn(s),
        this.isPolling || (this.isPolling = !0,
        this.poll())
    }
    poll() {
        this.poller && clearTimeout(this.poller),
        this.poller = setTimeout( () => {
            this.areWeOnline && this.queue.length > 0 && this.flush(),
            this.poll()
        }
        , this.pollIntervalMs)
    }
    flush() {
        var t = Date.now()
          , n = []
          , i = this.queue.filter(s => s.retryAt < t || (n.push(s),
        !1));
        if (this.queue = n,
        i.length > 0)
            for (var {requestOptions: r} of i)
                this.retriableRequest(r)
    }
    unload() {
        for (var {requestOptions: t} of (this.poller && (clearTimeout(this.poller),
        this.poller = void 0),
        this.queue))
            try {
                this.instance._send_request(we(we({}, t), {}, {
                    transport: "sendBeacon"
                }))
            } catch (n) {
                Je.error(n)
            }
        this.queue = []
    }
}
, M0, lO = pr("[SessionId]"), Vm = class {
    constructor(t, n, i) {
        var r;
        if (Ie(this, "_sessionIdChangedHandlers", []),
        !t.persistence)
            throw new Error("SessionIdManager requires a PostHogPersistence instance");
        if (t.config.__preview_experimental_cookieless_mode)
            throw new Error("SessionIdManager cannot be used with __preview_experimental_cookieless_mode");
        this.config = t.config,
        this.persistence = t.persistence,
        this._windowId = void 0,
        this._sessionId = void 0,
        this._sessionStartTimestamp = null,
        this._sessionActivityTimestamp = null,
        this._sessionIdGenerator = n || tl,
        this._windowIdGenerator = i || tl;
        var s = this.config.persistence_name || this.config.token
          , o = this.config.session_idle_timeout_seconds || 1800;
        if (this._sessionTimeoutMs = 1e3 * aa(o, 60, 36e3, "session_idle_timeout_seconds", 1800),
        t.register({
            $configured_session_timeout_ms: this._sessionTimeoutMs
        }),
        this.resetIdleTimer(),
        this._window_id_storage_key = "ph_" + s + "_window_id",
        this._primary_window_exists_storage_key = "ph_" + s + "_primary_window_exists",
        this._canUseSessionStorage()) {
            var a = Qi.parse(this._window_id_storage_key)
              , c = Qi.parse(this._primary_window_exists_storage_key);
            a && !c ? this._windowId = a : Qi.remove(this._window_id_storage_key),
            Qi.set(this._primary_window_exists_storage_key, !0)
        }
        if ((r = this.config.bootstrap) !== null && r !== void 0 && r.sessionID)
            try {
                var l = (u => {
                    var h = u.replace(/-/g, "");
                    if (h.length !== 32)
                        throw new Error("Not a valid UUID");
                    if (h[12] !== "7")
                        throw new Error("Not a UUIDv7");
                    return parseInt(h.substring(0, 12), 16)
                }
                )(this.config.bootstrap.sessionID);
                this._setSessionId(this.config.bootstrap.sessionID, new Date().getTime(), l)
            } catch (u) {
                lO.error("Invalid sessionID in bootstrap", u)
            }
        this._listenToReloadWindow()
    }
    get sessionTimeoutMs() {
        return this._sessionTimeoutMs
    }
    onSessionId(t) {
        return et(this._sessionIdChangedHandlers) && (this._sessionIdChangedHandlers = []),
        this._sessionIdChangedHandlers.push(t),
        this._sessionId && t(this._sessionId, this._windowId),
        () => {
            this._sessionIdChangedHandlers = this._sessionIdChangedHandlers.filter(n => n !== t)
        }
    }
    _canUseSessionStorage() {
        return this.config.persistence !== "memory" && !this.persistence.disabled && Qi.is_supported()
    }
    _setWindowId(t) {
        t !== this._windowId && (this._windowId = t,
        this._canUseSessionStorage() && Qi.set(this._window_id_storage_key, t))
    }
    _getWindowId() {
        return this._windowId ? this._windowId : this._canUseSessionStorage() ? Qi.parse(this._window_id_storage_key) : null
    }
    _setSessionId(t, n, i) {
        t === this._sessionId && n === this._sessionActivityTimestamp && i === this._sessionStartTimestamp || (this._sessionStartTimestamp = i,
        this._sessionActivityTimestamp = n,
        this._sessionId = t,
        this.persistence.register({
            [op]: [n, t, i]
        }))
    }
    _getSessionId() {
        if (this._sessionId && this._sessionActivityTimestamp && this._sessionStartTimestamp)
            return [this._sessionActivityTimestamp, this._sessionId, this._sessionStartTimestamp];
        var t = this.persistence.props[op];
        return zn(t) && t.length === 2 && t.push(t[0]),
        t || [0, null, 0]
    }
    resetSessionId() {
        this._setSessionId(null, null, null)
    }
    _listenToReloadWindow() {
        Y?.addEventListener("beforeunload", () => {
            this._canUseSessionStorage() && Qi.remove(this._primary_window_exists_storage_key)
        }
        )
    }
    checkAndGetSessionAndWindowId() {
        var t = arguments.length > 0 && arguments[0] !== void 0 && arguments[0]
          , n = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : null;
        if (this.config.__preview_experimental_cookieless_mode)
            throw new Error("checkAndGetSessionAndWindowId should not be called in __preview_experimental_cookieless_mode");
        var i = n || new Date().getTime()
          , [r,s,o] = this._getSessionId()
          , a = this._getWindowId()
          , c = Fr(o) && o > 0 && Math.abs(i - o) > 864e5
          , l = !1
          , u = !s
          , h = !t && Math.abs(i - r) > this.sessionTimeoutMs;
        u || h || c ? (s = this._sessionIdGenerator(),
        a = this._windowIdGenerator(),
        lO.info("new session ID generated", {
            sessionId: s,
            windowId: a,
            changeReason: {
                noSessionId: u,
                activityTimeout: h,
                sessionPastMaximumLength: c
            }
        }),
        o = i,
        l = !0) : a || (a = this._windowIdGenerator(),
        l = !0);
        var d = r === 0 || !t || c ? i : r
          , f = o === 0 ? new Date().getTime() : o;
        return this._setWindowId(a),
        this._setSessionId(s, d, f),
        t || this.resetIdleTimer(),
        l && this._sessionIdChangedHandlers.forEach(g => g(s, a, l ? {
            noSessionId: u,
            activityTimeout: h,
            sessionPastMaximumLength: c
        } : void 0)),
        {
            sessionId: s,
            windowId: a,
            sessionStartTimestamp: f,
            changeReason: l ? {
                noSessionId: u,
                activityTimeout: h,
                sessionPastMaximumLength: c
            } : void 0,
            lastActivityTimestamp: r
        }
    }
    resetIdleTimer() {
        clearTimeout(this._enforceIdleTimeout),
        this._enforceIdleTimeout = setTimeout( () => {
            this.resetSessionId()
        }
        , 1.1 * this.sessionTimeoutMs)
    }
}
;
(function(e) {
    e.US = "us",
    e.EU = "eu",
    e.CUSTOM = "custom"
}
)(M0 || (M0 = {}));
var uO = "i.posthog.com"
  , Wm = class {
    constructor(t) {
        Ie(this, "_regionCache", {}),
        this.instance = t
    }
    get apiHost() {
        var t = this.instance.config.api_host.trim().replace(/\/$/, "");
        return t === "https://app.posthog.com" ? "https://us.i.posthog.com" : t
    }
    get uiHost() {
        var t, n = (t = this.instance.config.ui_host) === null || t === void 0 ? void 0 : t.replace(/\/$/, "");
        return n || (n = this.apiHost.replace(".".concat(uO), ".posthog.com")),
        n === "https://app.posthog.com" ? "https://us.posthog.com" : n
    }
    get region() {
        return this._regionCache[this.apiHost] || (/https:\/\/(app|us|us-assets)(\.i)?\.posthog\.com/i.test(this.apiHost) ? this._regionCache[this.apiHost] = M0.US : /https:\/\/(eu|eu-assets)(\.i)?\.posthog\.com/i.test(this.apiHost) ? this._regionCache[this.apiHost] = M0.EU : this._regionCache[this.apiHost] = M0.CUSTOM),
        this._regionCache[this.apiHost]
    }
    endpointFor(t) {
        var n = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : "";
        if (n && (n = n[0] === "/" ? n : "/".concat(n)),
        t === "ui")
            return this.uiHost + n;
        if (this.region === M0.CUSTOM)
            return this.apiHost + n;
        var i = uO + n;
        switch (t) {
        case "assets":
            return "https://".concat(this.region, "-assets.").concat(i);
        case "api":
            return "https://".concat(this.region, ".").concat(i)
        }
    }
}
  , hP = "posthog-js";
function dP(e) {
    var {organization: t, projectId: n, prefix: i, severityAllowList: r=["error"]} = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};
    return s => {
        var o, a, c, l, u;
        if (!(r === "*" || r.includes(s.level)) || !e.__loaded)
            return s;
        s.tags || (s.tags = {});
        var h = e.requestRouter.endpointFor("ui", "/project/".concat(e.config.token, "/person/").concat(e.get_distinct_id()));
        s.tags["PostHog Person URL"] = h,
        e.sessionRecordingStarted() && (s.tags["PostHog Recording URL"] = e.get_session_replay_url({
            withTimestamp: !0
        }));
        var d = ((o = s.exception) === null || o === void 0 ? void 0 : o.values) || [];
        d.map(g => {
            g.stacktrace && (g.stacktrace.type = "raw")
        }
        );
        var f = {
            $exception_message: ((a = d[0]) === null || a === void 0 ? void 0 : a.value) || s.message,
            $exception_type: (c = d[0]) === null || c === void 0 ? void 0 : c.type,
            $exception_personURL: h,
            $exception_level: s.level,
            $exception_list: d,
            $sentry_event_id: s.event_id,
            $sentry_exception: s.exception,
            $sentry_exception_message: ((l = d[0]) === null || l === void 0 ? void 0 : l.value) || s.message,
            $sentry_exception_type: (u = d[0]) === null || u === void 0 ? void 0 : u.type,
            $sentry_tags: s.tags
        };
        return t && n && (f.$sentry_url = (i || "https://sentry.io/organizations/") + t + "/issues/?project=" + n + "&query=" + s.event_id),
        e.exceptions.sendExceptionEvent(f),
        s
    }
}
var $m = class {
    constructor(t, n, i, r, s) {
        this.name = hP,
        this.setupOnce = function(o) {
            o(dP(t, {
                organization: n,
                projectId: i,
                prefix: r,
                severityAllowList: s
            }))
        }
    }
}
, hO, vp, vo, nm = pr("[SegmentIntegration]");
function WX(e, t) {
    var n = e.config.segment;
    if (!n)
        return t();
    (function(i, r) {
        var s = i.config.segment;
        if (!s)
            return r();
        var o = c => {
            var l = () => c.anonymousId() || tl();
            i.config.get_device_id = l,
            c.id() && (i.register({
                distinct_id: c.id(),
                $device_id: l()
            }),
            i.persistence.set_property(Ka, "identified")),
            r()
        }
          , a = s.user();
        "then"in a && Es(a.then) ? a.then(c => o(c)) : o(a)
    }
    )(e, () => {
        n.register((i => {
            Promise && Promise.resolve || nm.warn("This browser does not have Promise support, and can not use the segment integration");
            var r = (s, o) => {
                var a;
                if (!o)
                    return s;
                s.event.userId || s.event.anonymousId === i.get_distinct_id() || (nm.info("No userId set, resetting PostHog"),
                i.reset()),
                s.event.userId && s.event.userId !== i.get_distinct_id() && (nm.info("UserId set, identifying with PostHog"),
                i.identify(s.event.userId));
                var c = i._calculate_event_properties(o, (a = s.event.properties) !== null && a !== void 0 ? a : {}, new Date);
                return s.event.properties = Object.assign({}, c, s.event.properties),
                s
            }
            ;
            return {
                name: "PostHog JS",
                type: "enrichment",
                version: "1.0.0",
                isLoaded: () => !0,
                load: () => Promise.resolve(),
                track: s => r(s, s.event.event),
                page: s => r(s, "$pageview"),
                identify: s => r(s, "$identify"),
                screen: s => r(s, "$screen")
            }
        }
        )(e)).then( () => {
            t()
        }
        )
    }
    )
}
var jm = class {
    constructor(t) {
        this._instance = t
    }
    doPageView(t, n) {
        var i, r = this._previousPageViewProperties(t, n);
        return this._currentPageview = {
            pathname: (i = Y?.location.pathname) !== null && i !== void 0 ? i : "",
            pageViewId: n,
            timestamp: t
        },
        this._instance.scrollManager.resetContext(),
        r
    }
    doPageLeave(t) {
        var n;
        return this._previousPageViewProperties(t, (n = this._currentPageview) === null || n === void 0 ? void 0 : n.pageViewId)
    }
    doEvent() {
        var t;
        return {
            $pageview_id: (t = this._currentPageview) === null || t === void 0 ? void 0 : t.pageViewId
        }
    }
    _previousPageViewProperties(t, n) {
        var i = this._currentPageview;
        if (!i)
            return {
                $pageview_id: n
            };
        var r = {
            $pageview_id: n,
            $prev_pageview_id: i.pageViewId
        }
          , s = this._instance.scrollManager.getContext();
        if (s && !this._instance.config.disable_scroll_properties) {
            var {maxScrollHeight: o, lastScrollY: a, maxScrollY: c, maxContentHeight: l, lastContentY: u, maxContentY: h} = s;
            if (!(et(o) || et(a) || et(c) || et(l) || et(u) || et(h))) {
                o = Math.ceil(o),
                a = Math.ceil(a),
                c = Math.ceil(c),
                l = Math.ceil(l),
                u = Math.ceil(u),
                h = Math.ceil(h);
                var d = o <= 1 ? 1 : aa(a / o, 0, 1)
                  , f = o <= 1 ? 1 : aa(c / o, 0, 1)
                  , g = l <= 1 ? 1 : aa(u / l, 0, 1)
                  , p = l <= 1 ? 1 : aa(h / l, 0, 1);
                r = fr(r, {
                    $prev_pageview_last_scroll: a,
                    $prev_pageview_last_scroll_percentage: d,
                    $prev_pageview_max_scroll: c,
                    $prev_pageview_max_scroll_percentage: f,
                    $prev_pageview_last_content: u,
                    $prev_pageview_last_content_percentage: g,
                    $prev_pageview_max_content: h,
                    $prev_pageview_max_content_percentage: p
                })
            }
        }
        return i.pathname && (r.$prev_pageview_pathname = i.pathname),
        i.timestamp && (r.$prev_pageview_duration = (t.getTime() - i.timestamp.getTime()) / 1e3),
        r
    }
}
;
(function(e) {
    e.Popover = "popover",
    e.API = "api",
    e.Widget = "widget"
}
)(hO || (hO = {})),
function(e) {
    e.Open = "open",
    e.MultipleChoice = "multiple_choice",
    e.SingleChoice = "single_choice",
    e.Rating = "rating",
    e.Link = "link"
}(vp || (vp = {})),
function(e) {
    e.NextQuestion = "next_question",
    e.End = "end",
    e.ResponseBased = "response_based",
    e.SpecificQuestion = "specific_question"
}(vo || (vo = {}));
var _p = class {
    constructor() {
        Ie(this, "events", {}),
        this.events = {}
    }
    on(t, n) {
        return this.events[t] || (this.events[t] = []),
        this.events[t].push(n),
        () => {
            this.events[t] = this.events[t].filter(i => i !== n)
        }
    }
    emit(t, n) {
        for (var i of this.events[t] || [])
            i(n);
        for (var r of this.events["*"] || [])
            r(t, n)
    }
}
  , qm = class e {
    constructor(t) {
        Ie(this, "_debugEventEmitter", new _p),
        Ie(this, "checkStep", (n, i) => this.checkStepEvent(n, i) && this.checkStepUrl(n, i) && this.checkStepElement(n, i)),
        Ie(this, "checkStepEvent", (n, i) => i == null || !i.event || n?.event === i?.event),
        this.instance = t,
        this.actionEvents = new Set,
        this.actionRegistry = new Set
    }
    init() {
        var t;
        if (!et((t = this.instance) === null || t === void 0 ? void 0 : t._addCaptureHook)) {
            var n;
            (n = this.instance) === null || n === void 0 || n._addCaptureHook( (i, r) => {
                this.on(i, r)
            }
            )
        }
    }
    register(t) {
        var n, i;
        if (!et((n = this.instance) === null || n === void 0 ? void 0 : n._addCaptureHook) && (t.forEach(o => {
            var a, c;
            (a = this.actionRegistry) === null || a === void 0 || a.add(o),
            (c = o.steps) === null || c === void 0 || c.forEach(l => {
                var u;
                (u = this.actionEvents) === null || u === void 0 || u.add(l?.event || "")
            }
            )
        }
        ),
        (i = this.instance) !== null && i !== void 0 && i.autocapture)) {
            var r, s = new Set;
            t.forEach(o => {
                var a;
                (a = o.steps) === null || a === void 0 || a.forEach(c => {
                    c != null && c.selector && s.add(c?.selector)
                }
                )
            }
            ),
            (r = this.instance) === null || r === void 0 || r.autocapture.setElementSelectors(s)
        }
    }
    on(t, n) {
        var i;
        n != null && t.length != 0 && (this.actionEvents.has(t) || this.actionEvents.has(n?.event)) && this.actionRegistry && ((i = this.actionRegistry) === null || i === void 0 ? void 0 : i.size) > 0 && this.actionRegistry.forEach(r => {
            this.checkAction(n, r) && this._debugEventEmitter.emit("actionCaptured", r.name)
        }
        )
    }
    _addActionHook(t) {
        this.onAction("actionCaptured", n => t(n))
    }
    checkAction(t, n) {
        if (n?.steps == null)
            return !1;
        for (var i of n.steps)
            if (this.checkStep(t, i))
                return !0;
        return !1
    }
    onAction(t, n) {
        return this._debugEventEmitter.on(t, n)
    }
    checkStepUrl(t, n) {
        if (n != null && n.url) {
            var i, r = t == null || (i = t.properties) === null || i === void 0 ? void 0 : i.$current_url;
            if (!r || typeof r != "string" || !e.matchString(r, n?.url, n?.url_matching || "contains"))
                return !1
        }
        return !0
    }
    static matchString(t, n, i) {
        switch (i) {
        case "regex":
            return !!Y && ph(t, n);
        case "exact":
            return n === t;
        case "contains":
            var r = e.escapeStringRegexp(n).replace(/_/g, ".").replace(/%/g, ".*");
            return ph(t, r);
        default:
            return !1
        }
    }
    static escapeStringRegexp(t) {
        return t.replace(/[|\\{}()[\]^$+*?.]/g, "\\$&").replace(/-/g, "\\x2d")
    }
    checkStepElement(t, n) {
        if ((n != null && n.href || n != null && n.tag_name || n != null && n.text) && !this.getElementsList(t).some(s => !(n != null && n.href && !e.matchString(s.href || "", n?.href, n?.href_matching || "exact")) && (n == null || !n.tag_name || s.tag_name === n?.tag_name) && !(n != null && n.text && !e.matchString(s.text || "", n?.text, n?.text_matching || "exact") && !e.matchString(s.$el_text || "", n?.text, n?.text_matching || "exact"))))
            return !1;
        if (n != null && n.selector) {
            var i, r = t == null || (i = t.properties) === null || i === void 0 ? void 0 : i.$element_selectors;
            if (!r || !r.includes(n?.selector))
                return !1
        }
        return !0
    }
    getElementsList(t) {
        return t?.properties.$elements == null ? [] : t?.properties.$elements
    }
}
  , o5 = class e {
    constructor(t) {
        this.instance = t,
        this.eventToSurveys = new Map,
        this.actionToSurveys = new Map
    }
    register(t) {
        var n;
        et((n = this.instance) === null || n === void 0 ? void 0 : n._addCaptureHook) || (this.setupEventBasedSurveys(t),
        this.setupActionBasedSurveys(t))
    }
    setupActionBasedSurveys(t) {
        var n = t.filter(i => {
            var r, s, o, a;
            return ((r = i.conditions) === null || r === void 0 ? void 0 : r.actions) && ((s = i.conditions) === null || s === void 0 || (o = s.actions) === null || o === void 0 || (a = o.values) === null || a === void 0 ? void 0 : a.length) > 0
        }
        );
        n.length !== 0 && (this.actionMatcher == null && (this.actionMatcher = new qm(this.instance),
        this.actionMatcher.init(),
        this.actionMatcher._addActionHook(i => {
            this.onAction(i)
        }
        )),
        n.forEach(i => {
            var r, s, o, a, c, l, u, h, d, f;
            i.conditions && (r = i.conditions) !== null && r !== void 0 && r.actions && (s = i.conditions) !== null && s !== void 0 && (o = s.actions) !== null && o !== void 0 && o.values && ((a = i.conditions) === null || a === void 0 || (c = a.actions) === null || c === void 0 || (l = c.values) === null || l === void 0 ? void 0 : l.length) > 0 && ((u = this.actionMatcher) === null || u === void 0 || u.register(i.conditions.actions.values),
            (h = i.conditions) === null || h === void 0 || (d = h.actions) === null || d === void 0 || (f = d.values) === null || f === void 0 || f.forEach(g => {
                if (g && g.name) {
                    var p = this.actionToSurveys.get(g.name);
                    p && p.push(i.id),
                    this.actionToSurveys.set(g.name, p || [i.id])
                }
            }
            ))
        }
        ))
    }
    setupEventBasedSurveys(t) {
        var n;
        t.filter(i => {
            var r, s, o, a;
            return ((r = i.conditions) === null || r === void 0 ? void 0 : r.events) && ((s = i.conditions) === null || s === void 0 || (o = s.events) === null || o === void 0 || (a = o.values) === null || a === void 0 ? void 0 : a.length) > 0
        }
        ).length !== 0 && ((n = this.instance) === null || n === void 0 || n._addCaptureHook( (i, r) => {
            this.onEvent(i, r)
        }
        ),
        t.forEach(i => {
            var r, s, o;
            (r = i.conditions) === null || r === void 0 || (s = r.events) === null || s === void 0 || (o = s.values) === null || o === void 0 || o.forEach(a => {
                if (a && a.name) {
                    var c = this.eventToSurveys.get(a.name);
                    c && c.push(i.id),
                    this.eventToSurveys.set(a.name, c || [i.id])
                }
            }
            )
        }
        ))
    }
    onEvent(t, n) {
        var i, r, s = ((i = this.instance) === null || i === void 0 || (r = i.persistence) === null || r === void 0 ? void 0 : r.props[j2]) || [];
        if (e.SURVEY_SHOWN_EVENT_NAME == t && n && s.length > 0) {
            var o, a = n == null || (o = n.properties) === null || o === void 0 ? void 0 : o.$survey_id;
            if (a) {
                var c = s.indexOf(a);
                c >= 0 && (s.splice(c, 1),
                this._updateActivatedSurveys(s))
            }
        } else
            this.eventToSurveys.has(t) && this._updateActivatedSurveys(s.concat(this.eventToSurveys.get(t) || []))
    }
    onAction(t) {
        var n, i, r = ((n = this.instance) === null || n === void 0 || (i = n.persistence) === null || i === void 0 ? void 0 : i.props[j2]) || [];
        this.actionToSurveys.has(t) && this._updateActivatedSurveys(r.concat(this.actionToSurveys.get(t) || []))
    }
    _updateActivatedSurveys(t) {
        var n, i;
        (n = this.instance) === null || n === void 0 || (i = n.persistence) === null || i === void 0 || i.register({
            [j2]: [...new Set(t)]
        })
    }
    getSurveys() {
        var t, n, i = (t = this.instance) === null || t === void 0 || (n = t.persistence) === null || n === void 0 ? void 0 : n.props[j2];
        return i || []
    }
    getEventToSurveys() {
        return this.eventToSurveys
    }
    _getActionMatcher() {
        return this.actionMatcher
    }
}
;
Ie(o5, "SURVEY_SHOWN_EVENT_NAME", "survey shown");
var fP, Gn, pP, O0, dO, gP, zm, mP, Xm = {}, vP = [], $X = /acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i, y8 = Array.isArray;
function nl(e, t) {
    for (var n in t)
        e[n] = t[n];
    return e
}
function _P(e) {
    var t = e.parentNode;
    t && t.removeChild(e)
}
function im(e, t, n, i, r) {
    var s = {
        type: e,
        props: t,
        key: n,
        ref: i,
        __k: null,
        __: null,
        __b: 0,
        __e: null,
        __d: void 0,
        __c: null,
        constructor: void 0,
        __v: r ?? ++pP,
        __i: -1,
        __u: 0
    };
    return r == null && Gn.vnode != null && Gn.vnode(s),
    s
}
function b8(e) {
    return e.children
}
function ip(e, t) {
    this.props = e,
    this.context = t
}
function _h(e, t) {
    if (t == null)
        return e.__ ? _h(e.__, e.__i + 1) : null;
    for (var n; t < e.__k.length; t++)
        if ((n = e.__k[t]) != null && n.__e != null)
            return n.__e;
    return typeof e.type == "function" ? _h(e) : null
}
function yP(e) {
    var t, n;
    if ((e = e.__) != null && e.__c != null) {
        for (e.__e = e.__c.base = null,
        t = 0; t < e.__k.length; t++)
            if ((n = e.__k[t]) != null && n.__e != null) {
                e.__e = e.__c.base = n.__e;
                break
            }
        return yP(e)
    }
}
function Km(e) {
    (!e.__d && (e.__d = !0) && O0.push(e) && !yp.__r++ || dO !== Gn.debounceRendering) && ((dO = Gn.debounceRendering) || gP)(yp)
}
function yp() {
    var e, t, n, i, r, s, o, a, c;
    for (O0.sort(zm); e = O0.shift(); )
        e.__d && (t = O0.length,
        i = void 0,
        s = (r = (n = e).__v).__e,
        a = [],
        c = [],
        (o = n.__P) && ((i = nl({}, r)).__v = r.__v + 1,
        Gn.vnode && Gn.vnode(i),
        xP(o, i, r, n.__n, o.ownerSVGElement !== void 0, 32 & r.__u ? [s] : null, a, s ?? _h(r), !!(32 & r.__u), c),
        i.__.__k[i.__i] = i,
        zX(a, i, c),
        i.__e != s && yP(i)),
        O0.length > t && O0.sort(zm));
    yp.__r = 0
}
function bP(e, t, n, i, r, s, o, a, c, l, u) {
    var h, d, f, g, p, v = i && i.__k || vP, b = t.length;
    for (n.__d = c,
    jX(n, t, v),
    c = n.__d,
    h = 0; h < b; h++)
        (f = n.__k[h]) != null && typeof f != "boolean" && typeof f != "function" && (d = f.__i === -1 ? Xm : v[f.__i] || Xm,
        f.__i = h,
        xP(e, f, d, r, s, o, a, c, l, u),
        g = f.__e,
        f.ref && d.ref != f.ref && (d.ref && S8(d.ref, null, f),
        u.push(f.ref, f.__c || g, f)),
        p == null && g != null && (p = g),
        65536 & f.__u || d.__k === f.__k ? c = SP(f, c, e) : typeof f.type == "function" && f.__d !== void 0 ? c = f.__d : g && (c = g.nextSibling),
        f.__d = void 0,
        f.__u &= -196609);
    n.__d = c,
    n.__e = p
}
function jX(e, t, n) {
    var i, r, s, o, a, c = t.length, l = n.length, u = l, h = 0;
    for (e.__k = [],
    i = 0; i < c; i++)
        (r = e.__k[i] = (r = t[i]) == null || typeof r == "boolean" || typeof r == "function" ? null : typeof r == "string" || typeof r == "number" || typeof r == "bigint" || r.constructor == String ? im(null, r, null, null, r) : y8(r) ? im(b8, {
            children: r
        }, null, null, null) : r.constructor === void 0 && r.__b > 0 ? im(r.type, r.props, r.key, r.ref ? r.ref : null, r.__v) : r) != null ? (r.__ = e,
        r.__b = e.__b + 1,
        a = qX(r, n, o = i + h, u),
        r.__i = a,
        s = null,
        a !== -1 && (u--,
        (s = n[a]) && (s.__u |= 131072)),
        s == null || s.__v === null ? (a == -1 && h--,
        typeof r.type != "function" && (r.__u |= 65536)) : a !== o && (a === o + 1 ? h++ : a > o ? u > c - o ? h += a - o : h-- : h = a < o && a == o - 1 ? a - o : 0,
        a !== i + h && (r.__u |= 65536))) : (s = n[i]) && s.key == null && s.__e && (s.__e == e.__d && (e.__d = _h(s)),
        Ym(s, s, !1),
        n[i] = null,
        u--);
    if (u)
        for (i = 0; i < l; i++)
            (s = n[i]) != null && !(131072 & s.__u) && (s.__e == e.__d && (e.__d = _h(s)),
            Ym(s, s))
}
function SP(e, t, n) {
    var i, r;
    if (typeof e.type == "function") {
        for (i = e.__k,
        r = 0; i && r < i.length; r++)
            i[r] && (i[r].__ = e,
            t = SP(i[r], t, n));
        return t
    }
    return e.__e != t && (n.insertBefore(e.__e, t || null),
    t = e.__e),
    t && t.nextSibling
}
function qX(e, t, n, i) {
    var r = e.key
      , s = e.type
      , o = n - 1
      , a = n + 1
      , c = t[n];
    if (c === null || c && r == c.key && s === c.type)
        return n;
    if (i > (c != null && !(131072 & c.__u) ? 1 : 0))
        for (; o >= 0 || a < t.length; ) {
            if (o >= 0) {
                if ((c = t[o]) && !(131072 & c.__u) && r == c.key && s === c.type)
                    return o;
                o--
            }
            if (a < t.length) {
                if ((c = t[a]) && !(131072 & c.__u) && r == c.key && s === c.type)
                    return a;
                a++
            }
        }
    return -1
}
function fO(e, t, n) {
    t[0] === "-" ? e.setProperty(t, n ?? "") : e[t] = n == null ? "" : typeof n != "number" || $X.test(t) ? n : n + "px"
}
function J2(e, t, n, i, r) {
    var s;
    e: if (t === "style")
        if (typeof n == "string")
            e.style.cssText = n;
        else {
            if (typeof i == "string" && (e.style.cssText = i = ""),
            i)
                for (t in i)
                    n && t in n || fO(e.style, t, "");
            if (n)
                for (t in n)
                    i && n[t] === i[t] || fO(e.style, t, n[t])
        }
    else if (t[0] === "o" && t[1] === "n")
        s = t !== (t = t.replace(/(PointerCapture)$|Capture$/, "$1")),
        t = t.toLowerCase()in e ? t.toLowerCase().slice(2) : t.slice(2),
        e.l || (e.l = {}),
        e.l[t + s] = n,
        n ? i ? n.u = i.u : (n.u = Date.now(),
        e.addEventListener(t, s ? gO : pO, s)) : e.removeEventListener(t, s ? gO : pO, s);
    else {
        if (r)
            t = t.replace(/xlink(H|:h)/, "h").replace(/sName$/, "s");
        else if (t !== "width" && t !== "height" && t !== "href" && t !== "list" && t !== "form" && t !== "tabIndex" && t !== "download" && t !== "rowSpan" && t !== "colSpan" && t !== "role" && t in e)
            try {
                e[t] = n ?? "";
                break e
            } catch {}
        typeof n == "function" || (n == null || n === !1 && t[4] !== "-" ? e.removeAttribute(t) : e.setAttribute(t, n))
    }
}
function pO(e) {
    var t = this.l[e.type + !1];
    if (e.t) {
        if (e.t <= t.u)
            return
    } else
        e.t = Date.now();
    return t(Gn.event ? Gn.event(e) : e)
}
function gO(e) {
    return this.l[e.type + !0](Gn.event ? Gn.event(e) : e)
}
function xP(e, t, n, i, r, s, o, a, c, l) {
    var u, h, d, f, g, p, v, b, S, w, k, B, N, E, F, O = t.type;
    if (t.constructor !== void 0)
        return null;
    128 & n.__u && (c = !!(32 & n.__u),
    s = [a = t.__e = n.__e]),
    (u = Gn.__b) && u(t);
    e: if (typeof O == "function")
        try {
            if (b = t.props,
            S = (u = O.contextType) && i[u.__c],
            w = u ? S ? S.props.value : u.__ : i,
            n.__c ? v = (h = t.__c = n.__c).__ = h.__E : ("prototype"in O && O.prototype.render ? t.__c = h = new O(b,w) : (t.__c = h = new ip(b,w),
            h.constructor = O,
            h.render = KX),
            S && S.sub(h),
            h.props = b,
            h.state || (h.state = {}),
            h.context = w,
            h.__n = i,
            d = h.__d = !0,
            h.__h = [],
            h._sb = []),
            h.__s == null && (h.__s = h.state),
            O.getDerivedStateFromProps != null && (h.__s == h.state && (h.__s = nl({}, h.__s)),
            nl(h.__s, O.getDerivedStateFromProps(b, h.__s))),
            f = h.props,
            g = h.state,
            h.__v = t,
            d)
                O.getDerivedStateFromProps == null && h.componentWillMount != null && h.componentWillMount(),
                h.componentDidMount != null && h.__h.push(h.componentDidMount);
            else {
                if (O.getDerivedStateFromProps == null && b !== f && h.componentWillReceiveProps != null && h.componentWillReceiveProps(b, w),
                !h.__e && (h.shouldComponentUpdate != null && h.shouldComponentUpdate(b, h.__s, w) === !1 || t.__v === n.__v)) {
                    for (t.__v !== n.__v && (h.props = b,
                    h.state = h.__s,
                    h.__d = !1),
                    t.__e = n.__e,
                    t.__k = n.__k,
                    t.__k.forEach(function(V) {
                        V && (V.__ = t)
                    }),
                    k = 0; k < h._sb.length; k++)
                        h.__h.push(h._sb[k]);
                    h._sb = [],
                    h.__h.length && o.push(h);
                    break e
                }
                h.componentWillUpdate != null && h.componentWillUpdate(b, h.__s, w),
                h.componentDidUpdate != null && h.__h.push(function() {
                    h.componentDidUpdate(f, g, p)
                })
            }
            if (h.context = w,
            h.props = b,
            h.__P = e,
            h.__e = !1,
            B = Gn.__r,
            N = 0,
            "prototype"in O && O.prototype.render) {
                for (h.state = h.__s,
                h.__d = !1,
                B && B(t),
                u = h.render(h.props, h.state, h.context),
                E = 0; E < h._sb.length; E++)
                    h.__h.push(h._sb[E]);
                h._sb = []
            } else
                do
                    h.__d = !1,
                    B && B(t),
                    u = h.render(h.props, h.state, h.context),
                    h.state = h.__s;
                while (h.__d && ++N < 25);
            h.state = h.__s,
            h.getChildContext != null && (i = nl(nl({}, i), h.getChildContext())),
            d || h.getSnapshotBeforeUpdate == null || (p = h.getSnapshotBeforeUpdate(f, g)),
            bP(e, y8(F = u != null && u.type === b8 && u.key == null ? u.props.children : u) ? F : [F], t, n, i, r, s, o, a, c, l),
            h.base = t.__e,
            t.__u &= -161,
            h.__h.length && o.push(h),
            v && (h.__E = h.__ = null)
        } catch (V) {
            t.__v = null,
            c || s != null ? (t.__e = a,
            t.__u |= c ? 160 : 32,
            s[s.indexOf(a)] = null) : (t.__e = n.__e,
            t.__k = n.__k),
            Gn.__e(V, t, n)
        }
    else
        s == null && t.__v === n.__v ? (t.__k = n.__k,
        t.__e = n.__e) : t.__e = XX(n.__e, t, n, i, r, s, o, c, l);
    (u = Gn.diffed) && u(t)
}
function zX(e, t, n) {
    t.__d = void 0;
    for (var i = 0; i < n.length; i++)
        S8(n[i], n[++i], n[++i]);
    Gn.__c && Gn.__c(t, e),
    e.some(function(r) {
        try {
            e = r.__h,
            r.__h = [],
            e.some(function(s) {
                s.call(r)
            })
        } catch (s) {
            Gn.__e(s, r.__v)
        }
    })
}
function XX(e, t, n, i, r, s, o, a, c) {
    var l, u, h, d, f, g, p, v = n.props, b = t.props, S = t.type;
    if (S === "svg" && (r = !0),
    s != null) {
        for (l = 0; l < s.length; l++)
            if ((f = s[l]) && "setAttribute"in f == !!S && (S ? f.localName === S : f.nodeType === 3)) {
                e = f,
                s[l] = null;
                break
            }
    }
    if (e == null) {
        if (S === null)
            return document.createTextNode(b);
        e = r ? document.createElementNS("http://www.w3.org/2000/svg", S) : document.createElement(S, b.is && b),
        s = null,
        a = !1
    }
    if (S === null)
        v === b || a && e.data === b || (e.data = b);
    else {
        if (s = s && fP.call(e.childNodes),
        v = n.props || Xm,
        !a && s != null)
            for (v = {},
            l = 0; l < e.attributes.length; l++)
                v[(f = e.attributes[l]).name] = f.value;
        for (l in v)
            f = v[l],
            l == "children" || (l == "dangerouslySetInnerHTML" ? h = f : l === "key" || l in b || J2(e, l, null, f, r));
        for (l in b)
            f = b[l],
            l == "children" ? d = f : l == "dangerouslySetInnerHTML" ? u = f : l == "value" ? g = f : l == "checked" ? p = f : l === "key" || a && typeof f != "function" || v[l] === f || J2(e, l, f, v[l], r);
        if (u)
            a || h && (u.__html === h.__html || u.__html === e.innerHTML) || (e.innerHTML = u.__html),
            t.__k = [];
        else if (h && (e.innerHTML = ""),
        bP(e, y8(d) ? d : [d], t, n, i, r && S !== "foreignObject", s, o, s ? s[0] : n.__k && _h(n, 0), a, c),
        s != null)
            for (l = s.length; l--; )
                s[l] != null && _P(s[l]);
        a || (l = "value",
        g !== void 0 && (g !== e[l] || S === "progress" && !g || S === "option" && g !== v[l]) && J2(e, l, g, v[l], !1),
        l = "checked",
        p !== void 0 && p !== e[l] && J2(e, l, p, v[l], !1))
    }
    return e
}
function S8(e, t, n) {
    try {
        typeof e == "function" ? e(t) : e.current = t
    } catch (i) {
        Gn.__e(i, n)
    }
}
function Ym(e, t, n) {
    var i, r;
    if (Gn.unmount && Gn.unmount(e),
    (i = e.ref) && (i.current && i.current !== e.__e || S8(i, null, t)),
    (i = e.__c) != null) {
        if (i.componentWillUnmount)
            try {
                i.componentWillUnmount()
            } catch (s) {
                Gn.__e(s, t)
            }
        i.base = i.__P = null,
        e.__c = void 0
    }
    if (i = e.__k)
        for (r = 0; r < i.length; r++)
            i[r] && Ym(i[r], t, n || typeof e.type != "function");
    n || e.__e == null || _P(e.__e),
    e.__ = e.__e = e.__d = void 0
}
function KX(e, t, n) {
    return this.constructor(e, n)
}
fP = vP.slice,
Gn = {
    __e: function(e, t, n, i) {
        for (var r, s, o; t = t.__; )
            if ((r = t.__c) && !r.__)
                try {
                    if ((s = r.constructor) && s.getDerivedStateFromError != null && (r.setState(s.getDerivedStateFromError(e)),
                    o = r.__d),
                    r.componentDidCatch != null && (r.componentDidCatch(e, i || {}),
                    o = r.__d),
                    o)
                        return r.__E = r
                } catch (a) {
                    e = a
                }
        throw e
    }
},
pP = 0,
ip.prototype.setState = function(e, t) {
    var n;
    n = this.__s != null && this.__s !== this.state ? this.__s : this.__s = nl({}, this.state),
    typeof e == "function" && (e = e(nl({}, n), this.props)),
    e && nl(n, e),
    e != null && this.__v && (t && this._sb.push(t),
    Km(this))
}
,
ip.prototype.forceUpdate = function(e) {
    this.__v && (this.__e = !0,
    e && this.__h.push(e),
    Km(this))
}
,
ip.prototype.render = b8,
O0 = [],
gP = typeof Promise == "function" ? Promise.prototype.then.bind(Promise.resolve()) : setTimeout,
zm = function(e, t) {
    return e.__v.__b - t.__v.__b
}
,
yp.__r = 0,
mP = 0;
(function(e, t) {
    var n = {
        __c: t = "__cC" + mP++,
        __: e,
        Consumer: function(i, r) {
            return i.children(r)
        },
        Provider: function(i) {
            var r, s;
            return this.getChildContext || (r = [],
            (s = {})[t] = this,
            this.getChildContext = function() {
                return s
            }
            ,
            this.shouldComponentUpdate = function(o) {
                this.props.value !== o.value && r.some(function(a) {
                    a.__e = !0,
                    Km(a)
                })
            }
            ,
            this.sub = function(o) {
                r.push(o);
                var a = o.componentWillUnmount;
                o.componentWillUnmount = function() {
                    r.splice(r.indexOf(o), 1),
                    a && a.call(o)
                }
            }
            ),
            i.children
        }
    };
    n.Provider.__ = n.Consumer.contextType = n
}
)({
    isPreviewMode: !1,
    previewPageIndex: 0,
    handleCloseSurveyPopup: () => {}
    ,
    isPopup: !0,
    onPreviewSubmit: () => {}
});
var $1 = pr("[Surveys]")
  , YX = {
    icontains: e => !!Y && Y.location.href.toLowerCase().indexOf(e.toLowerCase()) > -1,
    not_icontains: e => !!Y && Y.location.href.toLowerCase().indexOf(e.toLowerCase()) === -1,
    regex: e => !!Y && ph(Y.location.href, e),
    not_regex: e => !!Y && !ph(Y.location.href, e),
    exact: e => Y?.location.href === e,
    is_not: e => Y?.location.href !== e
}
  , Qm = class {
    constructor(t) {
        this.instance = t,
        this._surveyEventReceiver = null
    }
    onRemoteConfig(t) {
        this._decideServerResponse = !!t.surveys,
        this.loadIfEnabled()
    }
    reset() {
        localStorage.removeItem("lastSeenSurveyDate");
        var t = ( () => {
            for (var n = [], i = 0; i < localStorage.length; i++) {
                var r = localStorage.key(i);
                r != null && r.startsWith("seenSurvey_") && n.push(r)
            }
            return n
        }
        )();
        t.forEach(n => localStorage.removeItem(n))
    }
    loadIfEnabled() {
        var t, n, i, r = _t == null || (t = _t.__PosthogExtensions__) === null || t === void 0 ? void 0 : t.generateSurveys;
        this.instance.config.disable_surveys || !this._decideServerResponse || r || (this._surveyEventReceiver == null && (this._surveyEventReceiver = new o5(this.instance)),
        (n = _t.__PosthogExtensions__) === null || n === void 0 || (i = n.loadExternalDependency) === null || i === void 0 || i.call(n, this.instance, "surveys", s => {
            var o, a;
            if (s)
                return $1.error("Could not load surveys script", s);
            this._surveyManager = (o = _t.__PosthogExtensions__) === null || o === void 0 || (a = o.generateSurveys) === null || a === void 0 ? void 0 : a.call(o, this.instance)
        }
        ))
    }
    getSurveys(t) {
        var n = arguments.length > 1 && arguments[1] !== void 0 && arguments[1];
        if (this.instance.config.disable_surveys)
            return t([]);
        this._surveyEventReceiver == null && (this._surveyEventReceiver = new o5(this.instance));
        var i = this.instance.get_property(dm);
        if (i && !n)
            return t(i);
        this.instance._send_request({
            url: this.instance.requestRouter.endpointFor("api", "/api/surveys/?token=".concat(this.instance.config.token)),
            method: "GET",
            callback: r => {
                var s;
                if (r.statusCode !== 200 || !r.json)
                    return t([]);
                var o, a = r.json.surveys || [], c = a.filter(l => {
                    var u, h, d, f, g, p, v, b, S, w, k, B;
                    return ((u = l.conditions) === null || u === void 0 ? void 0 : u.events) && ((h = l.conditions) === null || h === void 0 || (d = h.events) === null || d === void 0 ? void 0 : d.values) && ((f = l.conditions) === null || f === void 0 || (g = f.events) === null || g === void 0 || (p = g.values) === null || p === void 0 ? void 0 : p.length) > 0 || ((v = l.conditions) === null || v === void 0 ? void 0 : v.actions) && ((b = l.conditions) === null || b === void 0 || (S = b.actions) === null || S === void 0 ? void 0 : S.values) && ((w = l.conditions) === null || w === void 0 || (k = w.actions) === null || k === void 0 || (B = k.values) === null || B === void 0 ? void 0 : B.length) > 0
                }
                );
                return c.length > 0 && ((o = this._surveyEventReceiver) === null || o === void 0 || o.register(c)),
                (s = this.instance.persistence) === null || s === void 0 || s.register({
                    [dm]: a
                }),
                t(a)
            }
        })
    }
    getActiveMatchingSurveys(t) {
        var n = arguments.length > 1 && arguments[1] !== void 0 && arguments[1];
        this.getSurveys(i => {
            var r, s = i.filter(c => !(!c.start_date || c.end_date)).filter(c => {
                var l, u, h, d;
                if (!c.conditions)
                    return !0;
                var f = (l = c.conditions) === null || l === void 0 || !l.url || YX[(u = (h = c.conditions) === null || h === void 0 ? void 0 : h.urlMatchType) !== null && u !== void 0 ? u : "icontains"](c.conditions.url)
                  , g = (d = c.conditions) === null || d === void 0 || !d.selector || qe?.querySelector(c.conditions.selector);
                return f && g
            }
            ), o = (r = this._surveyEventReceiver) === null || r === void 0 ? void 0 : r.getSurveys(), a = s.filter(c => {
                var l, u, h, d, f, g, p, v, b, S, w;
                if (!(c.linked_flag_key || c.targeting_flag_key || c.internal_targeting_flag_key || (l = c.feature_flag_keys) !== null && l !== void 0 && l.length))
                    return !0;
                var k = !c.linked_flag_key || this.instance.featureFlags.isFeatureEnabled(c.linked_flag_key)
                  , B = !c.targeting_flag_key || this.instance.featureFlags.isFeatureEnabled(c.targeting_flag_key)
                  , N = ((u = c.conditions) === null || u === void 0 ? void 0 : u.events) && ((h = c.conditions) === null || h === void 0 || (d = h.events) === null || d === void 0 ? void 0 : d.values) && ((f = c.conditions) === null || f === void 0 || (g = f.events) === null || g === void 0 ? void 0 : g.values.length) > 0
                  , E = ((p = c.conditions) === null || p === void 0 ? void 0 : p.actions) && ((v = c.conditions) === null || v === void 0 || (b = v.actions) === null || b === void 0 ? void 0 : b.values) && ((S = c.conditions) === null || S === void 0 || (w = S.actions) === null || w === void 0 ? void 0 : w.values.length) > 0
                  , F = !N && !E || o?.includes(c.id)
                  , O = this._canActivateRepeatedly(c)
                  , V = !(c.internal_targeting_flag_key && !O) || this.instance.featureFlags.isFeatureEnabled(c.internal_targeting_flag_key)
                  , X = this.checkFlags(c);
                return k && B && V && F && X
            }
            );
            return t(a)
        }
        , n)
    }
    checkFlags(t) {
        var n;
        return (n = t.feature_flag_keys) === null || n === void 0 || !n.length || t.feature_flag_keys.every(i => {
            var {key: r, value: s} = i;
            return !r || !s || this.instance.featureFlags.isFeatureEnabled(s)
        }
        )
    }
    getNextSurveyStep(t, n, i) {
        var r, s = t.questions[n], o = n + 1;
        if ((r = s.branching) === null || r === void 0 || !r.type)
            return n === t.questions.length - 1 ? vo.End : o;
        if (s.branching.type === vo.End)
            return vo.End;
        if (s.branching.type === vo.SpecificQuestion) {
            if (Number.isInteger(s.branching.index))
                return s.branching.index
        } else if (s.branching.type === vo.ResponseBased) {
            if (s.type === vp.SingleChoice) {
                var a, c, l = s.choices.indexOf("".concat(i));
                if ((a = s.branching) !== null && a !== void 0 && (c = a.responseValues) !== null && c !== void 0 && c.hasOwnProperty(l)) {
                    var u = s.branching.responseValues[l];
                    return Number.isInteger(u) ? u : u === vo.End ? vo.End : o
                }
            } else if (s.type === vp.Rating) {
                var h, d;
                if (typeof i != "number" || !Number.isInteger(i))
                    throw new Error("The response type must be an integer");
                var f = function(p, v) {
                    if (v === 3) {
                        if (p < 1 || p > 3)
                            throw new Error("The response must be in range 1-3");
                        return p === 1 ? "negative" : p === 2 ? "neutral" : "positive"
                    }
                    if (v === 5) {
                        if (p < 1 || p > 5)
                            throw new Error("The response must be in range 1-5");
                        return p <= 2 ? "negative" : p === 3 ? "neutral" : "positive"
                    }
                    if (v === 7) {
                        if (p < 1 || p > 7)
                            throw new Error("The response must be in range 1-7");
                        return p <= 3 ? "negative" : p === 4 ? "neutral" : "positive"
                    }
                    if (v === 10) {
                        if (p < 0 || p > 10)
                            throw new Error("The response must be in range 0-10");
                        return p <= 6 ? "detractors" : p <= 8 ? "passives" : "promoters"
                    }
                    throw new Error("The scale must be one of: 3, 5, 7, 10")
                }(i, s.scale);
                if ((h = s.branching) !== null && h !== void 0 && (d = h.responseValues) !== null && d !== void 0 && d.hasOwnProperty(f)) {
                    var g = s.branching.responseValues[f];
                    return Number.isInteger(g) ? g : g === vo.End ? vo.End : o
                }
            }
            return o
        }
        return $1.warn("Falling back to next question index due to unexpected branching type"),
        o
    }
    _canActivateRepeatedly(t) {
        var n;
        return dn((n = _t.__PosthogExtensions__) === null || n === void 0 ? void 0 : n.canActivateRepeatedly) ? ($1.warn("init was not called"),
        !1) : _t.__PosthogExtensions__.canActivateRepeatedly(t)
    }
    canRenderSurvey(t) {
        dn(this._surveyManager) ? $1.warn("init was not called") : this.getSurveys(n => {
            var i = n.filter(r => r.id === t)[0];
            this._surveyManager.canRenderSurvey(i)
        }
        )
    }
    renderSurvey(t, n) {
        dn(this._surveyManager) ? $1.warn("init was not called") : this.getSurveys(i => {
            var r = i.filter(s => s.id === t)[0];
            this._surveyManager.renderSurvey(r, qe?.querySelector(n))
        }
        )
    }
}
  , mO = pr("[RateLimiter]")
  , Jm = class {
    constructor(t) {
        var n, i;
        Ie(this, "serverLimits", {}),
        Ie(this, "lastEventRateLimited", !1),
        Ie(this, "checkForLimiting", r => {
            var s = r.text;
            if (s && s.length)
                try {
                    (JSON.parse(s).quota_limited || []).forEach(o => {
                        mO.info("".concat(o || "events", " is quota limited.")),
                        this.serverLimits[o] = new Date().getTime() + 6e4
                    }
                    )
                } catch (o) {
                    return void mO.warn('could not rate limit - continuing. Error: "'.concat(o?.message, '"'), {
                        text: s
                    })
                }
        }
        ),
        this.instance = t,
        this.captureEventsPerSecond = ((n = t.config.rate_limiting) === null || n === void 0 ? void 0 : n.events_per_second) || 10,
        this.captureEventsBurstLimit = Math.max(((i = t.config.rate_limiting) === null || i === void 0 ? void 0 : i.events_burst_limit) || 10 * this.captureEventsPerSecond, this.captureEventsPerSecond),
        this.lastEventRateLimited = this.clientRateLimitContext(!0).isRateLimited
    }
    clientRateLimitContext() {
        var t, n, i, r = arguments.length > 0 && arguments[0] !== void 0 && arguments[0], s = new Date().getTime(), o = (t = (n = this.instance.persistence) === null || n === void 0 ? void 0 : n.get_property(pm)) !== null && t !== void 0 ? t : {
            tokens: this.captureEventsBurstLimit,
            last: s
        };
        o.tokens += (s - o.last) / 1e3 * this.captureEventsPerSecond,
        o.last = s,
        o.tokens > this.captureEventsBurstLimit && (o.tokens = this.captureEventsBurstLimit);
        var a = o.tokens < 1;
        return a || r || (o.tokens = Math.max(0, o.tokens - 1)),
        !a || this.lastEventRateLimited || r || this.instance.capture("$$client_ingestion_warning", {
            $$client_ingestion_warning_message: "posthog-js client rate limited. Config is set to ".concat(this.captureEventsPerSecond, " events per second and ").concat(this.captureEventsBurstLimit, " events burst limit.")
        }, {
            skip_client_rate_limiting: !0
        }),
        this.lastEventRateLimited = a,
        (i = this.instance.persistence) === null || i === void 0 || i.set_property(pm, o),
        {
            isRateLimited: a,
            remainingTokens: o.tokens
        }
    }
    isServerRateLimited(t) {
        var n = this.serverLimits[t || "events"] || !1;
        return n !== !1 && new Date().getTime() < n
    }
}
  , QX = e => {
    var t = e?.config;
    return we({
        initialPathName: es?.pathname || "",
        referringDomain: Hn.referringDomain()
    }, Hn.campaignParams({
        customTrackedParams: t?.custom_campaign_params,
        maskPersonalDataProperties: t?.mask_personal_data_properties,
        customPersonalDataProperties: t?.custom_personal_data_properties
    }))
}
  , Zm = class {
    constructor(t, n, i, r) {
        Ie(this, "_onSessionIdCallback", s => {
            var o = this._getStoredProps();
            if (!o || o.sessionId !== s) {
                var a = {
                    sessionId: s,
                    props: this._sessionSourceParamGenerator(this.instance)
                };
                this._persistence.register({
                    [fm]: a
                })
            }
        }
        ),
        this.instance = t,
        this._sessionIdManager = n,
        this._persistence = i,
        this._sessionSourceParamGenerator = r || QX,
        this._sessionIdManager.onSessionId(this._onSessionIdCallback)
    }
    _getStoredProps() {
        return this._persistence.props[fm]
    }
    getSessionProps() {
        var t, n = (t = this._getStoredProps()) === null || t === void 0 ? void 0 : t.props;
        return n ? {
            $client_session_initial_referring_host: n.referringDomain,
            $client_session_initial_pathname: n.initialPathName,
            $client_session_initial_utm_source: n.utm_source,
            $client_session_initial_utm_campaign: n.utm_campaign,
            $client_session_initial_utm_medium: n.utm_medium,
            $client_session_initial_utm_content: n.utm_content,
            $client_session_initial_utm_term: n.utm_term
        } : {}
    }
}
  , JX = ["ahrefsbot", "ahrefssiteaudit", "applebot", "baiduspider", "better uptime bot", "bingbot", "bingpreview", "bot.htm", "bot.php", "crawler", "deepscan", "duckduckbot", "facebookexternal", "facebookcatalog", "gptbot", "http://yandex.com/bots", "hubspot", "ia_archiver", "linkedinbot", "mj12bot", "msnbot", "nessus", "petalbot", "pinterest", "prerender", "rogerbot", "screaming frog", "semrushbot", "sitebulb", "slurp", "turnitin", "twitterbot", "vercelbot", "yahoo! slurp", "yandexbot", "headlesschrome", "cypress", "Google-HotelAdsVerifier", "adsbot-google", "apis-google", "duplexweb-google", "feedfetcher-google", "google favicon", "google web preview", "google-read-aloud", "googlebot", "googleweblight", "mediapartners-google", "storebot-google", "Bytespider;"]
  , vO = function(e, t) {
    if (!e)
        return !1;
    var n = e.toLowerCase();
    return JX.concat(t || []).some(i => {
        var r = i.toLowerCase();
        return n.indexOf(r) !== -1
    }
    )
}
  , wP = function(e, t) {
    if (!e)
        return !1;
    var n = e.userAgent;
    if (n && vO(n, t))
        return !0;
    try {
        var i = e?.userAgentData;
        if (i != null && i.brands && i.brands.some(r => vO(r?.brand, t)))
            return !0
    } catch {}
    return !!e.webdriver
}
  , bp = class {
    constructor() {
        this.clicks = []
    }
    isRageClick(t, n, i) {
        var r = this.clicks[this.clicks.length - 1];
        if (r && Math.abs(t - r.x) + Math.abs(n - r.y) < 30 && i - r.timestamp < 1e3) {
            if (this.clicks.push({
                x: t,
                y: n,
                timestamp: i
            }),
            this.clicks.length === 3)
                return !0
        } else
            this.clicks = [{
                x: t,
                y: n,
                timestamp: i
            }];
        return !1
    }
}
  , Z2 = pr("[Dead Clicks]")
  , ZX = () => !0
  , eK = e => {
    var t, n = !((t = e.instance.persistence) === null || t === void 0 || !t.get_property(AO)), i = e.instance.config.capture_dead_clicks;
    return P0(i) ? i : n
}
  , Sp = class {
    get lazyLoadedDeadClicksAutocapture() {
        return this._lazyLoadedDeadClicksAutocapture
    }
    constructor(t, n, i) {
        this.instance = t,
        this.isEnabled = n,
        this.onCapture = i,
        this.startIfEnabled()
    }
    onRemoteConfig(t) {
        this.instance.persistence && this.instance.persistence.register({
            [AO]: t?.captureDeadClicks
        }),
        this.startIfEnabled()
    }
    startIfEnabled() {
        this.isEnabled(this) && this.loadScript( () => {
            this.start()
        }
        )
    }
    loadScript(t) {
        var n, i, r;
        (n = _t.__PosthogExtensions__) !== null && n !== void 0 && n.initDeadClicksAutocapture && t(),
        (i = _t.__PosthogExtensions__) === null || i === void 0 || (r = i.loadExternalDependency) === null || r === void 0 || r.call(i, this.instance, "dead-clicks-autocapture", s => {
            s ? Z2.error("failed to load script", s) : t()
        }
        )
    }
    start() {
        var t;
        if (qe) {
            if (!this._lazyLoadedDeadClicksAutocapture && (t = _t.__PosthogExtensions__) !== null && t !== void 0 && t.initDeadClicksAutocapture) {
                var n = Xn(this.instance.config.capture_dead_clicks) ? this.instance.config.capture_dead_clicks : {};
                n.__onCapture = this.onCapture,
                this._lazyLoadedDeadClicksAutocapture = _t.__PosthogExtensions__.initDeadClicksAutocapture(this.instance, n),
                this._lazyLoadedDeadClicksAutocapture.start(qe),
                Z2.info("starting...")
            }
        } else
            Z2.error("`document` not found. Cannot start.")
    }
    stop() {
        this._lazyLoadedDeadClicksAutocapture && (this._lazyLoadedDeadClicksAutocapture.stop(),
        this._lazyLoadedDeadClicksAutocapture = void 0,
        Z2.info("stopping..."))
    }
}
  , tK = pr("[Heatmaps]");
function _O(e) {
    return Xn(e) && "clientX"in e && "clientY"in e && Fr(e.clientX) && Fr(e.clientY)
}
var e8 = class {
    constructor(t) {
        var n;
        Ie(this, "rageclicks", new bp),
        Ie(this, "_enabledServerSide", !1),
        Ie(this, "_initialized", !1),
        Ie(this, "_flushInterval", null),
        this.instance = t,
        this._enabledServerSide = !((n = this.instance.persistence) === null || n === void 0 || !n.props[um]),
        Y?.addEventListener("beforeunload", () => {
            this.flush()
        }
        )
    }
    get flushIntervalMilliseconds() {
        var t = 5e3;
        return Xn(this.instance.config.capture_heatmaps) && this.instance.config.capture_heatmaps.flush_interval_milliseconds && (t = this.instance.config.capture_heatmaps.flush_interval_milliseconds),
        t
    }
    get isEnabled() {
        return et(this.instance.config.capture_heatmaps) ? et(this.instance.config.enable_heatmaps) ? this._enabledServerSide : this.instance.config.enable_heatmaps : this.instance.config.capture_heatmaps !== !1
    }
    startIfEnabled() {
        if (this.isEnabled) {
            if (this._initialized)
                return;
            tK.info("starting..."),
            this._setupListeners(),
            this._flushInterval = setInterval(this.flush.bind(this), this.flushIntervalMilliseconds)
        } else {
            var t, n;
            clearInterval((t = this._flushInterval) !== null && t !== void 0 ? t : void 0),
            (n = this.deadClicksCapture) === null || n === void 0 || n.stop(),
            this.getAndClearBuffer()
        }
    }
    onRemoteConfig(t) {
        var n = !!t.heatmaps;
        this.instance.persistence && this.instance.persistence.register({
            [um]: n
        }),
        this._enabledServerSide = n,
        this.startIfEnabled()
    }
    getAndClearBuffer() {
        var t = this.buffer;
        return this.buffer = void 0,
        t
    }
    _onDeadClick(t) {
        this._onClick(t.originalEvent, "deadclick")
    }
    _setupListeners() {
        Y && qe && (Za(qe, "click", t => this._onClick(t || Y?.event), !1, !0),
        Za(qe, "mousemove", t => this._onMouseMove(t || Y?.event), !1, !0),
        this.deadClicksCapture = new Sp(this.instance,ZX,this._onDeadClick.bind(this)),
        this.deadClicksCapture.startIfEnabled(),
        this._initialized = !0)
    }
    _getProperties(t, n) {
        var i = this.instance.scrollManager.scrollY()
          , r = this.instance.scrollManager.scrollX()
          , s = this.instance.scrollManager.scrollElement()
          , o = function(a, c, l) {
            for (var u = a; u && Ep(u) && !rl(u, "body"); ) {
                if (u === l)
                    return !1;
                if (Ft(c, Y?.getComputedStyle(u).position))
                    return !0;
                u = ZO(u)
            }
            return !1
        }(JO(t), ["fixed", "sticky"], s);
        return {
            x: t.clientX + (o ? 0 : r),
            y: t.clientY + (o ? 0 : i),
            target_fixed: o,
            type: n
        }
    }
    _onClick(t) {
        var n, i = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : "click";
        if (!KT(t.target) && _O(t)) {
            var r = this._getProperties(t, i);
            (n = this.rageclicks) !== null && n !== void 0 && n.isRageClick(t.clientX, t.clientY, new Date().getTime()) && this._capture(we(we({}, r), {}, {
                type: "rageclick"
            })),
            this._capture(r)
        }
    }
    _onMouseMove(t) {
        !KT(t.target) && _O(t) && (clearTimeout(this._mouseMoveTimeout),
        this._mouseMoveTimeout = setTimeout( () => {
            this._capture(this._getProperties(t, "mousemove"))
        }
        , 500))
    }
    _capture(t) {
        if (Y) {
            var n = Y.location.href;
            this.buffer = this.buffer || {},
            this.buffer[n] || (this.buffer[n] = []),
            this.buffer[n].push(t)
        }
    }
    flush() {
        this.buffer && !lh(this.buffer) && this.instance.capture("$$heatmap", {
            $heatmap_data: this.getAndClearBuffer()
        })
    }
}
  , t8 = class {
    constructor(t) {
        Ie(this, "_updateScrollData", () => {
            var n, i, r, s;
            this.context || (this.context = {});
            var o = this.scrollElement()
              , a = this.scrollY()
              , c = o ? Math.max(0, o.scrollHeight - o.clientHeight) : 0
              , l = a + (o?.clientHeight || 0)
              , u = o?.scrollHeight || 0;
            this.context.lastScrollY = Math.ceil(a),
            this.context.maxScrollY = Math.max(a, (n = this.context.maxScrollY) !== null && n !== void 0 ? n : 0),
            this.context.maxScrollHeight = Math.max(c, (i = this.context.maxScrollHeight) !== null && i !== void 0 ? i : 0),
            this.context.lastContentY = l,
            this.context.maxContentY = Math.max(l, (r = this.context.maxContentY) !== null && r !== void 0 ? r : 0),
            this.context.maxContentHeight = Math.max(u, (s = this.context.maxContentHeight) !== null && s !== void 0 ? s : 0)
        }
        ),
        this.instance = t
    }
    getContext() {
        return this.context
    }
    resetContext() {
        var t = this.context;
        return setTimeout(this._updateScrollData, 0),
        t
    }
    startMeasuringScrollPosition() {
        Y?.addEventListener("scroll", this._updateScrollData, !0),
        Y?.addEventListener("scrollend", this._updateScrollData, !0),
        Y?.addEventListener("resize", this._updateScrollData)
    }
    scrollElement() {
        if (!this.instance.config.scroll_root_selector)
            return Y?.document.documentElement;
        var t = zn(this.instance.config.scroll_root_selector) ? this.instance.config.scroll_root_selector : [this.instance.config.scroll_root_selector];
        for (var n of t) {
            var i = Y?.document.querySelector(n);
            if (i)
                return i
        }
    }
    scrollY() {
        if (this.instance.config.scroll_root_selector) {
            var t = this.scrollElement();
            return t && t.scrollTop || 0
        }
        return Y && (Y.scrollY || Y.pageYOffset || Y.document.documentElement.scrollTop) || 0
    }
    scrollX() {
        if (this.instance.config.scroll_root_selector) {
            var t = this.scrollElement();
            return t && t.scrollLeft || 0
        }
        return Y && (Y.scrollX || Y.pageXOffset || Y.document.documentElement.scrollLeft) || 0
    }
}
  , yO = pr("[AutoCapture]");
function rm(e, t) {
    return t.length > e ? t.slice(0, e) + "..." : t
}
function nK(e) {
    if (e.previousElementSibling)
        return e.previousElementSibling;
    var t = e;
    do
        t = t.previousSibling;
    while (t && !Ep(t));
    return t
}
function iK(e, t, n, i) {
    var r = e.tagName.toLowerCase()
      , s = {
        tag_name: r
    };
    Om.indexOf(r) > -1 && !n && (r.toLowerCase() === "a" || r.toLowerCase() === "button" ? s.$el_text = rm(1024, iP(e)) : s.$el_text = rm(1024, Tp(e)));
    var o = fp(e);
    o.length > 0 && (s.classes = o.filter(function(u) {
        return u !== ""
    })),
    hn(e.attributes, function(u) {
        var h;
        if ((!eP(e) || ["name", "id", "class", "aria-label"].indexOf(u.name) !== -1) && (i == null || !i.includes(u.name)) && !t && mh(u.value) && (h = u.name,
        !Ji(h) || h.substring(0, 10) !== "_ngcontent" && h.substring(0, 7) !== "_nghost")) {
            var d = u.value;
            u.name === "class" && (d = m8(d).join(" ")),
            s["attr__" + u.name] = rm(1024, d)
        }
    });
    for (var a = 1, c = 1, l = e; l = nK(l); )
        a++,
        l.tagName === e.tagName && c++;
    return s.nth_child = a,
    s.nth_of_type = c,
    s
}
function rK(e, t) {
    for (var n, i, {e: r, maskAllElementAttributes: s, maskAllText: o, elementAttributeIgnoreList: a, elementsChainAsString: c} = t, l = [e], u = e; u.parentNode && !rl(u, "body"); )
        YO(u.parentNode) ? (l.push(u.parentNode.host),
        u = u.parentNode.host) : (l.push(u.parentNode),
        u = u.parentNode);
    var h, d = [], f = {}, g = !1, p = !1;
    if (hn(l, k => {
        var B = Pm(k);
        k.tagName.toLowerCase() === "a" && (g = k.getAttribute("href"),
        g = B && g && mh(g) && g),
        Ft(fp(k), "ph-no-capture") && (p = !0),
        d.push(iK(k, s, o, a));
        var N = function(E) {
            if (!Pm(E))
                return {};
            var F = {};
            return hn(E.attributes, function(O) {
                if (O.name && O.name.indexOf("data-ph-capture-attribute") === 0) {
                    var V = O.name.replace("data-ph-capture-attribute-", "")
                      , X = O.value;
                    V && X && mh(X) && (F[V] = X)
                }
            }),
            F
        }(k);
        fr(f, N)
    }
    ),
    p)
        return {
            props: {},
            explicitNoCapture: p
        };
    if (o || (e.tagName.toLowerCase() === "a" || e.tagName.toLowerCase() === "button" ? d[0].$el_text = iP(e) : d[0].$el_text = Tp(e)),
    g) {
        var v, b;
        d[0].attr__href = g;
        var S = (v = hh(g)) === null || v === void 0 ? void 0 : v.host
          , w = Y == null || (b = Y.location) === null || b === void 0 ? void 0 : b.host;
        S && w && S !== w && (h = g)
    }
    return {
        props: fr({
            $event_type: r.type,
            $ce_version: 1
        }, c ? {} : {
            $elements: d
        }, {
            $elements_chain: xX(d)
        }, (n = d[0]) !== null && n !== void 0 && n.$el_text ? {
            $el_text: (i = d[0]) === null || i === void 0 ? void 0 : i.$el_text
        } : {}, h && r.type === "click" ? {
            $external_click_url: h
        } : {}, f)
    }
}
var n8 = class {
    constructor(t) {
        Ie(this, "_initialized", !1),
        Ie(this, "_isDisabledServerSide", null),
        Ie(this, "rageclicks", new bp),
        Ie(this, "_elementsChainAsString", !1),
        this.instance = t,
        this._elementSelectors = null
    }
    get config() {
        var t, n, i = Xn(this.instance.config.autocapture) ? this.instance.config.autocapture : {};
        return i.url_allowlist = (t = i.url_allowlist) === null || t === void 0 ? void 0 : t.map(r => new RegExp(r)),
        i.url_ignorelist = (n = i.url_ignorelist) === null || n === void 0 ? void 0 : n.map(r => new RegExp(r)),
        i
    }
    _addDomEventHandlers() {
        if (this.isBrowserSupported()) {
            if (Y && qe) {
                var t = i => {
                    i = i || Y?.event;
                    try {
                        this._captureEvent(i)
                    } catch (r) {
                        yO.error("Failed to capture event", r)
                    }
                }
                  , n = i => {
                    i = i || Y?.event,
                    this._captureEvent(i, X9)
                }
                ;
                Za(qe, "submit", t, !1, !0),
                Za(qe, "change", t, !1, !0),
                Za(qe, "click", t, !1, !0),
                this.config.capture_copied_text && (Za(qe, "copy", n, !1, !0),
                Za(qe, "cut", n, !1, !0))
            }
        } else
            yO.info("Disabling Automatic Event Collection because this browser is not supported")
    }
    startIfEnabled() {
        this.isEnabled && !this._initialized && (this._addDomEventHandlers(),
        this._initialized = !0)
    }
    onRemoteConfig(t) {
        t.elementsChainAsString && (this._elementsChainAsString = t.elementsChainAsString),
        this.instance.persistence && this.instance.persistence.register({
            [PT]: !!t.autocapture_opt_out
        }),
        this._isDisabledServerSide = !!t.autocapture_opt_out,
        this.startIfEnabled()
    }
    setElementSelectors(t) {
        this._elementSelectors = t
    }
    getElementSelectors(t) {
        var n, i = [];
        return (n = this._elementSelectors) === null || n === void 0 || n.forEach(r => {
            var s = qe?.querySelectorAll(r);
            s?.forEach(o => {
                t === o && i.push(r)
            }
            )
        }
        ),
        i
    }
    get isEnabled() {
        var t, n, i = (t = this.instance.persistence) === null || t === void 0 ? void 0 : t.props[PT], r = this._isDisabledServerSide;
        if (sl(r) && !P0(i) && !this.instance.config.advanced_disable_decide)
            return !1;
        var s = (n = this._isDisabledServerSide) !== null && n !== void 0 ? n : !!i;
        return !!this.instance.config.autocapture && !s
    }
    _captureEvent(t) {
        var n = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : "$autocapture";
        if (this.isEnabled) {
            var i, r = JO(t);
            KO(r) && (r = r.parentNode || null),
            n === "$autocapture" && t.type === "click" && t instanceof MouseEvent && this.instance.config.rageclick && (i = this.rageclicks) !== null && i !== void 0 && i.isRageClick(t.clientX, t.clientY, new Date().getTime()) && this._captureEvent(t, "$rageclick");
            var s = n === X9;
            if (r && vX(r, t, this.config, s, s ? ["copy", "cut"] : void 0)) {
                var {props: o, explicitNoCapture: a} = rK(r, {
                    e: t,
                    maskAllElementAttributes: this.instance.config.mask_all_element_attributes,
                    maskAllText: this.instance.config.mask_all_text,
                    elementAttributeIgnoreList: this.config.element_attribute_ignorelist,
                    elementsChainAsString: this._elementsChainAsString
                });
                if (a)
                    return !1;
                var c = this.getElementSelectors(r);
                if (c && c.length > 0 && (o.$element_selectors = c),
                n === X9) {
                    var l, u = QO(Y == null || (l = Y.getSelection()) === null || l === void 0 ? void 0 : l.toString()), h = t.type || "clipboard";
                    if (!u)
                        return !1;
                    o.$selected_content = u,
                    o.$copy_type = h
                }
                return this.instance.capture(n, o),
                !0
            }
        }
    }
    isBrowserSupported() {
        return Es(qe?.querySelectorAll)
    }
}
, sK = pr("[TracingHeaders]"), i8 = class {
    constructor(t) {
        Ie(this, "_restoreXHRPatch", void 0),
        Ie(this, "_restoreFetchPatch", void 0),
        Ie(this, "_startCapturing", () => {
            var n, i, r, s;
            et(this._restoreXHRPatch) && ((n = _t.__PosthogExtensions__) === null || n === void 0 || (i = n.tracingHeadersPatchFns) === null || i === void 0 || i._patchXHR(this.instance.sessionManager)),
            et(this._restoreFetchPatch) && ((r = _t.__PosthogExtensions__) === null || r === void 0 || (s = r.tracingHeadersPatchFns) === null || s === void 0 || s._patchFetch(this.instance.sessionManager))
        }
        ),
        this.instance = t
    }
    _loadScript(t) {
        var n, i, r;
        (n = _t.__PosthogExtensions__) !== null && n !== void 0 && n.tracingHeadersPatchFns && t(),
        (i = _t.__PosthogExtensions__) === null || i === void 0 || (r = i.loadExternalDependency) === null || r === void 0 || r.call(i, this.instance, "tracing-headers", s => {
            if (s)
                return sK.error("failed to load script", s);
            t()
        }
        )
    }
    startIfEnabledOrStop() {
        var t, n;
        this.instance.config.__add_tracing_headers ? this._loadScript(this._startCapturing) : ((t = this._restoreXHRPatch) === null || t === void 0 || t.call(this),
        (n = this._restoreFetchPatch) === null || n === void 0 || n.call(this),
        this._restoreXHRPatch = void 0,
        this._restoreFetchPatch = void 0)
    }
}
, el;
(function(e) {
    e[e.PENDING = -1] = "PENDING",
    e[e.DENIED = 0] = "DENIED",
    e[e.GRANTED = 1] = "GRANTED"
}
)(el || (el = {}));
var r8 = class {
    constructor(t) {
        this.instance = t
    }
    get config() {
        return this.instance.config
    }
    get consent() {
        return this.getDnt() ? el.DENIED : this.storedConsent
    }
    isOptedOut() {
        return this.consent === el.DENIED || this.consent === el.PENDING && this.config.opt_out_capturing_by_default
    }
    isOptedIn() {
        return !this.isOptedOut()
    }
    optInOut(t) {
        this.storage.set(this.storageKey, t ? 1 : 0, this.config.cookie_expiration, this.config.cross_subdomain_cookie, this.config.secure_cookie)
    }
    reset() {
        this.storage.remove(this.storageKey, this.config.cross_subdomain_cookie)
    }
    get storageKey() {
        var {token: t, opt_out_capturing_cookie_prefix: n} = this.instance.config;
        return (n || "__ph_opt_in_out_") + t
    }
    get storedConsent() {
        var t = this.storage.get(this.storageKey);
        return t === "1" ? el.GRANTED : t === "0" ? el.DENIED : el.PENDING
    }
    get storage() {
        if (!this._storage) {
            var t = this.config.opt_out_capturing_persistence_type;
            this._storage = t === "localStorage" ? Si : ec;
            var n = t === "localStorage" ? ec : Si;
            n.get(this.storageKey) && (this._storage.get(this.storageKey) || this.optInOut(n.get(this.storageKey) === "1"),
            n.remove(this.storageKey, this.config.cross_subdomain_cookie))
        }
        return this._storage
    }
    getDnt() {
        return !!this.config.respect_dnt && !!MO([Cs?.doNotTrack, Cs?.msDoNotTrack, _t.doNotTrack], t => Ft([!0, 1, "1", "yes"], t))
    }
}
  , ep = pr("[ExceptionAutocapture]")
  , s8 = class {
    constructor(t) {
        var n;
        Ie(this, "originalOnUnhandledRejectionHandler", void 0),
        Ie(this, "startCapturing", () => {
            var i, r, s, o;
            if (Y && this.isEnabled && !this.hasHandlers && !this.isCapturing) {
                var a = (i = _t.__PosthogExtensions__) === null || i === void 0 || (r = i.errorWrappingFunctions) === null || r === void 0 ? void 0 : r.wrapOnError
                  , c = (s = _t.__PosthogExtensions__) === null || s === void 0 || (o = s.errorWrappingFunctions) === null || o === void 0 ? void 0 : o.wrapUnhandledRejection;
                if (a && c)
                    try {
                        this.unwrapOnError = a(this.captureException.bind(this)),
                        this.unwrapUnhandledRejection = c(this.captureException.bind(this))
                    } catch (l) {
                        ep.error("failed to start", l),
                        this.stopCapturing()
                    }
                else
                    ep.error("failed to load error wrapping functions - cannot start")
            }
        }
        ),
        this.instance = t,
        this.remoteEnabled = !((n = this.instance.persistence) === null || n === void 0 || !n.props[MT]),
        this.startIfEnabled()
    }
    get isEnabled() {
        var t;
        return (t = this.remoteEnabled) !== null && t !== void 0 && t
    }
    get isCapturing() {
        var t;
        return !(Y == null || (t = Y.onerror) === null || t === void 0 || !t.__POSTHOG_INSTRUMENTED__)
    }
    get hasHandlers() {
        return this.originalOnUnhandledRejectionHandler || this.unwrapOnError
    }
    startIfEnabled() {
        this.isEnabled && !this.isCapturing && (ep.info("enabled, starting..."),
        this.loadScript(this.startCapturing))
    }
    loadScript(t) {
        var n, i;
        this.hasHandlers && t(),
        (n = _t.__PosthogExtensions__) === null || n === void 0 || (i = n.loadExternalDependency) === null || i === void 0 || i.call(n, this.instance, "exception-autocapture", r => {
            if (r)
                return ep.error("failed to load script", r);
            t()
        }
        )
    }
    stopCapturing() {
        var t, n;
        (t = this.unwrapOnError) === null || t === void 0 || t.call(this),
        (n = this.unwrapUnhandledRejection) === null || n === void 0 || n.call(this)
    }
    onRemoteConfig(t) {
        var n = t.autocaptureExceptions;
        this.remoteEnabled = !!n || !1,
        this.instance.persistence && this.instance.persistence.register({
            [MT]: this.remoteEnabled
        }),
        this.startIfEnabled()
    }
    captureException(t) {
        var n = this.instance.requestRouter.endpointFor("ui");
        t.$exception_personURL = "".concat(n, "/project/").concat(this.instance.config.token, "/person/").concat(this.instance.get_distinct_id()),
        this.instance.exceptions.sendExceptionEvent(t)
    }
}
  , C0 = pr("[Web Vitals]")
  , bO = 9e5
  , o8 = class {
    constructor(t) {
        var n;
        Ie(this, "_enabledServerSide", !1),
        Ie(this, "_initialized", !1),
        Ie(this, "buffer", {
            url: void 0,
            metrics: [],
            firstMetricTimestamp: void 0
        }),
        Ie(this, "_flushToCapture", () => {
            clearTimeout(this._delayedFlushTimer),
            this.buffer.metrics.length !== 0 && (this.instance.capture("$web_vitals", this.buffer.metrics.reduce( (i, r) => we(we({}, i), {}, {
                ["$web_vitals_".concat(r.name, "_event")]: we({}, r),
                ["$web_vitals_".concat(r.name, "_value")]: r.value
            }), {})),
            this.buffer = {
                url: void 0,
                metrics: [],
                firstMetricTimestamp: void 0
            })
        }
        ),
        Ie(this, "_addToBuffer", i => {
            var r, s = (r = this.instance.sessionManager) === null || r === void 0 ? void 0 : r.checkAndGetSessionAndWindowId(!0);
            if (et(s))
                C0.error("Could not read session ID. Dropping metrics!");
            else {
                this.buffer = this.buffer || {
                    url: void 0,
                    metrics: [],
                    firstMetricTimestamp: void 0
                };
                var o = this._currentURL();
                et(o) || (dn(i?.name) || dn(i?.value) ? C0.error("Invalid metric received", i) : this._maxAllowedValue && i.value >= this._maxAllowedValue ? C0.error("Ignoring metric with value >= " + this._maxAllowedValue, i) : (this.buffer.url !== o && (this._flushToCapture(),
                this._delayedFlushTimer = setTimeout(this._flushToCapture, this.flushToCaptureTimeoutMs)),
                et(this.buffer.url) && (this.buffer.url = o),
                this.buffer.firstMetricTimestamp = et(this.buffer.firstMetricTimestamp) ? Date.now() : this.buffer.firstMetricTimestamp,
                i.attribution && i.attribution.interactionTargetElement && (i.attribution.interactionTargetElement = void 0),
                this.buffer.metrics.push(we(we({}, i), {}, {
                    $current_url: o,
                    $session_id: s.sessionId,
                    $window_id: s.windowId,
                    timestamp: Date.now()
                })),
                this.buffer.metrics.length === this.allowedMetrics.length && this._flushToCapture()))
            }
        }
        ),
        Ie(this, "_startCapturing", () => {
            var i, r, s, o, a = _t.__PosthogExtensions__;
            et(a) || et(a.postHogWebVitalsCallbacks) || ({onLCP: i, onCLS: r, onFCP: s, onINP: o} = a.postHogWebVitalsCallbacks),
            i && r && s && o ? (this.allowedMetrics.indexOf("LCP") > -1 && i(this._addToBuffer.bind(this)),
            this.allowedMetrics.indexOf("CLS") > -1 && r(this._addToBuffer.bind(this)),
            this.allowedMetrics.indexOf("FCP") > -1 && s(this._addToBuffer.bind(this)),
            this.allowedMetrics.indexOf("INP") > -1 && o(this._addToBuffer.bind(this)),
            this._initialized = !0) : C0.error("web vitals callbacks not loaded - not starting")
        }
        ),
        this.instance = t,
        this._enabledServerSide = !((n = this.instance.persistence) === null || n === void 0 || !n.props[kT]),
        this.startIfEnabled()
    }
    get allowedMetrics() {
        var t, n, i = Xn(this.instance.config.capture_performance) ? (t = this.instance.config.capture_performance) === null || t === void 0 ? void 0 : t.web_vitals_allowed_metrics : void 0;
        return et(i) ? ((n = this.instance.persistence) === null || n === void 0 ? void 0 : n.props[AT]) || ["CLS", "FCP", "INP", "LCP"] : i
    }
    get flushToCaptureTimeoutMs() {
        return (Xn(this.instance.config.capture_performance) ? this.instance.config.capture_performance.web_vitals_delayed_flush_ms : void 0) || 5e3
    }
    get _maxAllowedValue() {
        var t = Xn(this.instance.config.capture_performance) && Fr(this.instance.config.capture_performance.__web_vitals_max_value) ? this.instance.config.capture_performance.__web_vitals_max_value : bO;
        return 0 < t && t <= 6e4 ? bO : t
    }
    get isEnabled() {
        var t = Xn(this.instance.config.capture_performance) ? this.instance.config.capture_performance.web_vitals : void 0;
        return P0(t) ? t : this._enabledServerSide
    }
    startIfEnabled() {
        this.isEnabled && !this._initialized && (C0.info("enabled, starting..."),
        this.loadScript(this._startCapturing))
    }
    onRemoteConfig(t) {
        var n = Xn(t.capturePerformance) && !!t.capturePerformance.web_vitals
          , i = Xn(t.capturePerformance) ? t.capturePerformance.web_vitals_allowed_metrics : void 0;
        this.instance.persistence && (this.instance.persistence.register({
            [kT]: n
        }),
        this.instance.persistence.register({
            [AT]: i
        })),
        this._enabledServerSide = n,
        this.startIfEnabled()
    }
    loadScript(t) {
        var n, i, r;
        (n = _t.__PosthogExtensions__) !== null && n !== void 0 && n.postHogWebVitalsCallbacks && t(),
        (i = _t.__PosthogExtensions__) === null || i === void 0 || (r = i.loadExternalDependency) === null || r === void 0 || r.call(i, this.instance, "web-vitals", s => {
            s ? C0.error("failed to load script", s) : t()
        }
        )
    }
    _currentURL() {
        var t = Y ? Y.location.href : void 0;
        return t || C0.error("Could not determine current URL"),
        t
    }
}
  , oK = {
    icontains: (e, t) => !!Y && t.href.toLowerCase().indexOf(e.toLowerCase()) > -1,
    not_icontains: (e, t) => !!Y && t.href.toLowerCase().indexOf(e.toLowerCase()) === -1,
    regex: (e, t) => !!Y && ph(t.href, e),
    not_regex: (e, t) => !!Y && !ph(t.href, e),
    exact: (e, t) => t.href === e,
    is_not: (e, t) => t.href !== e
}
  , a8 = class e {
    constructor(t) {
        var n = this;
        Ie(this, "getWebExperimentsAndEvaluateDisplayLogic", function() {
            var i = arguments.length > 0 && arguments[0] !== void 0 && arguments[0];
            n.getWebExperiments(r => {
                e.logInfo("retrieved web experiments from the server"),
                n._flagToExperiments = new Map,
                r.forEach(s => {
                    if (s.feature_flag_key) {
                        var o;
                        n._flagToExperiments && (e.logInfo("setting flag key ", s.feature_flag_key, " to web experiment ", s),
                        (o = n._flagToExperiments) === null || o === void 0 || o.set(s.feature_flag_key, s));
                        var a = n.instance.getFeatureFlag(s.feature_flag_key);
                        Ji(a) && s.variants[a] && n.applyTransforms(s.name, a, s.variants[a].transforms)
                    } else if (s.variants)
                        for (var c in s.variants) {
                            var l = s.variants[c];
                            e.matchesTestVariant(l) && n.applyTransforms(s.name, c, l.transforms)
                        }
                }
                )
            }
            , i)
        }),
        this.instance = t,
        this.instance.onFeatureFlags(i => {
            this.onFeatureFlags(i)
        }
        )
    }
    onFeatureFlags(t) {
        if (this._is_bot())
            e.logInfo("Refusing to render web experiment since the viewer is a likely bot");
        else if (!this.instance.config.disable_web_experiments) {
            if (dn(this._flagToExperiments))
                return this._flagToExperiments = new Map,
                this.loadIfEnabled(),
                void this.previewWebExperiment();
            e.logInfo("applying feature flags", t),
            t.forEach(n => {
                var i;
                if (this._flagToExperiments && (i = this._flagToExperiments) !== null && i !== void 0 && i.has(n)) {
                    var r, s = this.instance.getFeatureFlag(n), o = (r = this._flagToExperiments) === null || r === void 0 ? void 0 : r.get(n);
                    s && o != null && o.variants[s] && this.applyTransforms(o.name, s, o.variants[s].transforms)
                }
            }
            )
        }
    }
    previewWebExperiment() {
        var t = e.getWindowLocation();
        if (t != null && t.search) {
            var n = lp(t?.search, "__experiment_id")
              , i = lp(t?.search, "__experiment_variant");
            n && i && (e.logInfo("previewing web experiments ".concat(n, " && ").concat(i)),
            this.getWebExperiments(r => {
                this.showPreviewWebExperiment(parseInt(n), i, r)
            }
            , !1, !0))
        }
    }
    loadIfEnabled() {
        this.instance.config.disable_web_experiments || this.getWebExperimentsAndEvaluateDisplayLogic()
    }
    getWebExperiments(t, n, i) {
        if (this.instance.config.disable_web_experiments && !i)
            return t([]);
        var r = this.instance.get_property("$web_experiments");
        if (r && !n)
            return t(r);
        this.instance._send_request({
            url: this.instance.requestRouter.endpointFor("api", "/api/web_experiments/?token=".concat(this.instance.config.token)),
            method: "GET",
            callback: s => {
                if (s.statusCode !== 200 || !s.json)
                    return t([]);
                var o = s.json.experiments || [];
                return t(o)
            }
        })
    }
    showPreviewWebExperiment(t, n, i) {
        var r = i.filter(s => s.id === t);
        r && r.length > 0 && (e.logInfo("Previewing web experiment [".concat(r[0].name, "] with variant [").concat(n, "]")),
        this.applyTransforms(r[0].name, n, r[0].variants[n].transforms))
    }
    static matchesTestVariant(t) {
        return !dn(t.conditions) && e.matchUrlConditions(t) && e.matchUTMConditions(t)
    }
    static matchUrlConditions(t) {
        var n;
        if (dn(t.conditions) || dn((n = t.conditions) === null || n === void 0 ? void 0 : n.url))
            return !0;
        var i, r, s, o = e.getWindowLocation();
        return !!o && ((i = t.conditions) === null || i === void 0 || !i.url || oK[(r = (s = t.conditions) === null || s === void 0 ? void 0 : s.urlMatchType) !== null && r !== void 0 ? r : "icontains"](t.conditions.url, o))
    }
    static getWindowLocation() {
        return Y?.location
    }
    static matchUTMConditions(t) {
        var n;
        if (dn(t.conditions) || dn((n = t.conditions) === null || n === void 0 ? void 0 : n.utm))
            return !0;
        var i = Hn.campaignParams();
        if (i.utm_source) {
            var r, s, o, a, c, l, u, h, d, f, g, p, v, b, S, w, k = (r = t.conditions) === null || r === void 0 || (s = r.utm) === null || s === void 0 || !s.utm_campaign || ((o = t.conditions) === null || o === void 0 || (a = o.utm) === null || a === void 0 ? void 0 : a.utm_campaign) == i.utm_campaign, B = (c = t.conditions) === null || c === void 0 || (l = c.utm) === null || l === void 0 || !l.utm_source || ((u = t.conditions) === null || u === void 0 || (h = u.utm) === null || h === void 0 ? void 0 : h.utm_source) == i.utm_source, N = (d = t.conditions) === null || d === void 0 || (f = d.utm) === null || f === void 0 || !f.utm_medium || ((g = t.conditions) === null || g === void 0 || (p = g.utm) === null || p === void 0 ? void 0 : p.utm_medium) == i.utm_medium, E = (v = t.conditions) === null || v === void 0 || (b = v.utm) === null || b === void 0 || !b.utm_term || ((S = t.conditions) === null || S === void 0 || (w = S.utm) === null || w === void 0 ? void 0 : w.utm_term) == i.utm_term;
            return k && N && E && B
        }
        return !1
    }
    static logInfo(t) {
        for (var n = arguments.length, i = new Array(n > 1 ? n - 1 : 0), r = 1; r < n; r++)
            i[r - 1] = arguments[r];
        Je.info("[WebExperiments] ".concat(t), i)
    }
    applyTransforms(t, n, i) {
        this._is_bot() ? e.logInfo("Refusing to render web experiment since the viewer is a likely bot") : n !== "control" ? i.forEach(r => {
            if (r.selector) {
                var s;
                e.logInfo("applying transform of variant ".concat(n, " for experiment ").concat(t, " "), r);
                var o = (s = document) === null || s === void 0 ? void 0 : s.querySelectorAll(r.selector);
                o?.forEach(a => {
                    var c = a;
                    r.attributes && r.attributes.forEach(l => {
                        switch (l.name) {
                        case "text":
                            c.innerText = l.value;
                            break;
                        case "html":
                            c.innerHTML = l.value;
                            break;
                        case "cssClass":
                            c.className = l.value;
                            break;
                        default:
                            c.setAttribute(l.name, l.value)
                        }
                    }
                    ),
                    r.text && (c.innerText = r.text),
                    r.html && (c.parentElement ? c.parentElement.innerHTML = r.html : c.innerHTML = r.html),
                    r.css && c.setAttribute("style", r.css)
                }
                )
            }
        }
        ) : e.logInfo("Control variants leave the page unmodified.")
    }
    _is_bot() {
        return Cs && this.instance ? wP(Cs, this.instance.config.custom_blocked_useragents) : void 0
    }
}
  , c8 = class {
    constructor(t) {
        this.instance = t
    }
    sendExceptionEvent(t) {
        this.instance.capture("$exception", t, {
            _noTruncate: !0,
            _batchKey: "exceptionEvent"
        })
    }
}
  , aK = ["$set_once", "$set"]
  , E0 = pr("[SiteApps]")
  , l8 = class {
    constructor(t) {
        this.instance = t,
        this.bufferedInvocations = [],
        this.apps = {}
    }
    get isEnabled() {
        return !!this.instance.config.opt_in_site_apps
    }
    eventCollector(t, n) {
        if (n) {
            var i = this.globalsForEvent(n);
            this.bufferedInvocations.push(i),
            this.bufferedInvocations.length > 1e3 && (this.bufferedInvocations = this.bufferedInvocations.slice(10))
        }
    }
    get siteAppLoaders() {
        var t, n;
        return (t = _t._POSTHOG_REMOTE_CONFIG) === null || t === void 0 || (n = t[this.instance.config.token]) === null || n === void 0 ? void 0 : n.siteApps
    }
    init() {
        if (this.isEnabled) {
            var t = this.instance._addCaptureHook(this.eventCollector.bind(this));
            this.stopBuffering = () => {
                t(),
                this.bufferedInvocations = [],
                this.stopBuffering = void 0
            }
        }
    }
    globalsForEvent(t) {
        var n, i, r, s, o, a, c;
        if (!t)
            throw new Error("Event payload is required");
        var l = {}
          , u = this.instance.get_property("$groups") || []
          , h = this.instance.get_property("$stored_group_properties") || {};
        for (var [d,f] of Object.entries(h))
            l[d] = {
                id: u[d],
                type: d,
                properties: f
            };
        var {$set_once: g, $set: p} = t;
        return {
            event: we(we({}, PO(t, aK)), {}, {
                properties: we(we(we({}, t.properties), p ? {
                    $set: we(we({}, (n = (i = t.properties) === null || i === void 0 ? void 0 : i.$set) !== null && n !== void 0 ? n : {}), p)
                } : {}), g ? {
                    $set_once: we(we({}, (r = (s = t.properties) === null || s === void 0 ? void 0 : s.$set_once) !== null && r !== void 0 ? r : {}), g)
                } : {}),
                elements_chain: (o = (a = t.properties) === null || a === void 0 ? void 0 : a.$elements_chain) !== null && o !== void 0 ? o : "",
                distinct_id: (c = t.properties) === null || c === void 0 ? void 0 : c.distinct_id
            }),
            person: {
                properties: this.instance.get_property("$stored_person_properties")
            },
            groups: l
        }
    }
    setupSiteApp(t) {
        var n = {
            id: t.id,
            loaded: !1,
            errored: !1
        };
        this.apps[t.id] = n;
        var i = s => {
            var o;
            for (var a of (this.apps[t.id].errored = !s,
            this.apps[t.id].loaded = !0,
            E0.info("Site app with id ".concat(t.id, " ").concat(s ? "loaded" : "errored")),
            s && this.bufferedInvocations.length && (E0.info("Processing ".concat(this.bufferedInvocations.length, " events for site app with id ").concat(t.id)),
            this.bufferedInvocations.forEach(c => {
                var l;
                return (l = n.processEvent) === null || l === void 0 ? void 0 : l.call(n, c)
            }
            )),
            Object.values(this.apps)))
                if (!a.loaded)
                    return;
            (o = this.stopBuffering) === null || o === void 0 || o.call(this)
        }
        ;
        try {
            var {processEvent: r} = t.init({
                posthog: this.instance,
                callback: s => {
                    i(s)
                }
            });
            r && (n.processEvent = r)
        } catch (s) {
            E0.error("Error while initializing PostHog app with config id ".concat(t.id), s),
            i(!1)
        }
    }
    onCapturedEvent(t) {
        if (Object.keys(this.apps).length !== 0) {
            var n = this.globalsForEvent(t);
            for (var i of Object.values(this.apps))
                try {
                    var r;
                    (r = i.processEvent) === null || r === void 0 || r.call(i, n)
                } catch (s) {
                    E0.error("Error while processing event ".concat(t.event, " for site app ").concat(i.id), s)
                }
        }
    }
    onRemoteConfig(t) {
        var n, i, r, s = this;
        if ((n = this.siteAppLoaders) !== null && n !== void 0 && n.length) {
            if (!this.isEnabled)
                return void E0.error('PostHog site apps are disabled. Enable the "opt_in_site_apps" config to proceed.');
            for (var o of this.siteAppLoaders)
                this.setupSiteApp(o);
            this.instance.on("eventCaptured", u => this.onCapturedEvent(u))
        } else if ((i = this.stopBuffering) === null || i === void 0 || i.call(this),
        (r = t.siteApps) !== null && r !== void 0 && r.length)
            if (this.isEnabled) {
                var a = function(u, h) {
                    var d, f;
                    _t["__$$ph_site_app_".concat(u)] = s.instance,
                    (d = _t.__PosthogExtensions__) === null || d === void 0 || (f = d.loadSiteApp) === null || f === void 0 || f.call(d, s.instance, h, g => {
                        if (g)
                            return E0.error("Error while initializing PostHog app with config id ".concat(u), g)
                    }
                    )
                };
                for (var {id: c, url: l} of t.siteApps)
                    a(c, l)
            } else
                E0.error('PostHog site apps are disabled. Enable the "opt_in_site_apps" config to proceed.')
    }
}
;
function sm(e, t, n) {
    return Q1({
        distinct_id: e,
        userPropertiesToSet: t,
        userPropertiesToSetOnce: n
    })
}
var t5 = {}
  , u8 = () => {}
  , ch = "posthog"
  , CP = !GX && Li?.indexOf("MSIE") === -1 && Li?.indexOf("Mozilla") === -1
  , SO = () => {
    var e, t, n;
    return {
        api_host: "https://us.i.posthog.com",
        ui_host: null,
        token: "",
        autocapture: !0,
        rageclick: !0,
        cross_subdomain_cookie: (t = qe?.location,
        n = t?.hostname,
        !!Ji(n) && n.split(".").slice(-2).join(".") !== "herokuapp.com"),
        persistence: "localStorage+cookie",
        persistence_name: "",
        loaded: u8,
        store_google: !0,
        custom_campaign_params: [],
        custom_blocked_useragents: [],
        save_referrer: !0,
        capture_pageview: !0,
        capture_pageleave: "if_capture_pageview",
        debug: es && Ji(es?.search) && es.search.indexOf("__posthog_debug=true") !== -1 || !1,
        verbose: !1,
        cookie_expiration: 365,
        upgrade: !1,
        disable_session_recording: !1,
        disable_persistence: !1,
        disable_web_experiments: !0,
        disable_surveys: !1,
        enable_recording_console_log: void 0,
        secure_cookie: (Y == null || (e = Y.location) === null || e === void 0 ? void 0 : e.protocol) === "https:",
        ip: !0,
        opt_out_capturing_by_default: !1,
        opt_out_persistence_by_default: !1,
        opt_out_useragent_filter: !1,
        opt_out_capturing_persistence_type: "localStorage",
        opt_out_capturing_cookie_prefix: null,
        opt_in_site_apps: !1,
        property_denylist: [],
        respect_dnt: !1,
        sanitize_properties: null,
        request_headers: {},
        inapp_protocol: "//",
        inapp_link_new_window: !1,
        request_batching: !0,
        properties_string_max_length: 65535,
        session_recording: {},
        mask_all_element_attributes: !1,
        mask_all_text: !1,
        mask_personal_data_properties: !1,
        custom_personal_data_properties: [],
        advanced_disable_decide: !1,
        advanced_disable_feature_flags: !1,
        advanced_disable_feature_flags_on_first_load: !1,
        advanced_disable_toolbar_metrics: !1,
        feature_flag_request_timeout_ms: 3e3,
        on_request_error: i => {
            var r = "Bad HTTP status: " + i.statusCode + " " + i.text;
            Je.error(r)
        }
        ,
        get_device_id: i => i,
        _onCapture: u8,
        capture_performance: void 0,
        name: "posthog",
        bootstrap: {},
        disable_compression: !1,
        session_idle_timeout_seconds: 1800,
        person_profiles: "identified_only",
        __add_tracing_headers: !1,
        before_send: void 0
    }
}
  , xO = e => {
    var t = {};
    et(e.process_person) || (t.person_profiles = e.process_person),
    et(e.xhr_headers) || (t.request_headers = e.xhr_headers),
    et(e.cookie_name) || (t.persistence_name = e.cookie_name),
    et(e.disable_cookie) || (t.disable_persistence = e.disable_cookie);
    var n = fr({}, t, e);
    return zn(e.property_blacklist) && (et(e.property_denylist) ? n.property_denylist = e.property_blacklist : zn(e.property_denylist) ? n.property_denylist = [...e.property_blacklist, ...e.property_denylist] : Je.error("Invalid value for property_denylist config: " + e.property_denylist)),
    n
}
  , h8 = class {
    constructor() {
        Ie(this, "__forceAllowLocalhost", !1)
    }
    get _forceAllowLocalhost() {
        return this.__forceAllowLocalhost
    }
    set _forceAllowLocalhost(t) {
        Je.error("WebPerformanceObserver is deprecated and has no impact on network capture. Use `_forceAllowLocalhostNetworkCapture` on `posthog.sessionRecording`"),
        this.__forceAllowLocalhost = t
    }
}
  , xp = class e {
    get decideEndpointWasHit() {
        var t, n;
        return (t = (n = this.featureFlags) === null || n === void 0 ? void 0 : n.hasLoadedFlags) !== null && t !== void 0 && t
    }
    constructor() {
        Ie(this, "webPerformance", new h8),
        Ie(this, "version", Ja.LIB_VERSION),
        Ie(this, "_internalEventEmitter", new _p),
        this.config = SO(),
        this.SentryIntegration = $m,
        this.sentryIntegration = t => function(n, i) {
            var r = dP(n, i);
            return {
                name: hP,
                processEvent: s => r(s)
            }
        }(this, t),
        this.__request_queue = [],
        this.__loaded = !1,
        this.analyticsDefaultEndpoint = "/e/",
        this._initialPageviewCaptured = !1,
        this._initialPersonProfilesConfig = null,
        this._cachedIdentify = null,
        this.featureFlags = new _m(this),
        this.toolbar = new Um(this),
        this.scrollManager = new t8(this),
        this.pageViewManager = new jm(this),
        this.surveys = new Qm(this),
        this.experiments = new a8(this),
        this.exceptions = new c8(this),
        this.rateLimiter = new Jm(this),
        this.requestRouter = new Wm(this),
        this.consent = new r8(this),
        this.people = {
            set: (t, n, i) => {
                var r = Ji(t) ? {
                    [t]: n
                } : t;
                this.setPersonProperties(r),
                i?.({})
            }
            ,
            set_once: (t, n, i) => {
                var r = Ji(t) ? {
                    [t]: n
                } : t;
                this.setPersonProperties(void 0, r),
                i?.({})
            }
        },
        this.on("eventCaptured", t => Je.info('send "'.concat(t?.event, '"'), t))
    }
    init(t, n, i) {
        if (i && i !== ch) {
            var r, s = (r = t5[i]) !== null && r !== void 0 ? r : new e;
            return s._init(t, n, i),
            t5[i] = s,
            t5[ch][i] = s,
            s
        }
        return this._init(t, n, i)
    }
    _init(t) {
        var n, i, r, s = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {}, o = arguments.length > 2 ? arguments[2] : void 0;
        if (et(t) || CT(t))
            return Je.critical("PostHog was initialized without a token. This likely indicates a misconfiguration. Please check the first argument passed to posthog.init()"),
            this;
        if (this.__loaded)
            return Je.warn("You have already initialized PostHog! Re-initializing is a no-op"),
            this;
        this.__loaded = !0,
        this.config = {},
        this._triggered_notifs = [],
        s.person_profiles && (this._initialPersonProfilesConfig = s.person_profiles),
        this.set_config(fr({}, SO(), xO(s), {
            name: o,
            token: t
        })),
        this.config.on_xhr_error && Je.error("on_xhr_error is deprecated. Use on_request_error instead"),
        this.compression = s.disable_compression ? void 0 : sa.GZipJS,
        this.persistence = new J1(this.config),
        this.sessionPersistence = this.config.persistence === "sessionStorage" || this.config.persistence === "memory" ? this.persistence : new J1(we(we({}, this.config), {}, {
            persistence: "sessionStorage"
        }));
        var a = we({}, this.persistence.props)
          , c = we({}, this.sessionPersistence.props);
        if (this._requestQueue = new Hm(S => this._send_retriable_request(S)),
        this._retryQueue = new Gm(this),
        this.__request_queue = [],
        this.config.__preview_experimental_cookieless_mode || (this.sessionManager = new Vm(this),
        this.sessionPropsManager = new Zm(this,this.sessionManager,this.persistence)),
        new i8(this).startIfEnabledOrStop(),
        this.siteApps = new l8(this),
        (n = this.siteApps) === null || n === void 0 || n.init(),
        this.config.__preview_experimental_cookieless_mode || (this.sessionRecording = new Lm(this),
        this.sessionRecording.startIfEnabledOrStop()),
        this.config.disable_scroll_properties || this.scrollManager.startMeasuringScrollPosition(),
        this.autocapture = new n8(this),
        this.autocapture.startIfEnabled(),
        this.surveys.loadIfEnabled(),
        this.heatmaps = new e8(this),
        this.heatmaps.startIfEnabled(),
        this.webVitalsAutocapture = new o8(this),
        this.exceptionObserver = new s8(this),
        this.exceptionObserver.startIfEnabled(),
        this.deadClicksAutocapture = new Sp(this,eK),
        this.deadClicksAutocapture.startIfEnabled(),
        Ja.DEBUG = Ja.DEBUG || this.config.debug,
        Ja.DEBUG && Je.info("Starting in debug mode", {
            this: this,
            config: s,
            thisC: we({}, this.config),
            p: a,
            s: c
        }),
        this._sync_opt_out_with_persistence(),
        ((i = s.bootstrap) === null || i === void 0 ? void 0 : i.distinctID) !== void 0) {
            var l, u, h = this.config.get_device_id(tl()), d = (l = s.bootstrap) !== null && l !== void 0 && l.isIdentifiedID ? h : s.bootstrap.distinctID;
            this.persistence.set_property(Ka, (u = s.bootstrap) !== null && u !== void 0 && u.isIdentifiedID ? "identified" : "anonymous"),
            this.register({
                distinct_id: s.bootstrap.distinctID,
                $device_id: d
            })
        }
        if (this._hasBootstrappedFeatureFlags()) {
            var f, g, p = Object.keys(((f = s.bootstrap) === null || f === void 0 ? void 0 : f.featureFlags) || {}).filter(S => {
                var w, k;
                return !((w = s.bootstrap) === null || w === void 0 || (k = w.featureFlags) === null || k === void 0 || !k[S])
            }
            ).reduce( (S, w) => {
                var k, B;
                return S[w] = ((k = s.bootstrap) === null || k === void 0 || (B = k.featureFlags) === null || B === void 0 ? void 0 : B[w]) || !1,
                S
            }
            , {}), v = Object.keys(((g = s.bootstrap) === null || g === void 0 ? void 0 : g.featureFlagPayloads) || {}).filter(S => p[S]).reduce( (S, w) => {
                var k, B, N, E;
                return (k = s.bootstrap) !== null && k !== void 0 && (B = k.featureFlagPayloads) !== null && B !== void 0 && B[w] && (S[w] = (N = s.bootstrap) === null || N === void 0 || (E = N.featureFlagPayloads) === null || E === void 0 ? void 0 : E[w]),
                S
            }
            , {});
            this.featureFlags.receivedFeatureFlags({
                featureFlags: p,
                featureFlagPayloads: v
            })
        }
        if (this.config.__preview_experimental_cookieless_mode)
            this.register_once({
                distinct_id: BT,
                $device_id: null
            }, "");
        else if (!this.get_distinct_id()) {
            var b = this.config.get_device_id(tl());
            this.register_once({
                distinct_id: b,
                $device_id: b
            }, ""),
            this.persistence.set_property(Ka, "anonymous")
        }
        return Y == null || (r = Y.addEventListener) === null || r === void 0 || r.call(Y, "onpagehide"in self ? "pagehide" : "unload", this._handle_unload.bind(this)),
        this.toolbar.maybeLoadToolbar(),
        s.segment ? WX(this, () => this._loaded()) : this._loaded(),
        Es(this.config._onCapture) && this.config._onCapture !== u8 && (Je.warn("onCapture is deprecated. Please use `before_send` instead"),
        this.on("eventCaptured", S => this.config._onCapture(S.event, S))),
        this
    }
    _onRemoteConfig(t) {
        var n, i, r, s, o, a, c, l, u;
        if (!qe || !qe.body)
            return Je.info("document not ready yet, trying again in 500 milliseconds..."),
            void setTimeout( () => {
                this._onRemoteConfig(t)
            }
            , 500);
        this.compression = void 0,
        t.supportedCompression && !this.config.disable_compression && (this.compression = Ft(t.supportedCompression, sa.GZipJS) ? sa.GZipJS : Ft(t.supportedCompression, sa.Base64) ? sa.Base64 : void 0),
        (n = t.analytics) !== null && n !== void 0 && n.endpoint && (this.analyticsDefaultEndpoint = t.analytics.endpoint),
        this.set_config({
            person_profiles: this._initialPersonProfilesConfig ? this._initialPersonProfilesConfig : t.defaultIdentifiedOnly ? "identified_only" : "always"
        }),
        (i = this.siteApps) === null || i === void 0 || i.onRemoteConfig(t),
        (r = this.sessionRecording) === null || r === void 0 || r.onRemoteConfig(t),
        (s = this.autocapture) === null || s === void 0 || s.onRemoteConfig(t),
        (o = this.heatmaps) === null || o === void 0 || o.onRemoteConfig(t),
        (a = this.surveys) === null || a === void 0 || a.onRemoteConfig(t),
        (c = this.webVitalsAutocapture) === null || c === void 0 || c.onRemoteConfig(t),
        (l = this.exceptionObserver) === null || l === void 0 || l.onRemoteConfig(t),
        (u = this.deadClicksAutocapture) === null || u === void 0 || u.onRemoteConfig(t)
    }
    _loaded() {
        try {
            this.config.loaded(this)
        } catch (t) {
            Je.critical("`loaded` function failed", t)
        }
        this._start_queue_if_opted_in(),
        this.config.capture_pageview && setTimeout( () => {
            this.consent.isOptedIn() && this._captureInitialPageview()
        }
        , 1),
        new Bm(this).load(),
        this.featureFlags.decide()
    }
    _start_queue_if_opted_in() {
        var t;
        this.has_opted_out_capturing() || this.config.request_batching && ((t = this._requestQueue) === null || t === void 0 || t.enable())
    }
    _dom_loaded() {
        this.has_opted_out_capturing() || il(this.__request_queue, t => this._send_retriable_request(t)),
        this.__request_queue = [],
        this._start_queue_if_opted_in()
    }
    _handle_unload() {
        var t, n;
        this.config.request_batching ? (this._shouldCapturePageleave() && this.capture("$pageleave"),
        (t = this._requestQueue) === null || t === void 0 || t.unload(),
        (n = this._retryQueue) === null || n === void 0 || n.unload()) : this._shouldCapturePageleave() && this.capture("$pageleave", null, {
            transport: "sendBeacon"
        })
    }
    _send_request(t) {
        this.__loaded && (CP ? this.__request_queue.push(t) : this.rateLimiter.isServerRateLimited(t.batchKey) || (t.transport = t.transport || this.config.api_transport,
        t.url = mp(t.url, {
            ip: this.config.ip ? 1 : 0
        }),
        t.headers = we({}, this.config.request_headers),
        t.compression = t.compression === "best-available" ? this.compression : t.compression,
        t.fetchOptions = t.fetchOptions || this.config.fetch_options,
        (n => {
            var i, r, s, o = we({}, n);
            o.timeout = o.timeout || 6e4,
            o.url = mp(o.url, {
                _: new Date().getTime().toString(),
                ver: Ja.LIB_VERSION,
                compression: o.compression
            });
            var a = (i = o.transport) !== null && i !== void 0 ? i : "fetch"
              , c = (r = (s = MO(e5, l => l.transport === a)) === null || s === void 0 ? void 0 : s.method) !== null && r !== void 0 ? r : e5[0].method;
            if (!c)
                throw new Error("No available transport method");
            c(o)
        }
        )(we(we({}, t), {}, {
            callback: n => {
                var i, r, s;
                this.rateLimiter.checkForLimiting(n),
                n.statusCode >= 400 && ((r = (s = this.config).on_request_error) === null || r === void 0 || r.call(s, n)),
                (i = t.callback) === null || i === void 0 || i.call(t, n)
            }
        }))))
    }
    _send_retriable_request(t) {
        this._retryQueue ? this._retryQueue.retriableRequest(t) : this._send_request(t)
    }
    _execute_array(t) {
        var n, i = [], r = [], s = [];
        il(t, a => {
            a && (n = a[0],
            zn(n) ? s.push(a) : Es(a) ? a.call(this) : zn(a) && n === "alias" ? i.push(a) : zn(a) && n.indexOf("capture") !== -1 && Es(this[n]) ? s.push(a) : r.push(a))
        }
        );
        var o = function(a, c) {
            il(a, function(l) {
                if (zn(l[0])) {
                    var u = c;
                    hn(l, function(h) {
                        u = u[h[0]].apply(u, h.slice(1))
                    })
                } else
                    this[l[0]].apply(this, l.slice(1))
            }, c)
        };
        o(i, this),
        o(r, this),
        o(s, this)
    }
    _hasBootstrappedFeatureFlags() {
        var t, n;
        return ((t = this.config.bootstrap) === null || t === void 0 ? void 0 : t.featureFlags) && Object.keys((n = this.config.bootstrap) === null || n === void 0 ? void 0 : n.featureFlags).length > 0 || !1
    }
    push(t) {
        this._execute_array([t])
    }
    capture(t, n, i) {
        var r;
        if (this.__loaded && this.persistence && this.sessionPersistence && this._requestQueue) {
            if (!this.consent.isOptedOut())
                if (!et(t) && Ji(t)) {
                    if (this.config.opt_out_useragent_filter || !this._is_bot()) {
                        var s = i != null && i.skip_client_rate_limiting ? void 0 : this.rateLimiter.clientRateLimitContext();
                        if (s == null || !s.isRateLimited) {
                            this.sessionPersistence.update_search_keyword(),
                            this.config.store_google && this.sessionPersistence.update_campaign_params(),
                            this.config.save_referrer && this.sessionPersistence.update_referrer_info(),
                            (this.config.store_google || this.config.save_referrer) && this.persistence.set_initial_person_info();
                            var o = new Date
                              , a = i?.timestamp || o
                              , c = tl()
                              , l = {
                                uuid: c,
                                event: t,
                                properties: this._calculate_event_properties(t, n || {}, a, c)
                            };
                            s && (l.properties.$lib_rate_limit_remaining_tokens = s.remainingTokens),
                            i?.$set && (l.$set = i?.$set);
                            var u = this._calculate_set_once_properties(i?.$set_once);
                            u && (l.$set_once = u),
                            (l = Yz(l, i != null && i._noTruncate ? null : this.config.properties_string_max_length)).timestamp = a,
                            et(i?.timestamp) || (l.properties.$event_time_override_provided = !0,
                            l.properties.$event_time_override_system_time = o);
                            var h = we(we({}, l.properties.$set), l.$set);
                            if (lh(h) || this.setPersonPropertiesForFlags(h),
                            !dn(this.config.before_send)) {
                                var d = this._runBeforeSend(l);
                                if (!d)
                                    return;
                                l = d
                            }
                            this._internalEventEmitter.emit("eventCaptured", l);
                            var f = {
                                method: "POST",
                                url: (r = i?._url) !== null && r !== void 0 ? r : this.requestRouter.endpointFor("api", this.analyticsDefaultEndpoint),
                                data: l,
                                compression: "best-available",
                                batchKey: i?._batchKey
                            };
                            return !this.config.request_batching || i && (i == null || !i._batchKey) || i != null && i.send_instantly ? this._send_retriable_request(f) : this._requestQueue.enqueue(f),
                            l
                        }
                        Je.critical("This capture call is ignored due to client rate limiting.")
                    }
                } else
                    Je.error("No event name provided to posthog.capture")
        } else
            Je.uninitializedWarning("posthog.capture")
    }
    _addCaptureHook(t) {
        return this.on("eventCaptured", n => t(n.event, n))
    }
    _calculate_event_properties(t, n, i, r) {
        if (i = i || new Date,
        !this.persistence || !this.sessionPersistence)
            return n;
        var s = this.persistence.remove_event_timer(t)
          , o = we({}, n);
        if (o.token = this.config.token,
        this.config.__preview_experimental_cookieless_mode && (o.$cookieless_mode = !0),
        t === "$snapshot") {
            var a = we(we({}, this.persistence.properties()), this.sessionPersistence.properties());
            return o.distinct_id = a.distinct_id,
            (!Ji(o.distinct_id) && !Fr(o.distinct_id) || CT(o.distinct_id)) && Je.error("Invalid distinct_id for replay event. This indicates a bug in your implementation"),
            o
        }
        var c, l = Hn.properties({
            maskPersonalDataProperties: this.config.mask_personal_data_properties,
            customPersonalDataProperties: this.config.custom_personal_data_properties
        });
        if (this.sessionManager) {
            var {sessionId: u, windowId: h} = this.sessionManager.checkAndGetSessionAndWindowId();
            o.$session_id = u,
            o.$window_id = h
        }
        if (this.sessionRecording && (o.$recording_status = this.sessionRecording.status),
        this.requestRouter.region === M0.CUSTOM && (o.$lib_custom_api_host = this.config.api_host),
        this.sessionPropsManager && this.config.__preview_send_client_session_params && (t === "$pageview" || t === "$pageleave" || t === "$autocapture")) {
            var d = this.sessionPropsManager.getSessionProps();
            o = fr(o, d)
        }
        if (c = t === "$pageview" ? this.pageViewManager.doPageView(i, r) : t === "$pageleave" ? this.pageViewManager.doPageLeave(i) : this.pageViewManager.doEvent(),
        o = fr(o, c),
        t === "$pageview" && qe && (o.title = qe.title),
        !et(s)) {
            var f = i.getTime() - s;
            o.$duration = parseFloat((f / 1e3).toFixed(3))
        }
        Li && this.config.opt_out_useragent_filter && (o.$browser_type = this._is_bot() ? "bot" : "browser"),
        (o = fr({}, l, this.persistence.properties(), this.sessionPersistence.properties(), o)).$is_identified = this._isIdentified(),
        zn(this.config.property_denylist) ? hn(this.config.property_denylist, function(v) {
            delete o[v]
        }) : Je.error("Invalid value for property_denylist config: " + this.config.property_denylist + " or property_blacklist config: " + this.config.property_blacklist);
        var g = this.config.sanitize_properties;
        g && (Je.error("sanitize_properties is deprecated. Use before_send instead"),
        o = g(o, t));
        var p = this._hasPersonProcessing();
        return o.$process_person_profile = p,
        p && this._requirePersonProcessing("_calculate_event_properties"),
        o
    }
    _calculate_set_once_properties(t) {
        if (!this.persistence || !this._hasPersonProcessing())
            return t;
        var n = fr({}, this.persistence.get_initial_props(), t || {})
          , i = this.config.sanitize_properties;
        return i && (Je.error("sanitize_properties is deprecated. Use before_send instead"),
        n = i(n, "$set_once")),
        lh(n) ? void 0 : n
    }
    register(t, n) {
        var i;
        (i = this.persistence) === null || i === void 0 || i.register(t, n)
    }
    register_once(t, n, i) {
        var r;
        (r = this.persistence) === null || r === void 0 || r.register_once(t, n, i)
    }
    register_for_session(t) {
        var n;
        (n = this.sessionPersistence) === null || n === void 0 || n.register(t)
    }
    unregister(t) {
        var n;
        (n = this.persistence) === null || n === void 0 || n.unregister(t)
    }
    unregister_for_session(t) {
        var n;
        (n = this.sessionPersistence) === null || n === void 0 || n.unregister(t)
    }
    _register_single(t, n) {
        this.register({
            [t]: n
        })
    }
    getFeatureFlag(t, n) {
        return this.featureFlags.getFeatureFlag(t, n)
    }
    getFeatureFlagPayload(t) {
        var n = this.featureFlags.getFeatureFlagPayload(t);
        try {
            return JSON.parse(n)
        } catch {
            return n
        }
    }
    isFeatureEnabled(t, n) {
        return this.featureFlags.isFeatureEnabled(t, n)
    }
    reloadFeatureFlags() {
        this.featureFlags.reloadFeatureFlags()
    }
    updateEarlyAccessFeatureEnrollment(t, n) {
        this.featureFlags.updateEarlyAccessFeatureEnrollment(t, n)
    }
    getEarlyAccessFeatures(t) {
        var n = arguments.length > 1 && arguments[1] !== void 0 && arguments[1];
        return this.featureFlags.getEarlyAccessFeatures(t, n)
    }
    on(t, n) {
        return this._internalEventEmitter.on(t, n)
    }
    onFeatureFlags(t) {
        return this.featureFlags.onFeatureFlags(t)
    }
    onSessionId(t) {
        var n, i;
        return (n = (i = this.sessionManager) === null || i === void 0 ? void 0 : i.onSessionId(t)) !== null && n !== void 0 ? n : () => {}
    }
    getSurveys(t) {
        var n = arguments.length > 1 && arguments[1] !== void 0 && arguments[1];
        this.surveys.getSurveys(t, n)
    }
    getActiveMatchingSurveys(t) {
        var n = arguments.length > 1 && arguments[1] !== void 0 && arguments[1];
        this.surveys.getActiveMatchingSurveys(t, n)
    }
    renderSurvey(t, n) {
        this.surveys.renderSurvey(t, n)
    }
    canRenderSurvey(t) {
        this.surveys.canRenderSurvey(t)
    }
    getNextSurveyStep(t, n, i) {
        return this.surveys.getNextSurveyStep(t, n, i)
    }
    identify(t, n, i) {
        if (!this.__loaded || !this.persistence)
            return Je.uninitializedWarning("posthog.identify");
        if (Fr(t) && (t = t.toString(),
        Je.warn("The first argument to posthog.identify was a number, but it should be a string. It has been converted to a string.")),
        t) {
            if (["distinct_id", "distinctid"].includes(t.toLowerCase()))
                Je.critical('The string "'.concat(t, '" was set in posthog.identify which indicates an error. This ID should be unique to the user and not a hardcoded string.'));
            else if (this._requirePersonProcessing("posthog.identify")) {
                var r = this.get_distinct_id();
                if (this.register({
                    $user_id: t
                }),
                !this.get_property("$device_id")) {
                    var s = r;
                    this.register_once({
                        $had_persisted_distinct_id: !0,
                        $device_id: s
                    }, "")
                }
                t !== r && t !== this.get_property(j1) && (this.unregister(j1),
                this.register({
                    distinct_id: t
                }));
                var o = (this.persistence.get_property(Ka) || "anonymous") === "anonymous";
                t !== r && o ? (this.persistence.set_property(Ka, "identified"),
                this.setPersonPropertiesForFlags(n || {}, !1),
                this.capture("$identify", {
                    distinct_id: t,
                    $anon_distinct_id: r
                }, {
                    $set: n || {},
                    $set_once: i || {}
                }),
                this.featureFlags.setAnonymousDistinctId(r),
                this._cachedIdentify = sm(t, n, i)) : (n || i) && (this._cachedIdentify !== sm(t, n, i) ? (this.setPersonProperties(n, i),
                this._cachedIdentify = sm(t, n, i)) : Je.info("A duplicate posthog.identify call was made with the same properties. It has been ignored.")),
                t !== r && (this.reloadFeatureFlags(),
                this.unregister(ap))
            }
        } else
            Je.error("Unique user id has not been set in posthog.identify")
    }
    setPersonProperties(t, n) {
        (t || n) && this._requirePersonProcessing("posthog.setPersonProperties") && (this.setPersonPropertiesForFlags(t || {}),
        this.capture("$set", {
            $set: t || {},
            $set_once: n || {}
        }))
    }
    group(t, n, i) {
        if (t && n) {
            if (this._requirePersonProcessing("posthog.group")) {
                var r = this.getGroups();
                r[t] !== n && this.resetGroupPropertiesForFlags(t),
                this.register({
                    $groups: we(we({}, r), {}, {
                        [t]: n
                    })
                }),
                i && (this.capture("$groupidentify", {
                    $group_type: t,
                    $group_key: n,
                    $group_set: i
                }),
                this.setGroupPropertiesForFlags({
                    [t]: i
                })),
                r[t] === n || i || this.reloadFeatureFlags()
            }
        } else
            Je.error("posthog.group requires a group type and group key")
    }
    resetGroups() {
        this.register({
            $groups: {}
        }),
        this.resetGroupPropertiesForFlags(),
        this.reloadFeatureFlags()
    }
    setPersonPropertiesForFlags(t) {
        var n = !(arguments.length > 1 && arguments[1] !== void 0) || arguments[1];
        this.featureFlags.setPersonPropertiesForFlags(t, n)
    }
    resetPersonPropertiesForFlags() {
        this.featureFlags.resetPersonPropertiesForFlags()
    }
    setGroupPropertiesForFlags(t) {
        var n = !(arguments.length > 1 && arguments[1] !== void 0) || arguments[1];
        this._requirePersonProcessing("posthog.setGroupPropertiesForFlags") && this.featureFlags.setGroupPropertiesForFlags(t, n)
    }
    resetGroupPropertiesForFlags(t) {
        this.featureFlags.resetGroupPropertiesForFlags(t)
    }
    reset(t) {
        var n, i, r, s, o;
        if (Je.info("reset"),
        !this.__loaded)
            return Je.uninitializedWarning("posthog.reset");
        var a = this.get_property("$device_id");
        if (this.consent.reset(),
        (n = this.persistence) === null || n === void 0 || n.clear(),
        (i = this.sessionPersistence) === null || i === void 0 || i.clear(),
        (r = this.surveys) === null || r === void 0 || r.reset(),
        (s = this.persistence) === null || s === void 0 || s.set_property(Ka, "anonymous"),
        (o = this.sessionManager) === null || o === void 0 || o.resetSessionId(),
        this._cachedIdentify = null,
        this.config.__preview_experimental_cookieless_mode)
            this.register_once({
                distinct_id: BT,
                $device_id: null
            }, "");
        else {
            var c = this.config.get_device_id(tl());
            this.register_once({
                distinct_id: c,
                $device_id: t ? c : a
            }, "")
        }
    }
    get_distinct_id() {
        return this.get_property("distinct_id")
    }
    getGroups() {
        return this.get_property("$groups") || {}
    }
    get_session_id() {
        var t, n;
        return (t = (n = this.sessionManager) === null || n === void 0 ? void 0 : n.checkAndGetSessionAndWindowId(!0).sessionId) !== null && t !== void 0 ? t : ""
    }
    get_session_replay_url(t) {
        if (!this.sessionManager)
            return "";
        var {sessionId: n, sessionStartTimestamp: i} = this.sessionManager.checkAndGetSessionAndWindowId(!0)
          , r = this.requestRouter.endpointFor("ui", "/project/".concat(this.config.token, "/replay/").concat(n));
        if (t != null && t.withTimestamp && i) {
            var s, o = (s = t.timestampLookBack) !== null && s !== void 0 ? s : 10;
            if (!i)
                return r;
            var a = Math.max(Math.floor((new Date().getTime() - i) / 1e3) - o, 0);
            r += "?t=".concat(a)
        }
        return r
    }
    alias(t, n) {
        return t === this.get_property(kO) ? (Je.critical("Attempting to create alias for existing People user - aborting."),
        -2) : this._requirePersonProcessing("posthog.alias") ? (et(n) && (n = this.get_distinct_id()),
        t !== n ? (this._register_single(j1, t),
        this.capture("$create_alias", {
            alias: t,
            distinct_id: n
        })) : (Je.warn("alias matches current distinct_id - skipping api call."),
        this.identify(t),
        -1)) : void 0
    }
    set_config(t) {
        var n, i, r, s, o = we({}, this.config);
        Xn(t) && (fr(this.config, xO(t)),
        (n = this.persistence) === null || n === void 0 || n.update_config(this.config, o),
        this.sessionPersistence = this.config.persistence === "sessionStorage" || this.config.persistence === "memory" ? this.persistence : new J1(we(we({}, this.config), {}, {
            persistence: "sessionStorage"
        })),
        Si.is_supported() && Si.get("ph_debug") === "true" && (this.config.debug = !0),
        this.config.debug && (Ja.DEBUG = !0,
        Je.info("set_config", {
            config: t,
            oldConfig: o,
            newConfig: we({}, this.config)
        })),
        (i = this.sessionRecording) === null || i === void 0 || i.startIfEnabledOrStop(),
        (r = this.autocapture) === null || r === void 0 || r.startIfEnabled(),
        (s = this.heatmaps) === null || s === void 0 || s.startIfEnabled(),
        this.surveys.loadIfEnabled(),
        this._sync_opt_out_with_persistence())
    }
    startSessionRecording(t) {
        var n = t === !0
          , i = {
            sampling: n || !(t == null || !t.sampling),
            linked_flag: n || !(t == null || !t.linked_flag),
            url_trigger: n || !(t == null || !t.url_trigger),
            event_trigger: n || !(t == null || !t.event_trigger)
        };
        if (Object.values(i).some(Boolean)) {
            var r, s, o, a, c;
            (r = this.sessionManager) === null || r === void 0 || r.checkAndGetSessionAndWindowId(),
            i.sampling && ((s = this.sessionRecording) === null || s === void 0 || s.overrideSampling()),
            i.linked_flag && ((o = this.sessionRecording) === null || o === void 0 || o.overrideLinkedFlag()),
            i.url_trigger && ((a = this.sessionRecording) === null || a === void 0 || a.overrideTrigger("url")),
            i.event_trigger && ((c = this.sessionRecording) === null || c === void 0 || c.overrideTrigger("event"))
        }
        this.set_config({
            disable_session_recording: !1
        })
    }
    stopSessionRecording() {
        this.set_config({
            disable_session_recording: !0
        })
    }
    sessionRecordingStarted() {
        var t;
        return !((t = this.sessionRecording) === null || t === void 0 || !t.started)
    }
    captureException(t, n) {
        var i, r = new Error("PostHog syntheticException"), s = Es((i = _t.__PosthogExtensions__) === null || i === void 0 ? void 0 : i.parseErrorAsProperties) ? _t.__PosthogExtensions__.parseErrorAsProperties([t.message, void 0, void 0, void 0, t], {
            syntheticException: r
        }) : we({
            $exception_level: "error",
            $exception_list: [{
                type: t.name,
                value: t.message,
                mechanism: {
                    handled: !0,
                    synthetic: !1
                }
            }]
        }, n);
        this.exceptions.sendExceptionEvent(s)
    }
    loadToolbar(t) {
        return this.toolbar.loadToolbar(t)
    }
    get_property(t) {
        var n;
        return (n = this.persistence) === null || n === void 0 ? void 0 : n.props[t]
    }
    getSessionProperty(t) {
        var n;
        return (n = this.sessionPersistence) === null || n === void 0 ? void 0 : n.props[t]
    }
    toString() {
        var t, n = (t = this.config.name) !== null && t !== void 0 ? t : ch;
        return n !== ch && (n = ch + "." + n),
        n
    }
    _isIdentified() {
        var t, n;
        return ((t = this.persistence) === null || t === void 0 ? void 0 : t.get_property(Ka)) === "identified" || ((n = this.sessionPersistence) === null || n === void 0 ? void 0 : n.get_property(Ka)) === "identified"
    }
    _hasPersonProcessing() {
        var t, n, i, r;
        return !(this.config.person_profiles === "never" || this.config.person_profiles === "identified_only" && !this._isIdentified() && lh(this.getGroups()) && ((t = this.persistence) === null || t === void 0 || (n = t.props) === null || n === void 0 || !n[j1]) && ((i = this.persistence) === null || i === void 0 || (r = i.props) === null || r === void 0 || !r[cp]))
    }
    _shouldCapturePageleave() {
        return this.config.capture_pageleave === !0 || this.config.capture_pageleave === "if_capture_pageview" && this.config.capture_pageview
    }
    createPersonProfile() {
        this._hasPersonProcessing() || this._requirePersonProcessing("posthog.createPersonProfile") && this.setPersonProperties({}, {})
    }
    _requirePersonProcessing(t) {
        return this.config.person_profiles === "never" ? (Je.error(t + ' was called, but process_person is set to "never". This call will be ignored.'),
        !1) : (this._register_single(cp, !0),
        !0)
    }
    _sync_opt_out_with_persistence() {
        var t, n, i, r, s = this.consent.isOptedOut(), o = this.config.opt_out_persistence_by_default, a = this.config.disable_persistence || s && !!o;
        ((t = this.persistence) === null || t === void 0 ? void 0 : t.disabled) !== a && ((i = this.persistence) === null || i === void 0 || i.set_disabled(a)),
        ((n = this.sessionPersistence) === null || n === void 0 ? void 0 : n.disabled) !== a && ((r = this.sessionPersistence) === null || r === void 0 || r.set_disabled(a))
    }
    opt_in_capturing(t) {
        var n;
        this.consent.optInOut(!0),
        this._sync_opt_out_with_persistence(),
        (et(t?.captureEventName) || t != null && t.captureEventName) && this.capture((n = t?.captureEventName) !== null && n !== void 0 ? n : "$opt_in", t?.captureProperties, {
            send_instantly: !0
        }),
        this.config.capture_pageview && this._captureInitialPageview()
    }
    opt_out_capturing() {
        this.consent.optInOut(!1),
        this._sync_opt_out_with_persistence()
    }
    has_opted_in_capturing() {
        return this.consent.isOptedIn()
    }
    has_opted_out_capturing() {
        return this.consent.isOptedOut()
    }
    clear_opt_in_out_capturing() {
        this.consent.reset(),
        this._sync_opt_out_with_persistence()
    }
    _is_bot() {
        return Cs ? wP(Cs, this.config.custom_blocked_useragents) : void 0
    }
    _captureInitialPageview() {
        qe && !this._initialPageviewCaptured && (this._initialPageviewCaptured = !0,
        this.capture("$pageview", {
            title: qe.title
        }, {
            send_instantly: !0
        }))
    }
    debug(t) {
        t === !1 ? (Y?.console.log("You've disabled debug mode."),
        localStorage && localStorage.removeItem("ph_debug"),
        this.set_config({
            debug: !1
        })) : (Y?.console.log("You're now in debug mode. All calls to PostHog will be logged in your console.\nYou can disable this with `posthog.debug(false)`."),
        localStorage && localStorage.setItem("ph_debug", "true"),
        this.set_config({
            debug: !0
        }))
    }
    _runBeforeSend(t) {
        if (dn(this.config.before_send))
            return t;
        var n = zn(this.config.before_send) ? this.config.before_send : [this.config.before_send]
          , i = t;
        for (var r of n) {
            if (i = r(i),
            dn(i)) {
                var s = "Event '".concat(t.event, "' was rejected in beforeSend function");
                return zz(t.event) ? Je.warn("".concat(s, ". This can cause unexpected behavior.")) : Je.info(s),
                null
            }
            i.properties && !lh(i.properties) || Je.warn("Event '".concat(t.event, "' has no properties after beforeSend function, this is likely an error."))
        }
        return i
    }
    getPageViewId() {
        var t;
        return (t = this.pageViewManager._currentPageview) === null || t === void 0 ? void 0 : t.pageViewId
    }
}
;
(function(e, t) {
    for (var n = 0; n < t.length; n++)
        e.prototype[t[n]] = Kz(e.prototype[t[n]])
}
)(xp, ["identify"]);
var wO, x8 = (wO = t5[ch] = new xp,
function() {
    function e() {
        e.done || (e.done = !0,
        CP = !1,
        hn(t5, function(t) {
            t._dom_loaded()
        }))
    }
    qe != null && qe.addEventListener && (qe.readyState === "complete" ? e() : qe.addEventListener("DOMContentLoaded", e, !1)),
    Y && Za(Y, "load", e, !0)
}(),
wO);
var ol = ( () => {
    let t = class t {
        constructor() {
            this.environment = z(xn),
            this.environment.postHog.active && x8.init(this.environment.postHog._p, {
                api_host: this.environment.postHog.url
            })
        }
        urlCategoryExtractor(i) {
            i = i.replace(this.environment.setting.mtsPath, "");
            let r, s = "", o = "", a = Object.values(Rd);
            if (a.some(c => i.includes(c))) {
                s = a.find(l => i.includes(l)),
                r = a.find(l => i.includes(l)).split("/")[0];
                let c = i.replace(s, "").split("?");
                o = c.length ? c[0] : "",
                o.includes("/IR") && (o = o.split("/IR")[0])
            }
            return (!r || !o) && (i.includes("/") ? (r = i.split("/")[0],
            o = i.split("/")[1]) : (r = i,
            o = i)),
            {
                module: r,
                requestName: o
            }
        }
        sendApiRequestType(i, r) {
            try {
                if (this.environment.env === Yt.PROD) {
                    r.latency >= 1 && (r.latency = Math.round(r.latency));
                    let s = this.urlCategoryExtractor(i);
                    if (s.requestName.includes("server-time"))
                        return;
                    gtag("event", "request", C(C({}, s), r)),
                    this.environment.postHog.active && x8.capture("request", C(C({}, s), r))
                }
            } catch (s) {
                console.log(s)
            }
        }
        sendGtagEvent(i, r, s) {
            try {
                this.environment.env === Yt.PROD && (r ? gtag("event", i, {
                    eventKey: s
                }) : gtag("event", i))
            } catch (o) {
                console.log(o)
            }
        }
    }
    ;
    t.\u0275fac = function(r) {
        return new (r || t)
    }
    ,
    t.\u0275prov = re({
        token: t,
        factory: t.\u0275fac,
        providedIn: "root"
    });
    let e = t;
    return e
}
)();
var r4e = ( () => {
    let t = class t {
        constructor(i, r) {
            this.authService = i,
            this.gtagService = r,
            this.startupService = z(yh),
            this.router = z(Ui)
        }
        canActivate(i, r) {
            return this.authService.getUser.then( () => {
                let s = r.url === `/${ei.LOGIN}`
                  , o = this.startupService.authenticationType;
                return o === Ts.Primary && s ? (this.router.navigateByUrl(""),
                !1) : o === Ts.Secondary && s || this.authService.isLoggedIn() ? !0 : (this.handleUnauthenticatedAccess(r.url),
                !1)
            }
            )
        }
        handleUnauthenticatedAccess(i) {
            this.gtagService.sendGtagEvent("redirect-to-account"),
            localStorage.setItem("redirect-after-login", i),
            this.authService.startAuthentication()
        }
    }
    ;
    t.\u0275fac = function(r) {
        return new (r || t)(xe(Dr),xe(ol))
    }
    ,
    t.\u0275prov = re({
        token: t,
        factory: t.\u0275fac,
        providedIn: "root"
    });
    let e = t;
    return e
}
)();
var g4e = ( () => {
    let t = class t {
        constructor() {
            this.indicatorStatusSubject = new lt,
            this.indicatorStatus$ = this.indicatorStatusSubject.asObservable(),
            this.closeIndicatorSubject = new lt,
            this.closeIndicator$ = this.closeIndicatorSubject.asObservable()
        }
        changeIndicatorStatus(i) {
            this.indicatorStatusSubject.next(i)
        }
        closeIndicator() {
            this.closeIndicatorSubject.next(!0)
        }
    }
    ;
    t.\u0275fac = function(r) {
        return new (r || t)
    }
    ,
    t.\u0275prov = re({
        token: t,
        factory: t.\u0275fac,
        providedIn: "root"
    });
    let e = t;
    return e
}
)();
var c5 = "Service workers are disabled or not supported by this browser";
function lK(e) {
    return R0( () => Hr(new Error(e)))
}
var bh = class {
    serviceWorker;
    worker;
    registration;
    events;
    constructor(t) {
        if (this.serviceWorker = t,
        !t)
            this.worker = this.events = this.registration = lK(c5);
        else {
            let i = sn(t, "controllerchange").pipe($e( () => t.controller))
              , r = R0( () => Be(t.controller))
              , s = I0(r, i);
            this.worker = s.pipe(mt(u => !!u)),
            this.registration = this.worker.pipe(Vt( () => t.getRegistration()));
            let l = sn(t, "message").pipe($e(u => u.data)).pipe(mt(u => u && u.type)).pipe(sv());
            l.connect(),
            this.events = l
        }
    }
    postMessage(t, n) {
        return this.worker.pipe(Lt(1), Ge(i => {
            i.postMessage(C({
                action: t
            }, n))
        }
        )).toPromise().then( () => {}
        )
    }
    postMessageWithOperation(t, n, i) {
        let r = this.waitForOperationCompleted(i)
          , s = this.postMessage(t, n);
        return Promise.all([s, r]).then( ([,o]) => o)
    }
    generateNonce() {
        return Math.round(Math.random() * 1e7)
    }
    eventsOfType(t) {
        let n;
        return typeof t == "string" ? n = i => i.type === t : n = i => t.includes(i.type),
        this.events.pipe(mt(n))
    }
    nextEventOfType(t) {
        return this.eventsOfType(t).pipe(Lt(1))
    }
    waitForOperationCompleted(t) {
        return this.eventsOfType("OPERATION_COMPLETED").pipe(mt(n => n.nonce === t), Lt(1), $e(n => {
            if (n.result !== void 0)
                return n.result;
            throw new Error(n.error)
        }
        )).toPromise()
    }
    get isEnabled() {
        return !!this.serviceWorker
    }
}
  , Op = ( () => {
    class e {
        sw;
        messages;
        notificationClicks;
        subscription;
        get isEnabled() {
            return this.sw.isEnabled
        }
        pushManager = null;
        subscriptionChanges = new lt;
        constructor(n) {
            if (this.sw = n,
            !n.isEnabled) {
                this.messages = hl,
                this.notificationClicks = hl,
                this.subscription = hl;
                return
            }
            this.messages = this.sw.eventsOfType("PUSH").pipe($e(r => r.data)),
            this.notificationClicks = this.sw.eventsOfType("NOTIFICATION_CLICK").pipe($e(r => r.data)),
            this.pushManager = this.sw.registration.pipe($e(r => r.pushManager));
            let i = this.pushManager.pipe(Vt(r => r.getSubscription()));
            this.subscription = nc(i, this.subscriptionChanges)
        }
        requestSubscription(n) {
            if (!this.sw.isEnabled || this.pushManager === null)
                return Promise.reject(new Error(c5));
            let i = {
                userVisibleOnly: !0
            }
              , r = this.decodeBase64(n.serverPublicKey.replace(/_/g, "/").replace(/-/g, "+"))
              , s = new Uint8Array(new ArrayBuffer(r.length));
            for (let o = 0; o < r.length; o++)
                s[o] = r.charCodeAt(o);
            return i.applicationServerKey = s,
            this.pushManager.pipe(Vt(o => o.subscribe(i)), Lt(1)).toPromise().then(o => (this.subscriptionChanges.next(o),
            o))
        }
        unsubscribe() {
            if (!this.sw.isEnabled)
                return Promise.reject(new Error(c5));
            let n = i => {
                if (i === null)
                    throw new Error("Not subscribed to push notifications.");
                return i.unsubscribe().then(r => {
                    if (!r)
                        throw new Error("Unsubscribe failed!");
                    this.subscriptionChanges.next(null)
                }
                )
            }
            ;
            return this.subscription.pipe(Lt(1), Vt(n)).toPromise()
        }
        decodeBase64(n) {
            return atob(n)
        }
        static \u0275fac = function(i) {
            return new (i || e)(xe(bh))
        }
        ;
        static \u0275prov = re({
            token: e,
            factory: e.\u0275fac
        })
    }
    return e
}
)()
  , Pp = ( () => {
    class e {
        sw;
        versionUpdates;
        unrecoverable;
        get isEnabled() {
            return this.sw.isEnabled
        }
        constructor(n) {
            if (this.sw = n,
            !n.isEnabled) {
                this.versionUpdates = hl,
                this.unrecoverable = hl;
                return
            }
            this.versionUpdates = this.sw.eventsOfType(["VERSION_DETECTED", "VERSION_INSTALLATION_FAILED", "VERSION_READY", "NO_NEW_VERSION_DETECTED"]),
            this.unrecoverable = this.sw.eventsOfType("UNRECOVERABLE_STATE")
        }
        checkForUpdate() {
            if (!this.sw.isEnabled)
                return Promise.reject(new Error(c5));
            let n = this.sw.generateNonce();
            return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES", {
                nonce: n
            }, n)
        }
        activateUpdate() {
            if (!this.sw.isEnabled)
                return Promise.reject(new Error(c5));
            let n = this.sw.generateNonce();
            return this.sw.postMessageWithOperation("ACTIVATE_UPDATE", {
                nonce: n
            }, n)
        }
        static \u0275fac = function(i) {
            return new (i || e)(xe(bh))
        }
        ;
        static \u0275prov = re({
            token: e,
            factory: e.\u0275fac
        })
    }
    return e
}
)();
var TP = new Ze("");
function uK(e, t, n, i) {
    return () => {
        if (!(pc(i) && "serviceWorker"in navigator && n.enabled !== !1))
            return;
        let r = e.get(Rn)
          , s = e.get(ua);
        r.runOutsideAngular( () => {
            let a = navigator.serviceWorker
              , c = () => a.controller?.postMessage({
                action: "INITIALIZE"
            });
            a.addEventListener("controllerchange", c),
            s.onDestroy( () => {
                a.removeEventListener("controllerchange", c)
            }
            )
        }
        );
        let o;
        if (typeof n.registrationStrategy == "function")
            o = n.registrationStrategy();
        else {
            let[a,...c] = (n.registrationStrategy || "registerWhenStable:30000").split(":");
            switch (a) {
            case "registerImmediately":
                o = Be(null);
                break;
            case "registerWithDelay":
                o = OP(+c[0] || 0);
                break;
            case "registerWhenStable":
                let l = Qn(e.get(ua).whenStable());
                o = c[0] ? nc(l, OP(+c[0])) : l;
                break;
            default:
                throw new Error(`Unknown ServiceWorker registration strategy: ${n.registrationStrategy}`)
            }
        }
        r.runOutsideAngular( () => o.pipe(Lt(1)).subscribe( () => navigator.serviceWorker.register(t, {
            scope: n.scope
        }).catch(a => console.error("Service worker registration failed with:", a))))
    }
}
function OP(e) {
    return Be(null).pipe(ss(e))
}
function hK(e, t) {
    return new bh(pc(t) && e.enabled !== !1 ? navigator.serviceWorker : void 0)
}
var a5 = class {
    enabled;
    scope;
    registrationStrategy
}
;
function dK(e, t={}) {
    return B0([Op, Pp, {
        provide: TP,
        useValue: e
    }, {
        provide: a5,
        useValue: t
    }, {
        provide: bh,
        useFactory: hK,
        deps: [a5, zs]
    }, {
        provide: kh,
        useFactory: uK,
        deps: [an, TP, a5, zs],
        multi: !0
    }])
}
var w4e = ( () => {
    class e {
        static register(n, i={}) {
            return {
                ngModule: e,
                providers: [dK(n, i)]
            }
        }
        static \u0275fac = function(i) {
            return new (i || e)
        }
        ;
        static \u0275mod = ir({
            type: e
        });
        static \u0275inj = nr({
            providers: [Op, Pp]
        })
    }
    return e
}
)();
var M4e = ( () => {
    let t = class t {
        constructor(i, r, s, o) {
            this.update = r,
            this.notification = s,
            this.http = o,
            this.newVersionSubject = new Ne(!1),
            this.newVersionAvailable$ = this.newVersionSubject.asObservable(),
            i.subscription.subscribe(),
            i.messages.subscribe()
        }
        subscribeToUpdateApp() {
            this.update.versionUpdates.pipe(mt(i => i.type === "VERSION_READY"), Vt(i => this.checkAppConfig(i))).subscribe()
        }
        checkAppConfig(i) {
            return this.http.get("./app-config.json").pipe(Ge(r => {
                r.showNewVersionNotify && (this.handleNotification(),
                this.callForNewVersion()),
                r.reloadWhenNewVersionUploaded && this.reloadApplication()
            }
            ), on( () => Be({})))
        }
        handleNotification() {
            let i = "\u0646\u0633\u062E\u0647 \u062C\u062F\u06CC\u062F \u062F\u0631 \u062F\u0633\u062A\u0631\u0633 \u0627\u0633\u062A";
            this.notification.alert(i, ii.warning, !1, () => location.reload(), "\u0628\u0647\u200C\u0631\u0648\u0632\u0631\u0633\u0627\u0646\u06CC"),
            this.notification.notif({
                title: "\u0627\u06CC\u0632\u06CC \u062A\u0631\u06CC\u062F\u0631",
                body: i,
                defaultUrl: `/${ei.MENU_ROUTE}`
            })
        }
        reloadApplication() {
            window.location.reload()
        }
        callForNewVersion() {
            this.newVersionSubject.next(!0)
        }
    }
    ;
    t.\u0275fac = function(r) {
        return new (r || t)(xe(Op),xe(Pp),xe(Us),xe(i3))
    }
    ,
    t.\u0275prov = re({
        token: t,
        factory: t.\u0275fac,
        providedIn: "root"
    });
    let e = t;
    return e
}
)();
var V4e = ( () => {
    let t = class t extends gn {
        constructor() {
            super(),
            this.scriptLoaderService = z(V9),
            this.accountService = z(mo),
            this.userService = z(Wr),
            this.notifyService = z(Us),
            this.isCreatedRocketSubject = new Ne(!1)
        }
        get rocketScriptLoaded() {
            return this.scriptLoaderService.scripts[ah] ? this.scriptLoaderService.scripts[ah].loaded : !1
        }
        subscribeToLoadRocket() {
            this.environment.chatBot.isActive && (this.loadRocket(),
            this.scriptLoaderService.rocketLoaded$.pipe(Ge(i => {
                i && this.subscribeRocketToUserCheck()
            }
            )).subscribe())
        }
        loadRocket() {
            this.scriptLoaderService.load(...pT)
        }
        loadJquery() {}
        subscribeRocketToUserCheck() {
            this.userService.userChecked$.pipe(Ge(i => {
                i && this.configRocket()
            }
            )).subscribe()
        }
        configRocket() {
            this.accountService?.userAccountInfo?.value?.customerIsin && (this.userId = this.accountService?.userAccountInfo?.value?.pk,
            this.isCreatedRocketSubject.value || (this.configRocketSettings(this.environment.chatBot.url, this.userId),
            this.isCreatedRocketSubject.next(!0)))
        }
        loadRocketByRoute() {
            this.isCreatedRocketSubject.subscribe(i => {
                i && this.runInit()
            }
            )
        }
        runInit() {
            window.RocketChat(function() {
                this.restore()
            })
        }
        rocket() {
            if (!this.environment.chatBot.isActive) {
                this.notifyService.alert("\u062F\u0631 \u062D\u0627\u0644 \u062D\u0627\u0636\u0631 \u0627\u0645\u06A9\u0627\u0646 \u06AF\u0641\u062A\u06AF\u0648\u06CC \u0622\u0646\u0644\u0627\u06CC\u0646 \u0641\u0631\u0627\u0647\u0645 \u0646\u0645\u06CC\u200C\u0628\u0627\u0634\u062F\u060C \u062C\u0647\u062A \u067E\u0634\u062A\u06CC\u0628\u0627\u0646\u06CC \u0628\u0627 8700 \u062A\u0645\u0627\u0633 \u0628\u06AF\u06CC\u0631\u06CC\u062F", ii.warning);
                return
            }
            this.runInit()
        }
        configRocketSettings(i, r) {
            window.RocketChat = function(o) {
                window.RocketChat._.push(o)
            }
            ,
            window.RocketChat._ = [],
            window.RocketChat.url = i;
            let s = document.createElement("script");
            s.async = !0,
            s.src = `${i}/rocketchat-livechat.min.js?=${new Date().getTime()}`,
            document.getElementsByTagName("script")[0].parentNode.insertBefore(s, document.getElementsByTagName("script")[0]),
            window.RocketChat(function() {
                this.initialize({
                    guid: r
                })
            })
        }
    }
    ;
    t.\u0275fac = function(r) {
        return new (r || t)
    }
    ,
    t.\u0275prov = re({
        token: t,
        factory: t.\u0275fac,
        providedIn: "root"
    });
    let e = t;
    return e
}
)();
var j4e = ( () => {
    let t = class t {
        preload(i, r) {
            return i.data && i.data.preload ? li(5e3).pipe(Vt( () => r())) : Be(null)
        }
    }
    ;
    t.\u0275fac = function(r) {
        return new (r || t)
    }
    ,
    t.\u0275prov = re({
        token: t,
        factory: t.\u0275fac,
        providedIn: "root"
    });
    let e = t;
    return e
}
)();
var yh = ( () => {
    let t = class t {
        get appSettingUrl() {
            return this.environment.setting.appSettingsUrl + "auth"
        }
        constructor(i) {
            this.environment = i,
            this.retryTimes = 100,
            this.previousSelectedUrls = [],
            this.authenticationType = Ts.Primary
        }
        getApiEndpoints() {
            return this.getAuthenticationType().toPromise()
        }
        getAuthenticationType() {
            return this.authenticationType = Ts.Primary,
            Be(null)
        }
        randomUrl(i) {
            let r = i.length;
            if (r == 0)
                return "";
            if (r == 1)
                return i[0];
            {
                let s = Math.floor(Math.random() * r);
                return i[s]
            }
        }
    }
    ;
    t.\u0275fac = function(r) {
        return new (r || t)(xe(xn))
    }
    ,
    t.\u0275prov = re({
        token: t,
        factory: t.\u0275fac,
        providedIn: "root"
    });
    let e = t;
    return e
}
)()
  , Ts = function(e) {
    return e[e.Primary = 0] = "Primary",
    e[e.Secondary = 1] = "Secondary",
    e
}(Ts || {});
var Mp = "tracker"
  , Q4e = ( () => {
    let t = class t extends gn {
        get trackerUrl() {
            return this.environment.setting.appLogApiPath + "tracker"
        }
        constructor() {
            super(),
            this.readyToSave = !0,
            this.isTrackingActive = !1,
            this.timerValue = {},
            this.timeTracker = {},
            this.extraData = {},
            setInterval( () => {
                if (this.readyToSave) {
                    let i = JSON.parse(localStorage.getItem(Mp)) || [];
                    i.length > 0 && this.insertTrackData(i)
                }
            }
            , 18e4)
        }
        insertTrackData(i) {
            this.isTrackingActive && this.httpService.post(this.trackerUrl, {
                body: {
                    tracks: i
                }
            }).subscribe( () => {
                localStorage.removeItem(Mp)
            }
            )
        }
        counter(i, r, s) {
            if (!this.isTrackingActive)
                return;
            let o = {
                constantName: i,
                TrackingId: r,
                startDate: this.getDate(),
                endDate: this.getDate(),
                eventType: w8.Counter,
                value: 1,
                extraData: JSON.stringify(s)
            };
            this.setLocalStorage(o).subscribe()
        }
        startTimer(i, r, s) {
            this.isTrackingActive && (this.timerValue[i + r] = 0,
            this.extraData[i + r] = s,
            this.timeTracker[i + r] = setInterval( () => {
                this.timerValue[i + r]++
            }
            , 1e3))
        }
        endTimer(i, r) {
            if (this.readyToSave = !1,
            !this.isTrackingActive || !this.timeTracker[i + r])
                return;
            clearInterval(this.timeTracker[i + r]);
            let s = {
                constantName: i,
                TrackingId: r,
                startDate: this.getDate(),
                endDate: this.getDate(),
                eventType: w8.Timer,
                value: this.timerValue[i + r],
                extraData: JSON.stringify(this.extraData[i + r])
            };
            this.setLocalStorage(s).subscribe(),
            this.readyToSave = !0
        }
        setLocalStorage(i) {
            let r = JSON.parse(localStorage.getItem(Mp)) || []
              , s = r.findIndex(o => o.constantName == i.constantName && o.TrackingId == i.TrackingId && o.eventType == i.eventType);
            return s >= 0 ? (r[s].value += i.value,
            r[s].endDate = this.getDate()) : r.push(i),
            localStorage.setItem(Mp, JSON.stringify(r)),
            Be(!0)
        }
        getDate(i) {
            return i ? new Date(i.getMilliseconds() - i.getTimezoneOffset() * 6e4).toISOString().slice(0, -1) : new Date(Date.now() - new Date().getTimezoneOffset() * 6e4).toISOString().slice(0, -1)
        }
    }
    ;
    t.\u0275fac = function(r) {
        return new (r || t)
    }
    ,
    t.\u0275prov = re({
        token: t,
        factory: t.\u0275fac,
        providedIn: "root"
    });
    let e = t;
    return e
}
)()
  , w8 = function(e) {
    return e[e.Counter = 1] = "Counter",
    e[e.Timer = 2] = "Timer",
    e
}(w8 || {})
  , pK = function(e) {
    return e.symbol = "symbol",
    e
}(pK || {});
var kp = p5(VM());
var Ap = ( () => {
    let t = class t extends gn {
        constructor() {
            super(),
            this.initialTime = new Date().toLocaleTimeString([], {
                hour: "2-digit",
                minute: "2-digit",
                second: "2-digit",
                hour12: !1
            }),
            this.serverTime$ = new Ne(null),
            this.isMarketDaySub = new Ne(!0),
            this.serverTimeSubject = new Ne(this.initialTime),
            this.serverTimeObs$ = this.serverTimeSubject.asObservable(),
            this.isMarketOpenSub = new Ne(null),
            this.isMarketOpen$ = this.isMarketOpenSub.asObservable(),
            this.showMarketOpenTimeSub = new Ne(null),
            this.serverDateSub = new Ne(new Date),
            this.serverDateObs$ = this.serverDateSub.asObservable(),
            this.setTime()
        }
        setTime() {
            this.clockSubscription = this.addSeconds((0,
            kp.default)()),
            this.getServerTime(),
            this.getStartSession(),
            ul(6e4).pipe(Ge( () => {
                this.getServerTime()
            }
            )).subscribe(),
            ul(18e5).pipe(Ge( () => {
                this.isMarketDaySub.value === !1 && this.getStartSession()
            }
            )).subscribe()
        }
        getServerTime() {
            let i = new Date().valueOf();
            this.httpService.get(`${this.mtsPath + this.apiUrls.easy}account/server-time/${i}`).subscribe(r => {
                let s = new Date
                  , o = s.getTimezoneOffset() * 6e4
                  , a = r.diff
                  , c = r.serverTimestamp
                  , l = s.valueOf() - c
                  , u = (a - s.valueOf() + i - l) / 2
                  , h = Sr.utcToTehran(c.valueOf() + (l + u), o);
                this.clockSubscription && this.clockSubscription.unsubscribe(),
                this.serverDateSub.next(new Date(h));
                let d = (0,
                kp.default)(h).locale("en").format("HH:mm:ss");
                this.serverTimeSubject.next(d),
                this.serverTime$.next(new Date(h)),
                this.clockSubscription = this.addSeconds((0,
                kp.default)(h))
            }
            )
        }
        setIsMarketOpen(i) {
            let r = i.split(":")
              , s = +(r[0] + r[1])
              , o = s >= Kb && s < _g
              , a = s >= Yb && s < _g;
            this.isMarketDaySub.value !== null && (this.isMarketOpenSub.next(o && this.isMarketDaySub.value),
            this.showMarketOpenTimeSub.next(a && this.isMarketDaySub.value))
        }
        addSeconds(i) {
            return ul(1e3).pipe($e( () => {
                this.setIsMarketOpen(i.locale("en").format("HH:mm:ss")),
                this.serverTimeSubject.next(i.add(1, "seconds").locale("en").format("HH:mm:ss"))
            }
            )).subscribe()
        }
        getStartSession() {
            this.httpService.get(`${this.mtsPath + this.apiUrls.easy}startsession`).subscribe(i => {
                new Date(i.serverTime).setHours(0, 0, 0, 0) === new Date(i.startSessionTimeStamp).setHours(0, 0, 0, 0) ? this.isMarketDaySub.next(!0) : this.isMarketDaySub.next(!1)
            }
            )
        }
    }
    ;
    t.\u0275fac = function(r) {
        return new (r || t)
    }
    ,
    t.\u0275prov = re({
        token: t,
        factory: t.\u0275fac,
        providedIn: "root"
    });
    let e = t;
    return e
}
)();
function gK(e, t) {
    if (e & 1) {
        let n = cn();
        H(0, "div")(1, "div", 4),
        me(2, "svg-icon", 5),
        W(),
        H(3, "div", 6)(4, "span"),
        oe(5, "\u0634\u0645\u0627 \u062F\u0633\u062A\u0631\u0633\u06CC \u0628\u0647 \u0627\u0646\u062C\u0627\u0645 \u0645\u0639\u0627\u0645\u0644\u0647 \u0627\u0632 \u0637\u0631\u06CC\u0642 \u0627\u06CC\u0632\u06CC \u062A\u0631\u06CC\u062F\u0631 \u0631\u0627 \u0646\u062F\u0627\u0631\u06CC\u062F."),
        W()(),
        H(6, "ul", 7)(7, "li", 8),
        Qe("click", function() {
            yt(n);
            let r = Te(2);
            return bt(r.onRedirectToOrbis())
        }),
        me(8, "svg-icon", 9),
        H(9, "span", 3),
        oe(10, " \u0648\u0631\u0648\u062F \u0628\u0647 \u0633\u0627\u0645\u0627\u0646\u0647 \u0622\u0646\u0644\u0627\u06CC\u0646"),
        W()(),
        H(11, "li", 8),
        Qe("click", function() {
            yt(n);
            let r = Te(2);
            return bt(r.onGuestUserClick())
        }),
        me(12, "svg-icon", 9),
        H(13, "span", 3),
        oe(14, " \u0648\u0631\u0648\u062F \u0628\u0647 \u0639\u0646\u0648\u0627\u0646 \u06A9\u0627\u0631\u0628\u0631 \u0645\u06CC\u0647\u0645\u0627\u0646"),
        W()(),
        H(15, "li", 10),
        Qe("click", function() {
            yt(n);
            let r = Te(2);
            return bt(r.onLogout())
        }),
        me(16, "svg-icon", 11),
        H(17, "span", 3),
        oe(18, "\u062E\u0631\u0648\u062C \u0627\u0632 \u0633\u0627\u0645\u0627\u0646\u0647"),
        W()()()()
    }
    if (e & 2) {
        let n = Te(2);
        Q(2),
        ye("iconName", n.icons.InfoBox),
        Q(6),
        ye("iconName", n.icons.Link),
        Q(4),
        ye("iconName", n.icons.Link),
        Q(4),
        ye("iconName", n.icons.Logout)
    }
}
function mK(e, t) {
    if (e & 1) {
        let n = cn();
        H(0, "div")(1, "div", 4),
        me(2, "svg-icon", 5),
        W(),
        H(3, "div", 6)(4, "span"),
        oe(5, "\u062E\u0637\u0627\u06CC\u06CC \u062F\u0631 \u0647\u0646\u06AF\u0627\u0645 \u0648\u0631\u0648\u062F \u0631\u062E \u062F\u0627\u062F\u0647 \u0627\u0633\u062A."),
        W()(),
        H(6, "p", 12)(7, "button", 13),
        Qe("click", function() {
            yt(n);
            let r = Te(2);
            return bt(r.onRedirectToLoginPage())
        }),
        oe(8, " \u0648\u0631\u0648\u062F \u0645\u062C\u062F\u062F \u0628\u0647 \u0633\u0627\u0645\u0627\u0646\u0647 "),
        W()()()
    }
    if (e & 2) {
        let n = Te(2);
        Q(2),
        ye("iconName", n.icons.InfoBox)
    }
}
function vK(e, t) {
    if (e & 1) {
        let n = cn();
        H(0, "div")(1, "div", 4),
        me(2, "svg-icon", 5),
        W(),
        H(3, "div", 6)(4, "span"),
        oe(5, "\u062A\u0627\u0631\u06CC\u062E \u0633\u06CC\u0633\u062A\u0645 \u062E\u0648\u062F \u0631\u0627 \u0627\u0635\u0644\u0627\u062D \u06A9\u0646\u06CC\u062F."),
        W()(),
        H(6, "p", 12)(7, "button", 13),
        Qe("click", function() {
            yt(n);
            let r = Te(2);
            return bt(r.onRedirectToLoginPage())
        }),
        oe(8, " \u0648\u0631\u0648\u062F \u0645\u062C\u062F\u062F \u0628\u0647 \u0633\u0627\u0645\u0627\u0646\u0647 "),
        W()()()
    }
    if (e & 2) {
        let n = Te(2);
        Q(2),
        ye("iconName", n.icons.InfoBox)
    }
}
function _K(e, t) {
    if (e & 1) {
        let n = cn();
        H(0, "div")(1, "div", 4),
        me(2, "svg-icon", 5),
        W(),
        H(3, "div", 6)(4, "span"),
        oe(5, "\u0634\u0645\u0627 \u0627\u0632 \u062D\u0633\u0627\u0628 \u06A9\u0627\u0631\u0628\u0631\u06CC \u062E\u0648\u062F \u062E\u0627\u0631\u062C \u0634\u062F\u0647\u200C\u0627\u06CC\u062F."),
        W()(),
        H(6, "p", 12)(7, "button", 13),
        Qe("click", function() {
            yt(n);
            let r = Te(2);
            return bt(r.onRedirectToLoginPage())
        }),
        oe(8, " \u0648\u0631\u0648\u062F \u0645\u062C\u062F\u062F \u0628\u0647 \u0633\u0627\u0645\u0627\u0646\u0647 "),
        W()()()
    }
    if (e & 2) {
        let n = Te(2);
        Q(2),
        ye("iconName", n.icons.InfoBox)
    }
}
function yK(e, t) {
    if (e & 1) {
        let n = cn();
        H(0, "div")(1, "div", 4),
        me(2, "svg-icon", 5),
        W(),
        H(3, "div", 6)(4, "span"),
        oe(5, "\u0627\u0641\u062A\u062A\u0627\u062D \u062D\u0633\u0627\u0628 \u0634\u0645\u0627 \u062A\u06A9\u0645\u06CC\u0644 \u0646\u0634\u062F\u0647 \u0627\u0633\u062A"),
        W()(),
        H(6, "a", 14),
        me(7, "svg-icon", 11),
        H(8, "span", 3),
        oe(9, " \u062A\u06A9\u0645\u06CC\u0644 \u0627\u0641\u062A\u062A\u0627\u062D \u062D\u0633\u0627\u0628"),
        W()(),
        H(10, "ul", 7)(11, "li", 8),
        Qe("click", function() {
            yt(n);
            let r = Te(2);
            return bt(r.onGuestUserClick())
        }),
        me(12, "svg-icon", 9),
        H(13, "span", 3),
        oe(14, " \u0648\u0631\u0648\u062F \u0628\u0647 \u0639\u0646\u0648\u0627\u0646 \u06A9\u0627\u0631\u0628\u0631 \u0645\u06CC\u0647\u0645\u0627\u0646"),
        W()(),
        H(15, "li", 10),
        Qe("click", function() {
            yt(n);
            let r = Te(2);
            return bt(r.onLogout())
        }),
        me(16, "svg-icon", 11),
        H(17, "span", 3),
        oe(18, "\u062E\u0631\u0648\u062C \u0627\u0632 \u0633\u0627\u0645\u0627\u0646\u0647"),
        W()()()()
    }
    if (e & 2) {
        let n = Te(2);
        Q(2),
        ye("iconName", n.icons.InfoBox),
        Q(5),
        ye("iconName", n.icons.Link),
        Q(5),
        ye("iconName", n.icons.Link),
        Q(4),
        ye("iconName", n.icons.Logout)
    }
}
function bK(e, t) {
    if (e & 1) {
        let n = cn();
        H(0, "div", 3)(1, "div", 4),
        me(2, "svg-icon", 5),
        W(),
        H(3, "div", 15),
        oe(4, "\u0627\u0637\u0644\u0627\u0639\u06CC\u0647!"),
        W(),
        H(5, "p", 16),
        oe(6, " \u0628\u0647 \u0627\u0637\u0644\u0627\u0639 \u0645\u06CC\u200C\u0631\u0633\u0627\u0646\u062F \u0628\u0631 \u0627\u0633\u0627\u0633 \u0645\u0642\u0631\u0631\u0627\u062A \u0633\u0627\u0632\u0645\u0627\u0646 \u0628\u0648\u0631\u0633 \u0648 \u0627\u0648\u0631\u0627\u0642 \u0628\u0647\u0627\u062F\u0627\u0631\u060C \u062C\u0647\u062A \u0627\u0645\u06A9\u0627\u0646 \u0627\u062F\u0627\u0645\u0647 \u0627\u0631\u0627\u0626\u0647 \u062E\u062F\u0645\u0627\u062A \u062F\u0631 \u0633\u0627\u0645\u0627\u0646\u0647\u200C\u0647\u0627\u06CC \u0645\u0639\u0627\u0645\u0644\u0627\u062A\u06CC \u0622\u0646\u0644\u0627\u06CC\u0646 \u06A9\u0627\u0631\u06AF\u0632\u0627\u0631\u06CC \u0645\u0641\u06CC\u062F\u060C \u0644\u0627\u0632\u0645 \u0627\u0633\u062A \u0646\u0633\u0628\u062A \u0628\u0647 \u0627\u0645\u0636\u0627\u06CC \u0642\u0631\u0627\u0631\u062F\u0627\u062F \u062C\u062F\u06CC\u062F \u0627\u0642\u062F\u0627\u0645 \u0646\u0645\u0627\u06CC\u06CC\u062F. "),
        W(),
        H(7, "p", 16),
        oe(8, " \u0647\u0645\u06A9\u0627\u0631\u0627\u0646 \u0645\u0627 \u0647\u0645\u0648\u0627\u0631\u0647 \u0622\u0645\u0627\u062F\u0647 \u067E\u0627\u0633\u062E\u06AF\u0648\u06CC\u06CC \u0628\u0647 \u0633\u0648\u0627\u0644\u0627\u062A \u0634\u0645\u0627 \u0647\u0633\u062A\u0646\u062F. "),
        me(9, "br"),
        oe(10, " \u062A\u0645\u0627\u0633 \u0628\u0627 \u067E\u0634\u062A\u06CC\u0628\u0627\u0646\u06CC: 0218700 "),
        W(),
        H(11, "ul", 17)(12, "li", 18)(13, "a", 19),
        me(14, "svg-icon", 11),
        H(15, "span", 3),
        oe(16, " \u0627\u0645\u0636\u0627 \u0642\u0631\u0627\u0631\u062F\u0627\u062F \u062C\u062F\u06CC\u062F (\u0628\u0647 \u0635\u0648\u0631\u062A \u0622\u0646\u0644\u0627\u06CC\u0646 \u0648 \u0631\u0627\u06CC\u06AF\u0627\u0646)"),
        W()()(),
        H(17, "li", 10),
        Qe("click", function() {
            yt(n);
            let r = Te(2);
            return bt(r.onLogout())
        }),
        me(18, "svg-icon", 11),
        H(19, "span", 3),
        oe(20, "\u062E\u0631\u0648\u062C \u0627\u0632 \u0633\u0627\u0645\u0627\u0646\u0647"),
        W()()()()
    }
    if (e & 2) {
        let n = Te(2);
        Q(2),
        ye("iconName", n.icons.InfoBox),
        Q(12),
        ye("iconName", n.icons.Link),
        Q(4),
        ye("iconName", n.icons.Logout)
    }
}
function SK(e, t) {
    if (e & 1) {
        let n = cn();
        H(0, "div")(1, "div", 20),
        me(2, "svg-icon", 21),
        H(3, "div", 22),
        oe(4, "\u062E\u0637\u0627 \u062F\u0631 \u0628\u0631\u0642\u0631\u0627\u0631\u06CC \u0627\u0631\u062A\u0628\u0627\u0637 \u0628\u0627 \u0633\u0631\u0648\u0631"),
        W(),
        H(5, "p", 23),
        oe(6, " \u062F\u0631 \u0628\u0631\u0642\u0631\u0627\u0631\u06CC \u0627\u0631\u062A\u0628\u0627\u0637 \u0628\u0627 \u0634\u0628\u06A9\u0647 \u0645\u0634\u06A9\u0644\u06CC \u067E\u06CC\u0634 \u0622\u0645\u062F\u0647\u060C "),
        me(7, "br"),
        oe(8, " \u0644\u0637\u0641\u0627 \u0627\u0632 \u0648\u062C\u0648\u062F \u062F\u0633\u062A\u0631\u0633\u06CC \u0628\u0647 \u0634\u0628\u06A9\u0647 \u0645\u0637\u0645\u0626\u0646 \u0648 \u0645\u062C\u062F\u062F\u0627\u064B \u062A\u0644\u0627\u0634 \u06A9\u0646\u06CC\u062F. "),
        W(),
        H(9, "button", 13),
        Qe("click", function() {
            yt(n);
            let r = Te(2);
            return bt(r.onRedirectToLoginPage())
        }),
        oe(10, " \u062A\u0644\u0627\u0634 \u0645\u062C\u062F\u062F "),
        W()()()
    }
    if (e & 2) {
        let n = Te(2);
        Q(2),
        ye("iconName", n.icons.ConnectionOff)
    }
}
function xK(e, t) {
    if (e & 1 && (me(0, "div", 0),
    H(1, "div", 1)(2, "div", 2),
    at(3, gK, 19, 4, "div")(4, mK, 9, 1, "div")(5, vK, 9, 1, "div")(6, _K, 9, 1, "div")(7, yK, 19, 4, "div")(8, bK, 21, 3, "div", 3)(9, SK, 11, 1, "div"),
    W()()),
    e & 2) {
        let n = Te();
        Q(3),
        tt(n.loginError() === n.LoginErrorEnum.Easy2User || n.loginError() === n.LoginErrorEnum.OnlineOptionUser ? 3 : -1),
        Q(),
        tt(n.checkUserFailed() || n.loginError() === n.LoginErrorEnum.General ? 4 : -1),
        Q(),
        tt(n.loginError() === n.LoginErrorEnum.DateError ? 5 : -1),
        Q(),
        tt(n.loginError() === n.LoginErrorEnum.LoggedOutFromOtherTab ? 6 : -1),
        Q(),
        tt(n.loginError() === n.LoginErrorEnum.GuestUser ? 7 : -1),
        Q(),
        tt(n.loginError() === n.LoginErrorEnum.ForceContract2 ? 8 : -1),
        Q(),
        tt(n.loginError() === n.LoginErrorEnum.InternetIsDisconnected ? 9 : -1)
    }
}
var p6e = ( () => {
    let t = class t {
        constructor(i, r, s, o, a) {
            this.authService = i,
            this.device = r,
            this.userService = s,
            this.modalService = o,
            this.environment = a,
            this.icons = $t,
            this.checkUserFailed = wt(!1),
            this.loginError = wt(void 0),
            this.isMobile = Ee(!1),
            this.LoginErrorEnum = xr
        }
        ngOnInit() {
            this.subscribeToCheckUserFailed()
        }
        subscribeToCheckUserFailed() {
            this.authService.checkUserFailed$.subscribe(i => {
                this.checkUserFailed.set(i)
            }
            ),
            this.authService.checkLoginSuccess$.pipe(ov(i => i === xr.None)).subscribe(i => {
                this.loginError.set(i)
            }
            )
        }
        onGuestUserClick() {
            this.userService.isGuestUser = !0,
            this.loginError.set(null)
        }
        onRedirectToOrbis() {
            this.device.deviceType === yn.Mobile ? window.location.href = "https://mobile.mofidonline.com" : window.location.href = "https://mofidonline.com"
        }
        onLogout() {
            this.authService.logout()
        }
        onRedirectToLoginPage() {
            this.authService.redirectToLoginPage()
        }
        transferToOrbisConfirmHandler() {
            this.isMobile() ? window.open(this.environment.setting.easy2ReferralUrl + "/menu/agreement/200") : window.open(this.environment.setting.easy2ReferralUrl + "/agreement/200"),
            this.modalService.dismissAll()
        }
    }
    ;
    t.\u0275fac = function(r) {
        return new (r || t)(Pt(Dr),Pt(hr),Pt(Wr),Pt(Jc),Pt(xn))
    }
    ,
    t.\u0275cmp = Ye({
        type: t,
        selectors: [["connection-failed"]],
        inputs: {
            isMobile: [1, "isMobile"]
        },
        decls: 1,
        vars: 1,
        consts: [[1, "overlay", "active", 2, "right", "0", "z-index", "110"], [1, "position-fixed", "full-offset", "d-flex", "align-items-center", "justify-content-center", 2, "z-index", "111"], [1, "bg-principal", "m-4", "p-3", "p-lg-5", "rounded", "shadow-lg", "text-dark", "position-relative", "check-user-failed"], [1, "text-body"], [1, "text-center"], ["width", "48", "height", "48", 1, "text-global", 3, "iconName"], [1, "text-warning", "fs-6", "text-center", "fw-bold"], [1, "list-group-flush", "p-0", "mt-3"], [1, "list-group-item", "cup", "bg-transparent", "p-1", "d-flex", "align-items-center", "text-secondary", 3, "click"], ["width", "24", "height", "24", 1, "me-2", 3, "iconName"], [1, "list-group-item", "cup", "bg-transparent", "p-1", "d-flex", "align-items-center", "cup", "text-secondary", 3, "click"], ["width", "24", "height", "24", 1, "me-2", "text-secondary", 3, "iconName"], [1, "text-center", "mt-3"], ["type", "button", 1, "btn", "flex-grow-1", "btn-primary", 3, "click"], ["href", "https://reg.emofid.com/", "target", "_blank", 1, "list-group-item", "cup", "bg-transparent", "p-1", "d-flex", "align-items-center", "text-secondary"], [1, "text-global", "fs-6", "mb-2", "text-center", "fw-bold"], [1, "text-justify", "fw-medium"], [1, "list-group", "list-group-flush", "p-0", "mt-3"], [1, "list-group-item", "cup", "bg-transparent", "p-1", "d-flex", "align-items-center", "cup", "text-secondary"], ["href", "https://reg.emofid.com/", "target", "_blank", 1, "p-1", "d-flex", "align-items-center", "text-secondary"], [1, "d-flex", "flex-column", "align-items-center"], ["width", "", "height", "", 1, "display-3", "text-danger", "mb-3", 3, "iconName"], [1, "fs-5", "text-danger", "mb-2"], [1, "text-muted", "text-center"]],
        template: function(r, s) {
            r & 1 && at(0, xK, 10, 7),
            r & 2 && tt(s.checkUserFailed() || s.loginError() ? 0 : -1)
        },
        dependencies: [Fn],
        styles: [`.check-user-failed[_ngcontent-%COMP%]{max-width:500px;min-width:330px}
/*# sourceMappingURL=connection-failed.component-U64YSYOL.css.map */`],
        changeDetection: 0
    });
    let e = t;
    return e
}
)();
var l5 = ( () => {
    let t = class t {
        constructor(i, r) {
            this.router = i,
            this.notificationService = r,
            this.defaultOverlay = {
                isShow: !1,
                component: null,
                option: {
                    componentName: null
                }
            },
            this.overlaySubject = new Ne(this.defaultOverlay),
            this.overlayState$ = this.overlaySubject.asObservable(),
            this.hasPushState = !1,
            this.routerObserver = wi(this.router.events.pipe(Ge(s => {
                (s instanceof Do || s instanceof yc) && this.hasPushState && this.hideOverlay(!0)
            }
            ))),
            this.routerObserver$ = jv(this.routerObserver)
        }
        hideOverlay(i=!1) {
            this.notificationService.changeNotifyOrderFormState(!1),
            this.overlaySubject.next(ve(C({}, this.overlaySubject.value), {
                isShow: !1
            })),
            !i && this.hasPushState && history.go(-1),
            this.hasPushState = !1,
            wc( () => this.overlaySubject.next(this.defaultOverlay), 250)
        }
        showOverlay(i, r=!0) {
            i?.option?.overWrite && i?.option?.componentName === this.overlaySubject.value?.option?.componentName || (this.notificationService.changeNotifyOrderFormState(!0),
            this.overlaySubject.next(ve(C({}, i), {
                isShow: !0
            })),
            r && history.pushState(null, ""),
            this.hasPushState = r)
        }
        changeOverLayVisibility(i) {
            this.overlaySubject.next(ve(C({}, this.overlaySubject.value), {
                isShow: i
            }))
        }
    }
    ;
    t.\u0275fac = function(r) {
        return new (r || t)(xe(Ui),xe(Us))
    }
    ,
    t.\u0275prov = re({
        token: t,
        factory: t.\u0275fac,
        providedIn: "root"
    });
    let e = t;
    return e
}
)();
var wK = ["input"]
  , k6e = ( () => {
    let t = class t {
        constructor() {
            this.inputRef = sc("input"),
            this.id = oc(""),
            this.focusInInit = Ee(!1),
            this.inputValue = Ee(""),
            this.formControlName = oc(""),
            this.step = Ee(1),
            this.roundOnStep = Ee(!1),
            this.min = Ee("0"),
            this.maxLength = Ee(),
            this.isDecimal = Ee(!1),
            this.readOnly = Ee(!1),
            this.class = Ee(""),
            this.style = Ee(""),
            this.inputMode = Ee(Ip.money),
            this.valueChangeEvent = Ee(""),
            this.placeholder = Ee(""),
            this.form = Ee(),
            this.negativeIsValid = Ee(!1),
            this.ngClass = Ee(""),
            this.valueChanged = Wt(),
            this.inputChange = Wt(),
            this.keyDown = Wt(),
            this.focusIn = Wt(),
            this.focusOut = Wt(),
            this.initialized = Wt(),
            this.touchEnd = Wt(),
            this.mouseEvent = Wt(),
            this.blurEvent = Wt(),
            this.separator = wt(","),
            this.subs = wt([]),
            this.caretPosition = wt(-1),
            this.decimalPoint = ".",
            this.navigate = "-",
            this.allowKeys = ["\u06F0", "\u06F1", "\u06F2", "\u06F3", "\u06F4", "\u06F5", "\u06F6", "\u06F7", "\u06F8", "\u06F9", "1", "2", "3", "4", "5", "6", "7", "8", "9", "0", "ArrowUp", "ArrowDown", ","],
            this.ignoredKeys = ["Backspace", "Delete", "ArrowLeft", "ArrowRight", "Home", "End", "Shift", "Enter", "Escape", "Tab", "F1", "F2", "F3", "F4", "F5", "F6", "F7", "F8", "F9", "-", "."],
            this.allowKeys.push(...this.ignoredKeys)
        }
        ngOnDestroy() {
            this.subs().forEach(i => i.unsubscribe())
        }
        ngAfterViewInit() {
            this.inputElement = document.getElementById(this.id()),
            this.initialized.emit(this.inputElement),
            this.inputElement.value && this.inputElement.value !== "" && (this.inputElement.value = this.setDisplayFormat(this.inputElement.value)),
            this.focusInInit() && this.focusInput()
        }
        ngOnInit() {
            this.setSeparator(),
            this.formControlName() || this.formControlName.set(this.id()),
            this.id.set(Ml()),
            this.onValueChanges()
        }
        get input() {
            return this.form().get(this.formControlName())
        }
        focusInput() {
            this.inputElement.focus()
        }
        on_keyUp(i) {
            let r = this.setNormalValue(i);
            if (i.key === C8.ArrowUp)
                r = this.increaseValue(r),
                this.input.setValue(r),
                i.currentTarget.value = this.setDisplayFormat(r);
            else if (i.key === C8.ArrowDown)
                r = this.decreaseValue(r) ?? this.min(),
                this.input.setValue(r),
                i.currentTarget.value = this.setDisplayFormat(r);
            else if (this.ignoredKeys.includes(i.key))
                return;
            this.input.valueChanges.next(r)
        }
        on_input(i) {
            i.currentTarget.value.toLowerCase() !== "nan" && i.data && i.data.toLowerCase()
        }
        on_mousewheel(i) {
            let r = this.setNormalValue(i);
            i.wheelDelta > 0 && i.currentTarget.value !== "" ? r = this.increaseValue(r) : i.wheelDelta < 0 && i.currentTarget.value !== "" && (r = this.decreaseValue(r) ?? this.min()),
            this.input.setValue(r),
            i.currentTarget.value = this.setDisplayFormat(r),
            this.mouseEvent.emit(i)
        }
        on_focusIn(i) {
            this.focusIn.emit(i)
        }
        on_focusOut(i) {
            this.focusOut.emit(i)
        }
        on_keydown(i) {
            if (!this.allowKeys.includes(i.key)) {
                i.preventDefault();
                return
            }
            let r = this.setNormalValue(i);
            if (i.key === this.navigate) {
                i.preventDefault(),
                this.negativeIsValid() && (r = r === "0" ? "-0" : r * -1,
                this.input.setValue(r),
                i.currentTarget.value = this.setDisplayFormat(r));
                return
            }
            if (i.key === this.decimalPoint) {
                i.preventDefault(),
                this.inputMode() === Ip.decimal && !r.includes(this.decimalPoint) && (r += this.decimalPoint,
                this.input.setValue(r),
                i.currentTarget.value = this.setDisplayFormat(r));
                return
            }
            this.keyDown.emit(i)
        }
        onBlur() {
            this.blurEvent.emit()
        }
        onValueChanges() {
            let i = this.input.valueChanges.subscribe(r => {
                if (this.isEnglishOrPersianDigitOrComma(r))
                    if (r) {
                        this.caretPosition.set(this.inputElement.selectionEnd);
                        let s = this.inputElement.value.split(",").length - 1
                          , o = +r.toString().replace(/[\u0660-\u0669\u06f0-\u06f9]/g, c => c.charCodeAt(0) & 15).replace(/,/g, "");
                        this.input.setValue(o, {
                            emitEvent: !1
                        }),
                        this.valueChanged.emit({
                            value: o
                        }),
                        this.inputElement.value = this.setDisplayFormat(o);
                        let a = this.inputElement.value.split(",").length - 1;
                        this.caretPosition() !== -1 && (this.inputElement.setSelectionRange(this.caretPosition() + (a - s), this.caretPosition() + (a - s)),
                        this.caretPosition.set(-1))
                    } else
                        this.input.setValue(r, {
                            emitEvent: !1
                        }),
                        this.valueChanged.emit({
                            value: r
                        })
            }
            );
            this.subs().push(i)
        }
        isEnglishOrPersianDigitOrComma(i) {
            return /^[\u06F0-\u06F90-9,]+$/.test(i)
        }
        increaseValue(i) {
            let r = BigInt(i)
              , s = BigInt(this.step())
              , o = r + s;
            return this.roundOnStep() ? (o % s).toString() === "0" ? o.toString() : (o - o % s).toString() : o.toString()
        }
        decreaseValue(i) {
            let r = BigInt(i)
              , s = BigInt(this.step())
              , o = "0";
            return (r % s).toString() !== "0" ? (r - r % s).toString() : (this.negativeIsValid() && (o = (r - s).toString()),
            r > s ? o = (r - s).toString() : o = this.min(),
            o)
        }
        setDefaultValueForInput(i) {
            i.currentTarget.value = this.min(),
            this.input.setValue(this.min()),
            this.inputChange.emit({
                value: this.min()
            })
        }
        setDisplayFormat(i) {
            let r = i.toString();
            return this.maxLength() && r.length > this.maxLength() ? r.slice(0, this.maxLength()) : this.formatWithSeparator(r)
        }
        formatWithSeparator(i) {
            return i.replace(/\B(?=(\d{3})+(?!\d))/g, this.separator())
        }
        setNormalValue(i) {
            return i.currentTarget.value === "" ? "" : i.currentTarget.value.replace(/[\u0660-\u0669\u06f0-\u06f9]/g, r => r.charCodeAt(0) & 15).replace(/,/g, "")
        }
        setSeparator() {
            this.separator.set(this.inputMode() === Ip.money ? "," : "")
        }
    }
    ;
    t.\u0275fac = function(r) {
        return new (r || t)
    }
    ,
    t.\u0275cmp = Ye({
        type: t,
        selectors: [["custom-number-box"]],
        viewQuery: function(r, s) {
            r & 1 && cc(s.inputRef, wK, 5),
            r & 2 && lc()
        },
        inputs: {
            id: [1, "id"],
            focusInInit: [1, "focusInInit"],
            inputValue: [1, "inputValue"],
            formControlName: [1, "formControlName"],
            step: [1, "step"],
            roundOnStep: [1, "roundOnStep"],
            min: [1, "min"],
            maxLength: [1, "maxLength"],
            isDecimal: [1, "isDecimal"],
            readOnly: [1, "readOnly"],
            class: [1, "class"],
            style: [1, "style"],
            inputMode: [1, "inputMode"],
            valueChangeEvent: [1, "valueChangeEvent"],
            placeholder: [1, "placeholder"],
            form: [1, "form"],
            negativeIsValid: [1, "negativeIsValid"],
            ngClass: [1, "ngClass"]
        },
        outputs: {
            id: "idChange",
            formControlName: "formControlNameChange",
            valueChanged: "valueChanged",
            inputChange: "inputChange",
            keyDown: "keyDown",
            focusIn: "focusIn",
            focusOut: "focusOut",
            initialized: "initialized",
            touchEnd: "touchEnd",
            mouseEvent: "mouseEvent",
            blurEvent: "blurEvent"
        },
        decls: 4,
        vars: 12,
        consts: [["input", ""], [1, "custome-editor-container", "flex-grow-1", 3, "formGroup"], [1, "custome-editor-input-container"], ["data-cy", "custom-number-box-input", "autocomplete", "off", "maxlength", "19", "inputmode", "decimal", "type", "text", 3, "focusin", "keydown", "keyup", "focusout", "input", "blurEvent", "mousewheel", "id", "placeholder", "formControlName", "readOnly", "ngClass", "value"]],
        template: function(r, s) {
            if (r & 1) {
                let o = cn();
                H(0, "div", 1)(1, "div", 2)(2, "input", 3, 0),
                Qe("focusin", function(c) {
                    return yt(o),
                    bt(s.on_focusIn(c))
                })("keydown", function(c) {
                    return yt(o),
                    bt(s.on_keydown(c))
                })("keyup", function(c) {
                    return yt(o),
                    bt(s.on_keyUp(c))
                })("focusout", function(c) {
                    return yt(o),
                    bt(s.on_focusOut(c))
                })("input", function(c) {
                    return yt(o),
                    bt(s.on_input(c))
                })("blurEvent", function() {
                    return yt(o),
                    bt(s.onBlur())
                })("mousewheel", function(c) {
                    return yt(o),
                    bt(s.on_mousewheel(c))
                }),
                W()()()
            }
            r & 2 && (ye("formGroup", s.form()),
            Q(2),
            wv(s.style()),
            cs("", s.class(), " text-body custom-number-box"),
            H0("id", s.id()),
            H0("placeholder", s.placeholder()),
            H0("formControlName", s.formControlName()),
            ye("readOnly", s.readOnly())("ngClass", s.ngClass())("value", s.inputValue()))
        },
        dependencies: [L5, I5, R5, D5, zv, B5, N5, F5, rr],
        styles: [`.custome-editor-input-container{margin-right:10px}  .custome-editor-input-container input{border:0px!important;padding:0!important;background-color:transparent!important;direction:ltr!important;width:100%!important}
/*# sourceMappingURL=custom-number-box.component-NMBHNGUM.css.map */`],
        changeDetection: 0
    });
    let e = t;
    return e
}
)()
  , Ip = function(e) {
    return e.money = "money",
    e.number = "number",
    e.decimal = "decimal",
    e
}(Ip || {})
  , C8 = function(e) {
    return e.ArrowDown = "ArrowDown",
    e.ArrowUp = "ArrowUp",
    e
}(C8 || {});
var CK = Qv("%H:%M")
  , EK = H5("~s")
  , B6e = ( () => {
    let t = class t {
        constructor() {
            this.selectedTrend = Ee(b0.daily),
            this.chartId = Ee("lineChart"),
            this.isMobile = Ee(!0),
            this.zoomable = Ee(!0),
            this.hasRedemption = Ee(!1),
            this.DoNotCallDefaultApi = Ee(!1),
            this.tooltipType = Ee(H1.Default),
            this.isChartZoomed = Wt(),
            this.periodChanged = Wt(),
            this.dateLabelWidth = 70,
            this.smallDeviceWidth = 345,
            this.chartData = void 0,
            this.loading = !0,
            this.data = [],
            this.dimensions = {
                mainWidth: 477,
                mainHeight: 200,
                margin: {
                    top: 20,
                    right: 25,
                    bottom: 20,
                    left: 40
                }
            },
            this.minValue = "0",
            this.maxValue = "0",
            this.range = [0, 0],
            this.mobilePadding = 0,
            this.mouseMove = i => {
                try {
                    if (this.focus.style("display", null),
                    !this.focus)
                        return;
                    if (!this.data) {
                        this.focus.style("display", "none");
                        return
                    }
                    if (this.data.length <= 0) {
                        this.focus.style("display", "none");
                        return
                    }
                    let r = h4(i)[0]
                      , s = Math.floor(r / this.dateLabelSpaceRatio)
                      , o = this.data[s];
                    if (!o)
                        return;
                    let a = this.x(o.date)
                      , c = a > this.dimensions.width - 10 ? this.dimensions.width - 10 - a : 0
                      , l = this.dimensions.margin.left - 5;
                    this.focus.select("#vertical-line").attr("transform", "translate(" + (this.x(o.date) + l) + "," + this.dimensions.height + ")"),
                    this.focus.select("#horizontal-line").attr("x2", this.dimensions.mainWidth).attr("transform", "translate(0," + (this.y(o.value) + 20) + ")"),
                    this.focus.selectAll(".circle").attr("transform", "translate(" + (this.x(o.date) + l) + "," + (this.y(o.value) + 20) + ")"),
                    this.focus.select("#vertical-text").attr("transform", "translate(" + (this.x(o.date) + l + c) + ",17)").text(o.originDate),
                    this.focus.select("#horizontal-text").attr("transform", "translate(" + l + "," + (this.y(o.value) + 22) + ")").text(this.numberWithCommas(o.value)),
                    this.focus.select("#vertical-rect").attr("x", this.x(o.date) + c - 5).attr("y", 0),
                    this.focus.select("#horizontal-rect").attr("y", this.y(o.value) + 5)
                } catch {}
            }
            ,
            this.fundMouseMove = i => {
                try {
                    if (this.focus.style("display", null),
                    !this.focus)
                        return;
                    if (!this.data) {
                        this.focus.style("display", "none");
                        return
                    }
                    if (this.data.length <= 0) {
                        this.focus.style("display", "none");
                        return
                    }
                    let s = h4(i)[0]
                      , o = Math.floor(s / this.dateLabelSpaceRatio)
                      , a = this.data[o];
                    if (!a)
                        return;
                    let c = this.x(a.date)
                      , l = 0;
                    c === 0 ? l = 20 : l = c > this.dimensions.width - 20 ? this.dimensions.width - 20 - c : 0;
                    let u = 50 > this.y(a.value) ? 50 - this.y(a.value) : 0
                      , h = this.dimensions.margin.left - 5;
                    this.focus.select("#vertical-line").attr("transform", "translate(" + (this.x(a.date) + h) + "," + (this.y(a.value) + 20) + ")").attr("y1", this.dimensions.height + this.dimensions.margin.top - this.y(a.value) - 20),
                    this.focus.selectAll(".circle").attr("transform", "translate(" + (this.x(a.date) + h) + "," + (this.y(a.value) + 20) + ")"),
                    this.focus.select("#vertical-text-issuanceNav").attr("transform", "translate(" + (this.x(a.date) + h + l) + "," + (this.y(a.value) + u - 30) + ")").text(this.numberWithCommas(a.value) + " \u0631\u06CC\u0627\u0644\u0621\u0621"),
                    this.focus.select("#vertical-text-nav-label").attr("transform", "translate(" + (this.x(a.date) + h + l) + "," + (this.y(a.value) + u - 10) + ")").text("\u0642\u06CC\u0645\u062A \u0627\u0628\u0637\u0627\u0644 \u0647\u0631 \u0648\u0627\u062D\u062F"),
                    this.focus.select("#vertical-text-nav").attr("transform", "translate(" + (this.x(a.date) + h + l) + "," + (this.y(a.value) + u + 5) + ")").text(this.numberWithCommas(a.value2) + " \u0631\u06CC\u0627\u0644\u0621\u0621"),
                    this.focus.select("#vertical-text-date").attr("transform", "translate(" + (this.x(a.date) + h + l) + "," + (this.y(a.value) + u + 17) + ")").text(a.originDate),
                    this.focus.select("#vertical-rect-issuanceNav").attr("x", this.x(a.date) + l - 10).attr("y", this.y(a.value) + u - 45),
                    this.focus.select("#vertical-rect-redemptionNav").attr("x", this.x(a.date) + l - 10).attr("y", this.y(a.value) + u - 20)
                } catch {}
            }
            ,
            this.getTickValues = () => {
                this.dateLabelWidth = this.selectedTrend() === b0.daily ? 70 : 80;
                let i = this.x.domain()
                  , r = i.length
                  , s = Math.floor(this.dimensions.mainWidth / this.dateLabelWidth);
                if (i.length <= 4 || r < s)
                    return i;
                if (this.dimensions.mainWidth <= this.smallDeviceWidth) {
                    let c = Math.floor(r / 2);
                    return [i[0], i[c], ...i.slice(-1)]
                }
                let o = []
                  , a = Math.round(r / s);
                for (let c = 0; c <= s; c++)
                    c * a <= r - 1 && o.push(i[c * a]);
                return o
            }
            ,
            this.getDifferenceInDays = (i, r) => (i.getTime() - r.getTime()) / (1e3 * 3600 * 24)
        }
        ngOnDestroy() {
            this.sub?.unsubscribe()
        }
        ngAfterViewInit() {
            this.sub = li(500).pipe(Ge( () => this.initializeChart().then( () => this.drawChart().then( () => this.createResizeObserve())))).subscribe()
        }
        createResizeObserve() {
            new ResizeObserver( () => {
                this.onResized()
            }
            ).observe(this.rootDom)
        }
        calTicksValue() {
            this.selectedTrend() === b0.daily ? this.ticksValue = this.dimensions.mainWidth > 450 ? 8 : 5 : this.ticksValue = this.dimensions.mainWidth > 410 ? 5 : 3
        }
        onResized() {
            this.rootDom && (this.dimensions.mainWidth = this.rootDom.parentElement.clientWidth,
            this.calTicksValue(),
            this.dimensions.width = this.dimensions.mainWidth - this.dimensions.margin.left - this.dimensions.margin.right,
            !(this.dimensions.width <= 0) && (this.svg.attr("width", this.dimensions.mainWidth),
            this.x = f4().range([10, this.dimensions.width]),
            this.x2 = f4().range([10, this.dimensions.width]),
            this.defs.attr("width", this.dimensions.width - 10),
            this.xAxis = Fh(this.x).tickPadding(2).ticks(this.ticksValue).tickFormat(i => this.formatX(i)),
            this.zoom.translateExtent([[0, 0], [this.dimensions.width, this.dimensions.height]]).extent([[0, 0], [this.dimensions.width, this.dimensions.height]]),
            this.rect.attr("width", this.dimensions.width + 5),
            this.defaultText.attr("x", this.dimensions.width / 2 + this.defaultTextPosition),
            this.updateChart()))
        }
        drawChart() {
            return ue(this, null, function*() {
                this.svg && (this.hideDefaultText(),
                this.focus?.style("display", "none"),
                this.data = [],
                this.updateChart())
            })
        }
        updateChart() {
            try {
                if (this.calTicksValue(),
                !this.chartData?.length) {
                    this.showDefaultText();
                    return
                }
                this.chartData?.length === 1 && this.chartData.push(this.chartData.at(0)),
                this.range = [0, this.chartData.length - 1],
                this.selectedTrend() === b0.daily ? this.data = this.chartData.filter( (a, c) => c >= this.range[0] && c <= this.range[1]).map(a => ({
                    date: CK(a.d),
                    value: this.hasRedemption() ? +a.v2 : +a.v,
                    originDate: a.d
                })) : this.data = this.chartData.filter( (a, c) => c >= this.range[0] && c <= this.range[1]).map(a => ({
                    date: Sr.jDateToDate(a.d),
                    value: this.hasRedemption() ? +a.v2 : +a.v,
                    value2: this.hasRedemption() ? +a.v2 : +a.v,
                    originDate: a.d
                })),
                this.minValue = gc(this.data, a => a.value),
                this.maxValue = Nh(this.data, a => a.value);
                let i = Number.parseFloat(this.maxValue) - Number.parseFloat(this.minValue)
                  , r = Number.parseFloat(this.minValue) - i < 0 ? 0 : Number.parseFloat(this.minValue) - i / 2
                  , s = Number.parseFloat(this.maxValue) + i / 2
                  , o = this.data.map(a => a.date);
                this.x.domain(o),
                this.y.domain([r, s]),
                this.x2.domain(this.x.domain()),
                this.gY.call(this.yAxis).call(a => a.select(".domain").remove()).call(a => a.selectAll(".tick line").attr("x1", 10).attr("x2", this.dimensions.width).attr("y1", 0).attr("y2", 0).attr("opacity", "1").attr("stroke-width", "1px").attr("stroke-opacity", .1)).call(a => a.selectAll(".tick text").attr("opacity", "1").attr("x", -this.dimensions.margin.left - this.mobileMarginRight + this.mobilePadding + 10)),
                this.xAxis = Fh(this.x).tickPadding(2).ticks(this.ticksValue).tickValues(this.getTickValues()).tickFormat(a => this.formatX(a)),
                this.gX.call(this.xAxis).call(a => a.selectAll(".tick text").attr("opacity", "1")),
                this.linePath.datum(this.data).transition().ease(d4).duration(1e3).attr("d", this.line),
                this.dateLabelSpaceRatio = (this.dimensions.width - 10) / this.data.length
            } catch {}
        }
        formatAbbreviation(i) {
            if (Number.parseFloat(this.maxValue) - Number.parseFloat(this.minValue) <= 100)
                return i.toString().withSeparator();
            let s = EK(i);
            switch (s[s.length - 1]) {
            case "k":
                return s.slice(0, -1) + "K";
            case "m":
                return s.slice(0, -1) + "M";
            case "g":
            case "G":
                return s.slice(0, -1) + "B";
            default:
                return s
            }
        }
        formatX(i) {
            if (this.selectedTrend() === b0.daily)
                return i.getHours().toString().padStart(2, "0") + ":" + i.getMinutes().toString().padStart(2, "0");
            {
                let r = i.toLocaleDateString("en-US").split("/");
                return Sr.getFormattedJDate(new Date(r[2],r[0] - 1,r[1]))
            }
        }
        initializeChart() {
            return ue(this, null, function*() {
                this.rootDom && (this.dimensions.width = this.dimensions.mainWidth - this.dimensions.margin.left - this.dimensions.margin.right,
                this.dimensions.height = this.dimensions.mainHeight - this.dimensions.margin.top - this.dimensions.margin.bottom,
                this.defaultTextPosition = this.isMobile() ? -50 : 130,
                this.mobilePadding = this.isMobile() ? 25 : 0,
                this.mobileMarginRight = this.isMobile() ? -10 : 0,
                this.svg = gl(`#${this.chartId()}`).style("max-height", this.dimensions.mainWidth + "px").style("height", "auto").append("svg").attr("id", "lineChartSvg").attr("width", this.dimensions.mainWidth).attr("height", this.dimensions.mainHeight).style("margin-right", this.mobileMarginRight),
                this.x = p4().range([10, this.dimensions.width]),
                this.x2 = p4().range([10, this.dimensions.width]),
                this.y = G5().range([this.dimensions.height, 0]),
                this.xAxis = Fh(this.x).tickPadding(2).ticks(this.ticksValue).tickSize(0).tickFormat(i => this.formatX(i)),
                this.yAxis = U5(this.y).tickPadding(2).ticks(5).tickFormat(i => this.formatAbbreviation(i)),
                this.defs = this.svg.append("defs").append("svg:clipPath").attr("id", "clip").append("svg:rect").attr("width", this.dimensions.width - 10).attr("height", this.dimensions.height).attr("x", 10).attr("y", 0),
                this.Line_chart = this.svg.append("g").attr("class", "path").attr("transform", "translate(" + (this.dimensions.margin.left - 5) + "," + this.dimensions.margin.top + ")").attr("clip-path", "url(#clip)"),
                this.linePath = this.Line_chart.append("path").attr("class", "line").attr("fill", "none").attr("stroke", "steelblue").attr("stroke-width", "2.5px"),
                this.path = this.svg.append("g").attr("class", "path").attr("transform", "translate(" + (this.dimensions.margin.left - 5) + "," + this.dimensions.margin.top + ")"),
                this.zoom = t_().scaleExtent([1, 80]).translateExtent([[0, 0], [this.dimensions.width, this.dimensions.height]]).extent([[0, 0], [this.dimensions.width, this.dimensions.height]]).on("zoom", this.zoomed.bind(this)),
                this.gY = this.path.append("g").attr("class", "axis axis--y").attr("font-size", 10).style("font-family", "IRANSansX").attr("font-weight", "400"),
                this.gX = this.path.append("g").attr("class", "axis axis--x").attr("font-size", 10).style("font-family", "IRANSansX").attr("font-weight", "400").attr("stroke-width", "0px").attr("transform", "translate(0," + this.dimensions.height + ")"),
                this.line = Zv().x(i => this.x(i.date)).y(i => this.y(i.value)),
                this.createDefaultText(),
                this.tooltipType() === H1.Default ? this.createFocus() : this.tooltipType() === H1.Fund && this.createFundFocus())
            })
        }
        createDefaultText() {
            this.defaultText = this.svg.append("text").text("").attr("id", "defaultText").attr("y", 100).attr("x", this.dimensions.width / 2 + this.defaultTextPosition).attr("font-size", this.isMobile() ? 12 : 14).attr("fill", "#6c757d").attr("font-weight", "400")
        }
        showDefaultText() {
            this.chartData && !this.chartData.length && this.defaultText.text("\u062F\u0627\u062F\u0647 \u0627\u06CC \u062C\u0647\u062A \u0646\u0645\u0627\u06CC\u0634 \u06CC\u0627\u0641\u062A \u0646\u0634\u062F"),
            this.linePath.datum([]).transition().ease(d4).duration(1e3).attr("d", this.line),
            this.gY.call(i => i.selectAll(".tick line").attr("opacity", "0")).call(i => i.selectAll(".tick text").attr("opacity", "0")),
            this.gX.call(i => i.selectAll(".tick text").attr("opacity", "0"))
        }
        hideDefaultText() {
            this.defaultText?.text("")
        }
        createFocus() {
            this.focus = this.svg.append("g").attr("class", "focus").style("font-family", "IRANSansX").style("display", "none"),
            this.focus.append("line").attr("id", "vertical-line").attr("stroke", "#666").attr("stroke-width", 1).attr("stroke-opacity", .7).attr("stroke-dasharray", "3,3").attr("y1", -this.dimensions.height + this.dimensions.margin.top).attr("y2", this.dimensions.margin.bottom),
            this.focus.append("line").attr("id", "horizontal-line").attr("stroke", "#666").attr("stroke-width", 1).attr("stroke-opacity", .7).attr("stroke-dasharray", "3,3").attr("x1", this.dimensions.margin.left),
            this.focus.append("circle").attr("class", "circle").attr("r", 3).attr("dy", 3).attr("stroke", "steelblue").attr("fill", "#fff"),
            this.focus.append("rect").attr("id", "vertical-rect").attr("width", 80).attr("height", 25).attr("fill", "#d1d1d1"),
            this.focus.append("rect").attr("id", "horizontal-rect").attr("width", 80).attr("height", 25).attr("fill", "#d1d1d1"),
            this.focus.append("text").attr("id", "vertical-text").attr("text-anchor", "middle").attr("fill", "black").attr("font-size", 12),
            this.focus.append("text").attr("id", "horizontal-text").attr("text-anchor", "middle").attr("fill", "black").attr("font-size", 12),
            this.rect = this.svg.append("rect").attr("class", "zoom").attr("fill", "none").attr("pointer-events", "all").attr("width", this.dimensions.width + 5).attr("height", this.dimensions.height).attr("transform", "translate(" + (this.dimensions.margin.left - 5) + "," + this.dimensions.margin.top + ")").on("pointerup", () => {
                this.focus.style("display", "none"),
                this.isChartZoomed.emit(!0)
            }
            ).on("pointerout", () => {
                this.focus.style("display", "none")
            }
            ).on("pointermove", this.mouseMove.bind(this)),
            this.zoomable() && this.rect.call(this.zoom)
        }
        createFundFocus() {
            this.focus = this.svg.append("g").attr("class", "focus").style("font-family", "IRANSansX").style("display", "none"),
            this.focus.append("line").attr("id", "vertical-line").attr("stroke", "#666").attr("stroke-width", 1).attr("stroke-opacity", .7).attr("stroke-dasharray", "3,3"),
            this.focus.append("circle").attr("class", "circle").attr("r", 3).attr("dy", 3).attr("stroke", "steelblue").attr("stroke-width", 2).attr("fill", "#fff"),
            this.focus.append("rect").attr("id", "vertical-rect-issuanceNav").attr("width", 90).attr("height", 25).attr("fill", "#a3bce6"),
            this.focus.append("rect").attr("id", "vertical-rect-redemptionNav").attr("width", 90).attr("height", 42).attr("fill", "#ebf0f7"),
            this.focus.append("text").attr("id", "vertical-text-issuanceNav").attr("text-anchor", "middle").attr("fill", "black").attr("font-size", 12),
            this.focus.append("text").attr("id", "vertical-text-nav-label").attr("text-anchor", "middle").attr("fill", "black").attr("font-size", 10),
            this.focus.append("text").attr("id", "vertical-text-nav").attr("text-anchor", "middle").attr("fill", "black").attr("font-size", 11),
            this.focus.append("text").attr("id", "vertical-text-date").attr("text-anchor", "middle").attr("fill", "black").attr("font-size", 11),
            this.rect = this.svg.append("rect").attr("class", "zoom").attr("fill", "none").attr("pointer-events", "all").attr("width", this.dimensions.width + 5).attr("height", this.dimensions.height).attr("transform", "translate(" + (this.dimensions.margin.left - 5) + "," + this.dimensions.margin.top + ")").on("pointerdown", () => this.focus.style("display", null)).on("pointerup", () => {
                this.focus.style("display", "none")
            }
            ).on("pointerout", () => {
                this.focus.style("display", "none")
            }
            ).on("pointermove", this.fundMouseMove.bind(this))
        }
        numberWithCommas(i) {
            return i.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",")
        }
        zoomed(i) {
            if (!this.data.length)
                return;
            let r = i.transform;
            this.x.domain(r.rescaleX(this.x2).domain()),
            this.xAxis = Fh(this.x).tickPadding(2).ticks(this.ticksValue).tickFormat(s => this.formatX(s)),
            this.Line_chart.select(".line").attr("d", this.line),
            this.path.select(".axis--x").call(this.xAxis)
        }
        get rootDom() {
            return document.getElementById(this.chartId())
        }
    }
    ;
    t.\u0275fac = function(r) {
        return new (r || t)
    }
    ,
    t.\u0275cmp = Ye({
        type: t,
        selectors: [["lib-d3-line-chart"]],
        inputs: {
            selectedTrend: [1, "selectedTrend"],
            chartId: [1, "chartId"],
            isMobile: [1, "isMobile"],
            zoomable: [1, "zoomable"],
            hasRedemption: [1, "hasRedemption"],
            DoNotCallDefaultApi: [1, "DoNotCallDefaultApi"],
            tooltipType: [1, "tooltipType"]
        },
        outputs: {
            isChartZoomed: "isChartZoomed",
            periodChanged: "periodChanged"
        },
        decls: 2,
        vars: 1,
        consts: [[2, "width", "100%", "min-height", "200px"], [3, "id"]],
        template: function(r, s) {
            r & 1 && (H(0, "div", 0),
            me(1, "div", 1),
            W()),
            r & 2 && (Q(),
            H0("id", s.chartId()))
        },
        styles: [`svg[_ngcontent-%COMP%]{width:100%}
/*# sourceMappingURL=d3-line-chart.component-44KHKYBC.css.map */`],
        changeDetection: 0
    });
    let e = t;
    return e
}
)();
var G6e = new Uint32Array(65536);
var TK = ["\u06F0", "\u06F1", "\u06F2", "\u06F3", "\u06F4", "\u06F5", "\u06F6", "\u06F7", "\u06F8", "\u06F9"];
var OK = /[۰۱۲۳۴۵۶۷۸۹]/g;
var PK = e => {
    if (typeof e != "string")
        throw TypeError("PersianTools: digitsFaToEn - The input must be string");
    return String(e).replace(OK, t => `${TK.indexOf(t)}`)
}
;
var kP = "\u0627\u0628\u067E\u062A\u062B\u062C\u0686\u062D\u062E\u062F\u0630\u0631\u0632\u0698\u0633\u0634\u0635\u0636\u0637\u0638\u0639\u063A\u0641\u0642\u06A9\u06AF\u0644\u0645\u0646\u0648\u0647\u06CC\u06F0\u06F1\u06F2\u06F3\u06F4\u06F5\u06F6\u06F7\u06F8\u06F9\u064E\u0650\u064F\u200C\u0622\u0627\u064B"
  , MK = kP + "\u0652\u064C\u064D\u064B\u064F\u0650\u064E\u0651\u0654\u0670\u0621\u0643\u200C\u0629\u06C0\u0623\u0625\u064A\u0640\u0626\u0624\u060C"
  , kK = function(e, t, n) {
    t === void 0 && (t = !1),
    n === void 0 && (n = /["'-+()؟\s.]/g);
    let i = e.replace(n, "");
    return new RegExp(`^[${t ? MK : kP}]+$`).test(i)
};
var AP = e => {
    if (typeof e != "number" && typeof e != "string")
        return "";
    let t = e.toString().replace(/,/g, "")
      , n = kK(t) ? PK(t) : t;
    if (!n.match(/^-?\d+(\.\d+)?$/))
        return "";
    let i = n.startsWith("-")
      , r = i ? n.slice(1) : n
      , [s,o] = r.split(".")
      , a = s.replace(/\B(?=(\d{3})+(?!\d))/g, ",")
      , c = o ? `${a}.${o}` : a;
    return i ? `-${c}` : c
}
;
var AK = {
    \u0635\u0641\u0631: 0,
    \u06CC\u06A9: 1,
    \u062F\u0648: 2,
    \u0633\u0647: 3,
    \u0686\u0647\u0627\u0631: 4,
    \u067E\u0646\u062C: 5,
    \u0634\u0634: 6,
    \u0634\u06CC\u0634: 6,
    \u0647\u0641\u062A: 7,
    \u0647\u0634\u062A: 8,
    \u0646\u0647: 9,
    \u062F\u0647: 10,
    \u06CC\u0627\u0632\u062F\u0647: 11,
    \u062F\u0648\u0627\u0632\u062F\u0647: 12,
    \u0633\u06CC\u0632\u062F\u0647: 13,
    \u0686\u0647\u0627\u0631\u062F\u0647: 14,
    \u067E\u0627\u0646\u0632\u062F\u0647: 15,
    \u0634\u0627\u0646\u0632\u062F\u0647: 16,
    \u0647\u0641\u062F\u0647: 17,
    \u0647\u062C\u062F\u0647: 18,
    \u0646\u0648\u0632\u062F\u0647: 19,
    \u0628\u06CC\u0633\u062A: 20,
    \u0633\u06CC: 30,
    \u0686\u0647\u0644: 40,
    \u067E\u0646\u062C\u0627\u0647: 50,
    \u0634\u0635\u062A: 60,
    \u0647\u0641\u062A\u0627\u062F: 70,
    \u0647\u0634\u062A\u0627\u062F: 80,
    \u0646\u0648\u062F: 90
}
  , IK = {
    \u0635\u062F: 100,
    \u06CC\u06A9\u0635\u062F: 100,
    \u062F\u0648\u06CC\u0633\u062A: 200,
    \u0633\u06CC\u0635\u062F: 300,
    \u0686\u0647\u0627\u0631\u0635\u062F: 400,
    \u067E\u0627\u0646\u0635\u062F: 500,
    \u0634\u0634\u0635\u062F: 600,
    \u0647\u0641\u062A\u0635\u062F: 700,
    \u0647\u0634\u062A\u0635\u062F: 800,
    \u0646\u0647\u0635\u062F: 900
}
  , RK = {
    \u0647\u0632\u0627\u0631: 1e3,
    \u0645\u06CC\u0644\u06CC\u0648\u0646: 1e6,
    \u0628\u06CC\u0644\u06CC\u0648\u0646: 1e9,
    \u0645\u06CC\u0644\u06CC\u0627\u0631\u062F: 1e9,
    \u062A\u0631\u06CC\u0644\u06CC\u0648\u0646: 1e12
};
var DK = [...Object.keys(AK), ...Object.keys(IK), ...Object.keys(RK)]
  , NK = ["\u0648", " \u0648 "]
  , FK = ["\u0645\u0646\u0641\u06CC", "\u0645\u062B\u0628\u062A"]
  , j6e = [...DK, ...NK, ...FK];
var q6e = new RegExp("([\u06F0-\u06F90-9-_.*]{16,20})","img");
var Zi = "\u0647\u0645\u0631\u0627\u0647 \u0627\u0648\u0644"
  , E8 = "\u0627\u06CC\u0631\u0627\u0646\u0633\u0644"
  , Rp = "\u0631\u0627\u06CC\u062A\u0644"
  , IP = {
    910: {
        base: "\u06A9\u0634\u0648\u0631\u06CC",
        province: [],
        type: ["permanent", "credit"],
        operator: Zi
    },
    914: {
        province: ["\u0622\u0630\u0631\u0628\u0627\u06CC\u062C\u0627\u0646 \u0634\u0631\u0642\u06CC", "\u0627\u0631\u062F\u0628\u06CC\u0644", "\u0627\u0635\u0641\u0647\u0627\u0646"],
        base: "\u0622\u0630\u0631\u0628\u0627\u06CC\u062C\u0627\u0646 \u063A\u0631\u0628\u06CC",
        type: ["permanent", "credit"],
        operator: Zi
    },
    911: {
        province: ["\u06AF\u0644\u0633\u062A\u0627\u0646", "\u06AF\u06CC\u0644\u0627\u0646"],
        base: "\u0645\u0627\u0632\u0646\u062F\u0631\u0627\u0646",
        type: ["permanent", "credit"],
        operator: Zi
    },
    912: {
        province: ["\u0627\u0644\u0628\u0631\u0632", "\u0632\u0646\u062C\u0627\u0646", "\u0633\u0645\u0646\u0627\u0646", "\u0642\u0632\u0648\u06CC\u0646", "\u0642\u0645", "\u0628\u0631\u062E\u06CC \u0627\u0632 \u0634\u0647\u0631\u0633\u062A\u0627\u0646 \u0647\u0627\u06CC \u0627\u0633\u062A\u0627\u0646 \u0645\u0631\u06A9\u0632\u06CC"],
        base: "\u062A\u0647\u0631\u0627\u0646",
        type: ["permanent"],
        operator: Zi
    },
    913: {
        province: ["\u06CC\u0632\u062F", "\u0686\u0647\u0627\u0631\u0645\u062D\u0627\u0644 \u0648 \u0628\u062E\u062A\u06CC\u0627\u0631\u06CC", "\u06A9\u0631\u0645\u0627\u0646"],
        base: "\u0627\u0635\u0641\u0647\u0627\u0646",
        type: ["permanent", "credit"],
        operator: Zi
    },
    915: {
        province: ["\u062E\u0631\u0627\u0633\u0627\u0646 \u0634\u0645\u0627\u0644\u06CC", "\u062E\u0631\u0627\u0633\u0627\u0646 \u062C\u0646\u0648\u0628\u06CC", "\u0633\u06CC\u0633\u062A\u0627\u0646 \u0648 \u0628\u0644\u0648\u0686\u0633\u062A\u0627\u0646"],
        base: "\u062E\u0631\u0627\u0633\u0627\u0646 \u0631\u0636\u0648\u06CC",
        type: ["permanent", "credit"],
        operator: Zi
    },
    916: {
        province: ["\u0644\u0631\u0633\u062A\u0627\u0646", "\u0641\u0627\u0631\u0633", "\u0627\u0635\u0641\u0647\u0627\u0646"],
        base: "\u062E\u0648\u0632\u0633\u062A\u0627\u0646",
        type: ["permanent", "credit"],
        operator: Zi
    },
    917: {
        province: ["\u0628\u0648\u0634\u0647\u0631", "\u06A9\u0647\u06AF\u06CC\u0644\u0648\u06CC\u0647 \u0648 \u0628\u0648\u06CC\u0631 \u0627\u062D\u0645\u062F", "\u0647\u0631\u0645\u0632\u06AF\u0627\u0646"],
        base: "\u0641\u0627\u0631\u0633",
        type: ["permanent", "credit"],
        operator: Zi
    },
    918: {
        province: ["\u06A9\u0631\u062F\u0633\u062A\u0627\u0646", "\u0627\u06CC\u0644\u0627\u0645", "\u0647\u0645\u062F\u0627\u0646"],
        base: "\u06A9\u0631\u0645\u0627\u0646\u0634\u0627\u0647",
        type: ["permanent", "credit"],
        operator: Zi
    },
    919: {
        province: ["\u0627\u0644\u0628\u0631\u0632", "\u0633\u0645\u0646\u0627\u0646", "\u0642\u0645", "\u0642\u0632\u0648\u06CC\u0646", "\u0632\u0646\u062C\u0627\u0646"],
        base: "\u062A\u0647\u0631\u0627\u0646",
        type: ["credit"],
        operator: Zi
    },
    990: {
        province: [],
        base: "\u06A9\u0634\u0648\u0631\u06CC",
        type: ["credit"],
        operator: Zi
    },
    991: {
        province: [],
        base: "\u06A9\u0634\u0648\u0631\u06CC",
        type: ["permanent", "credit"],
        operator: Zi
    },
    992: {
        province: [],
        base: "\u06A9\u0634\u0648\u0631\u06CC",
        type: ["credit"],
        operator: Zi
    },
    993: {
        province: [],
        base: "\u06A9\u0634\u0648\u0631\u06CC",
        type: ["credit"],
        operator: Zi
    },
    994: {
        province: [],
        base: "\u06A9\u0634\u0648\u0631\u06CC",
        type: ["credit"],
        operator: Zi
    },
    995: {
        province: [],
        base: "\u06A9\u0634\u0648\u0631\u06CC",
        type: ["permanent", "credit"],
        operator: Zi
    },
    996: {
        province: [],
        base: "\u06A9\u0634\u0648\u0631\u06CC",
        type: ["permanent", "credit"],
        operator: Zi
    }
}
  , RP = {
    932: {
        province: [],
        base: "\u06A9\u0634\u0648\u0631\u06CC",
        type: ["credit"],
        operator: "\u062A\u0627\u0644\u06CC\u0627"
    }
}
  , DP = {
    920: {
        province: [],
        base: "\u06A9\u0634\u0648\u0631\u06CC",
        type: ["permanent"],
        operator: Rp
    },
    921: {
        province: [],
        base: "\u06A9\u0634\u0648\u0631\u06CC",
        type: ["credit"],
        operator: Rp
    },
    922: {
        province: [],
        base: "\u06A9\u0634\u0648\u0631\u06CC",
        type: ["credit"],
        operator: Rp
    },
    923: {
        province: [],
        base: "\u06A9\u0634\u0648\u0631\u06CC",
        type: ["credit"],
        operator: Rp
    }
}
  , js = {
    province: [],
    base: "\u06A9\u0634\u0648\u0631\u06CC",
    type: ["permanent", "credit"],
    operator: E8
}
  , NP = {
    930: js,
    933: js,
    935: js,
    936: js,
    937: js,
    938: js,
    939: js,
    901: js,
    902: js,
    903: js,
    905: js,
    900: js,
    904: {
        province: [],
        base: "\u06A9\u0634\u0648\u0631\u06CC",
        model: "\u0633\u06CC\u0645\u200C\u06A9\u0627\u0631\u062A \u06A9\u0648\u062F\u06A9",
        type: ["credit"],
        operator: E8
    },
    941: {
        province: [],
        base: "\u06A9\u0634\u0648\u0631\u06CC",
        model: "TD-LTE",
        type: ["credit"],
        operator: E8
    }
}
  , FP = {
    998: {
        province: [],
        base: "\u06A9\u0634\u0648\u0631\u06CC",
        type: ["credit"],
        operator: "\u0634\u0627\u062A\u0644 \u0645\u0648\u0628\u0627\u06CC\u0644"
    }
}
  , LP = {
    999: {
        base: "\u06A9\u0634\u0648\u0631\u06CC",
        province: [],
        type: ["permanent", "credit"],
        operator: "\u0622\u067E\u062A\u0644"
    }
}
  , z6e = [...Object.keys(IP), ...Object.keys(RP), ...Object.keys(DP), ...Object.keys(NP), ...Object.keys(FP), ...Object.keys(LP)]
  , X6e = C(C(C(C(C(C({}, IP), RP), NP), FP), DP), LP);
var sge = ( () => {
    let t = class t {
        constructor() {
            this.chartId = Ee.required(),
            this.width = Ee(),
            this.height = Ee(),
            this.showTooltip = Ee(!1),
            this.showLabel = Ee(!1),
            this.slicesClass = Ee(""),
            this.injector = z(an),
            this.data = Ee.required(),
            this.dimensions = {
                width: 250,
                height: 250,
                margin: 20
            },
            this.radius = 0,
            wi(sn(window, "scroll").pipe(Ge( () => {
                this.tooltipGroup?.style("display", "none")
            }
            )))
        }
        ngAfterViewInit() {
            M5( () => {
                if (this.data() && this.radius === 0) {
                    this.dimensions.width = this.width() ?? this.dimensions.width,
                    this.dimensions.height = this.height() ?? this.dimensions.height,
                    this.radius = Math.min(this.dimensions.width, this.dimensions.height) / 2 - this.dimensions.margin;
                    let i = Jv().innerRadius(this.radius * .4).outerRadius(this.radius).cornerRadius(3)
                      , r = e_().padAngle(5 / this.radius).sort(null)
                      , s = gl(`#${this.chartId()}`);
                    this.svg = s.append("svg").attr("width", this.dimensions.width).attr("height", this.dimensions.height).attr("id", "svg-donut").attr("viewBox", [-this.dimensions.width / 2, -this.dimensions.height / 2, this.dimensions.width, this.dimensions.height]).attr("style", "max-width: 100%; height: auto;"),
                    this.svg.append("g").selectAll().data( () => r(this.data().map(o => +o.label).filter(o => o > 0))).join("path").attr("d", o => i(o)).data(this.data().filter(o => +o.label > 0)).attr("fill", o => o.color).attr("stroke-width", 2).attr("cursor", "pointer").attr("class", this.slicesClass()).attr("id", o => "data-" + this.data().findIndex(a => a.name === o.name)).on("mousemove", o => {
                        this.showTooltipHandler(o)
                    }
                    ).on("touchmove", o => {
                        this.showTooltipHandler(o)
                    }
                    ).on("touchstart", o => {
                        this.showTooltipHandler(o)
                    }
                    ).on("touchend", () => {
                        this.hideTooltipHandler()
                    }
                    ).on("pointerout", () => {
                        this.hideTooltipHandler()
                    }
                    ),
                    this.svg.append("g").attr("text-anchor", "middle").selectAll().data( () => r(this.data().map(o => +o.label).filter(o => o > 0))).join("text").attr("transform", o => `translate(${i.centroid(o)[0]},${i.centroid(o)[1] + 8})`).data(this.data()).call(o => o.append("tspan").text(a => this.showLabel() ? +a.label < 10 ? "" : a.label + "%" : "").attr("fill", "var(--bs-body-bg)").attr("font-size", "14px").attr("font-weight", "700")).on("mousemove", o => {
                        this.showTooltipHandler(o)
                    }
                    ).on("touchmove", o => {
                        this.showTooltipHandler(o)
                    }
                    ).on("touchstart", o => {
                        this.showTooltipHandler(o)
                    }
                    ).on("touchend", () => {
                        this.hideTooltipHandler()
                    }
                    ).on("pointerout", () => {
                        this.hideTooltipHandler()
                    }
                    )
                }
            }
            , {
                injector: this.injector
            }),
            this.showTooltip() && this.createFocusElement()
        }
        createFocusElement() {
            this.tooltipGroup = gl(`#${this.chartId()}`).append("div").attr("class", "toolTip").attr("id", "tooltip-container")
        }
        preventScroll() {}
        hideTooltipHandler() {
            setTimeout( () => this.tooltipGroup.style("display", "none"), 10),
            this.svg.selectAll("path").attr("stroke", null)
        }
        showTooltipHandler(i) {
            if (i) {
                let {x: r, y: s} = {
                    x: i.type.includes("mouse") ? i?.clientX : i?.touches?.[0]?.clientX,
                    y: i.type.includes("mouse") ? i?.clientY : i?.touches?.[0]?.clientY
                }
                  , o = document.elementFromPoint(r, s)?.id
                  , a = +o.split("")[o.length - 1];
                a >= 0 && document.getElementById("svg-donut")?.getBoundingClientRect().left < r && document.getElementById("svg-donut")?.getBoundingClientRect().right > r && document.getElementById("svg-donut")?.getBoundingClientRect().top < s && document.getElementById("svg-donut")?.getBoundingClientRect().bottom > s && this.data()[a] ? (this.tooltipGroup.style("display", "inline-block").style("left", r - 40 + "px").style("top", i?.touches?.[0]?.clientY - 85 + "px").attr("text-anchor", "middle").html("\u0627\u0631\u0632\u0634 \u0646\u0645\u0627\u062F " + this.data()[a].name + "<br>" + AP(Math.round(this.data()[a].value)) + " \u0631\u064A\u0627\u0644 "),
                this.svg.select("#" + o).attr("stroke", "rgba(0,0,0, 0.7)")) : this.hideTooltipHandler()
            }
        }
    }
    ;
    t.\u0275fac = function(r) {
        return new (r || t)
    }
    ,
    t.\u0275cmp = Ye({
        type: t,
        selectors: [["donut-chart"]],
        inputs: {
            chartId: [1, "chartId"],
            width: [1, "width"],
            height: [1, "height"],
            showTooltip: [1, "showTooltip"],
            showLabel: [1, "showLabel"],
            slicesClass: [1, "slicesClass"],
            data: [1, "data"]
        },
        decls: 1,
        vars: 1,
        consts: [[2, "text-align", "center", 3, "swipe", "scroll", "id"]],
        template: function(r, s) {
            r & 1 && (H(0, "div", 0),
            Qe("swipe", function() {
                return s.preventScroll()
            })("scroll", function() {
                return s.preventScroll()
            }),
            W()),
            r & 2 && ye("id", s.chartId())
        },
        styles: [`.toolTip{position:absolute;display:none;width:auto;height:auto;background:var(--color-principal);border-radius:var(--rounded);box-shadow:var(--bs-box-shadow-sm);color:var(--bs-body-color);padding:5px;text-align:center}
/*# sourceMappingURL=donut-chart.component-EGZHYYFS.css.map */
`],
        encapsulation: 2,
        changeDetection: 0
    });
    let e = t;
    return e
}
)();
var lge = ( () => {
    let t = class t {
        constructor() {
            this.isOpen = !1,
            this.isOpenSubject = new Ne(!1),
            this.isOpenObs$ = this.isOpenSubject.asObservable().pipe(ss(20))
        }
        hideDrawerMenu() {
            this.isOpenSubject.next(!1)
        }
        showDrawerMenu() {
            this.isOpenSubject.next(!0)
        }
    }
    ;
    t.\u0275fac = function(r) {
        return new (r || t)
    }
    ,
    t.\u0275prov = re({
        token: t,
        factory: t.\u0275fac,
        providedIn: "root"
    });
    let e = t;
    return e
}
)();
var T8 = function(e) {
    return e[e.None = 0] = "None",
    e[e.Setting = 1] = "Setting",
    e[e.Confirm = 2] = "Confirm",
    e[e.AddSymbolPanelWithSearch = 3] = "AddSymbolPanelWithSearch",
    e[e.AddSymbolPanel = 4] = "AddSymbolPanel",
    e[e.FundConsult = 5] = "FundConsult",
    e[e.FundBuy = 6] = "FundBuy",
    e[e.FundSell = 7] = "FundSell",
    e[e.FundConfirm = 8] = "FundConfirm",
    e[e.FundIncrease = 9] = "FundIncrease",
    e
}(T8 || {});
function LK(e, t) {}
var BP = ( () => {
    let t = class t {
        get OverlayType() {
            return T8
        }
        constructor(i) {
            this.overlayService = i,
            this.appDynamic = sc(V5),
            this.isMobile = Ee(!1),
            this.currentComponentName = null,
            this.overlay = wi(this.overlayService.overlayState$.pipe(Ge(r => {
                !this.currentComponentName && r?.component ? this.createComponent(r) : r.component && r.option?.componentName !== this.currentComponentName ? this.createComponent(r) : !r.component && this.currentComponentName && this.clearComponent(r)
            }
            )))
        }
        closeForm() {
            this.overlayService.hideOverlay()
        }
        createComponent(i) {
            this.clearComponent(i);
            let s = (this.appDynamic()?.viewContainerRef).createComponent(i?.component);
            i?.class && (s.location.nativeElement.className = i.class),
            i.input?.forEach(o => {
                s.setInput(o.inputName, o.inputValue)
            }
            ),
            i?.output?.forEach(o => {
                s.instance[o?.outputName]?.subscribe(a => {
                    o?.outputCallBack?.(a),
                    o?.closeForm && this.closeForm()
                }
                )
            }
            ),
            this.currentComponentName = i.option.componentName
        }
        clearComponent(i) {
            this.currentComponentName = null;
            let r;
            if (!this.appDynamic || !i?.component) {
                r = this.appDynamic()?.viewContainerRef,
                r?.clear();
                return
            }
            r = this.appDynamic()?.viewContainerRef,
            r?.clear()
        }
    }
    ;
    t.\u0275fac = function(r) {
        return new (r || t)(Pt(l5))
    }
    ,
    t.\u0275cmp = Ye({
        type: t,
        selectors: [["overlay-management"]],
        viewQuery: function(r, s) {
            r & 1 && cc(s.appDynamic, V5, 5),
            r & 2 && lc()
        },
        inputs: {
            isMobile: [1, "isMobile"]
        },
        decls: 1,
        vars: 0,
        consts: [["appDynamic", ""]],
        template: function(r, s) {
            r & 1 && at(0, LK, 0, 0, "ng-template", 0)
        },
        dependencies: [V5],
        encapsulation: 2,
        changeDetection: 0
    });
    let e = t;
    return e
}
)();
var BK = e => ({
    active: e
})
  , UK = e => ({
    "overlay-management--show": e
});
function HK(e, t) {}
var Oge = ( () => {
    let t = class t {
        constructor(i) {
            this.overlayService = i,
            this.closed = Wt(),
            this.overlayState = wi(this.overlayService.overlayState$)
        }
        closeHandler() {
            this.overlayService.overlaySubject.value.isShow && this.closed.emit()
        }
        clickOutSideOverlay() {
            this.overlayService.hideOverlay()
        }
    }
    ;
    t.\u0275fac = function(r) {
        return new (r || t)(Pt(l5))
    }
    ,
    t.\u0275cmp = Ye({
        type: t,
        selectors: [["drawer-menu"]],
        outputs: {
            closed: "closed"
        },
        decls: 5,
        vars: 8,
        consts: [[1, "overlay", "position-absolute", 3, "click", "ngClass"], ["swipeUpDown", "", 1, "overlay-management", "bg-principal", "bg-principal-4x-dark", "rounded-top-4", "shadow-lg", "d-flex", "flex-column", 3, "swipeHide", "touchOutside", "ngClass"], [1, "d-flex", "flex-column", "overflow-hidden", 3, "isMobile"]],
        template: function(r, s) {
            if (r & 1 && (at(0, HK, 0, 0),
            H(1, "div")(2, "div", 0),
            Qe("click", function() {
                return s.clickOutSideOverlay()
            }),
            W(),
            H(3, "div", 1),
            Qe("swipeHide", function() {
                return s.closeHandler()
            })("touchOutside", function() {
                let a;
                return ((a = s.overlayState()) == null ? null : a.isShow) && s.closeHandler()
            }),
            me(4, "overlay-management", 2),
            W()()),
            r & 2) {
                let o, a;
                tt(s.overlayState() ? 0 : -1),
                Q(2),
                ye("ngClass", Dn(4, BK, (o = s.overlayState()) == null ? null : o.isShow)),
                Q(),
                ye("ngClass", Dn(6, UK, (a = s.overlayState()) == null ? null : a.isShow)),
                Q(),
                ye("isMobile", !0)
            }
        },
        dependencies: [fc, rr, s_, r_, BP],
        styles: [`.drawer-menu-overlay[_ngcontent-%COMP%]{position:absolute;left:0;right:0;bottom:0}.drawer-menu-overlay[_ngcontent-%COMP%]:before{content:"";position:absolute;top:10px;right:50%;width:50px;margin-right:-25px;height:5px;border-radius:10px}
/*# sourceMappingURL=drawer-menu.component-7G2UKSSI.css.map */`],
        changeDetection: 0
    });
    let e = t;
    return e
}
)();
var Hge = ( () => {
    let t = class t extends gn {
        constructor() {
            super(...arguments),
            this.userService = z(Wr),
            this.userDeviceService = z(hr),
            this.showModal = wt(!1),
            this.data = new lt,
            this.data$ = this.data.asObservable(),
            this.fetchMedia$ = this.data$.pipe(Vt(Qn))
        }
        getData$(i, r=!0) {
            return this.userDeviceService.deviceType$.pipe(mt(s => s !== yn.Unknown), Lt(1), Vt(s => {
                let o = `Features?Key=${i}&DeviceType=${s}&ThemeType=${r ? 0 : 1}`;
                return this.httpService.get(this.mtsPath + this.apiUrls.easy + o)
            }
            ), Vt(s => Qn(s).pipe(ci(o => this.getMedia(o)))), tv( (s, o) => [...s, o], []), Ge(s => this.data.next(s.toSort( (o, a) => o.pageNumber - a.pageNumber))))
        }
        getMedia(i) {
            return this.httpService.getBlob(`${this.mtsPath + this.apiUrls.easy}media/${i.mediaId}`, {
                responseType: "blob"
            }).pipe(Vt(r => nE(r)), $e(r => (i.media = r,
            i)))
        }
        showSliderModal() {
            this.showModal.set(!0)
        }
        closeSliderModal(i) {
            this.showModal.set(!1),
            this.httpService.put(this.mtsPath + this.apiUrls.easy + "Features", {
                body: {
                    featureId: i,
                    deviceType: this.userDeviceService.deviceType == yn.Mobile ? 0 : 1
                }
            }).subscribe()
        }
    }
    ;
    t.\u0275fac = ( () => {
        let i;
        return function(s) {
            return (i || (i = On(t)))(s || t)
        }
    }
    )(),
    t.\u0275prov = re({
        token: t,
        factory: t.\u0275fac,
        providedIn: "root"
    });
    let e = t;
    return e
}
)();
var GK = ["symbol-candle", ""]
  , VK = e => ({
    "--candlestick-bg": e
});
function WK(e, t) {
    if (e & 1 && (H(0, "div", 1)(1, "div", 3)(2, "div", 4)(3, "div", 5),
    me(4, "div", 6),
    W()()()()),
    e & 2) {
        let n, i = Te(), r = uc(3);
        ye("triggers", i.isMobile() ? "click:blur" : "mouseenter:mouseleave")("ngbPopover", r),
        Q(2),
        ye("ngStyle", Dn(11, VK, ((n = i.symbol()) == null ? null : n.lastTradedPrice) >= ((n = i.symbol()) == null ? null : n.firstTradedPrice) ? " #1bbf89" : "#db524b")),
        Q(),
        w5("left", i.candleParent().left + "%")("right", i.candleParent().right + "%"),
        Q(),
        w5("left", i.candleBody().left + "%")("right", i.candleBody().right + "%")
    }
}
function $K(e, t) {
    if (e & 1 && (H(0, "div", 7),
    oe(1, " O : "),
    H(2, "span"),
    oe(3),
    ha(4, "number"),
    W()(),
    H(5, "div", 7),
    oe(6, " H : "),
    H(7, "span"),
    oe(8),
    ha(9, "number"),
    W()(),
    H(10, "div", 7),
    oe(11, " L : "),
    H(12, "span"),
    oe(13),
    ha(14, "number"),
    W()(),
    H(15, "div", 7),
    oe(16, " C : "),
    H(17, "span"),
    oe(18),
    ha(19, "number"),
    W()()),
    e & 2) {
        let n, i, r, s, o = Te();
        Q(3),
        Pn(da(4, 4, (n = o.symbol()) == null ? null : n.firstTradedPrice)),
        Q(5),
        Pn(da(9, 6, (i = o.symbol()) == null ? null : i.maxDailyTradedPrice)),
        Q(5),
        Pn(da(14, 8, (r = o.symbol()) == null ? null : r.minDailyTradedPrice)),
        Q(5),
        Pn(da(19, 10, (s = o.symbol()) == null ? null : s.lastTradedPrice))
    }
}
var Zge = ( () => {
    let t = class t {
        constructor() {
            this.symbol = Ee(),
            this.isMobile = Ee(!0),
            this.candleParent = wt({
                right: 0,
                left: 0
            }),
            this.candleBody = wt({
                right: 0,
                left: 0
            })
        }
        ngOnInit() {
            this.symbol && (this.calculateCandlePercent(),
            this.calculateCandleBodyPercent())
        }
        ngOnChanges(i) {
            i.symbol.currentValue !== i.symbol.previousValue && (this.calculateCandlePercent(),
            this.calculateCandleBodyPercent())
        }
        calculateCandlePercent() {
            this.candleParent.set({
                left: (this.symbol().minDailyTradedPrice - this.symbol().minDailyPrice) / (this.symbol().maxDailyPrice - this.symbol().minDailyPrice) * 100,
                right: (this.symbol().maxDailyPrice - this.symbol().maxDailyTradedPrice) / (this.symbol().maxDailyPrice - this.symbol().minDailyPrice) * 100
            })
        }
        calculateCandleBodyPercent() {
            this.candleBody.set({
                left: ((this.symbol().firstTradedPrice > this.symbol().lastTradedPrice ? this.symbol().lastTradedPrice : this.symbol().firstTradedPrice) - this.symbol().minDailyTradedPrice) / (this.symbol().maxDailyTradedPrice - this.symbol().minDailyTradedPrice) * 100,
                right: (this.symbol().maxDailyTradedPrice - (this.symbol().firstTradedPrice > this.symbol().lastTradedPrice ? this.symbol().firstTradedPrice : this.symbol().lastTradedPrice)) / (this.symbol().maxDailyTradedPrice - this.symbol().minDailyTradedPrice) * 100
            })
        }
    }
    ;
    t.\u0275fac = function(r) {
        return new (r || t)
    }
    ,
    t.\u0275cmp = Ye({
        type: t,
        selectors: [["", "symbol-candle", ""]],
        inputs: {
            symbol: [1, "symbol"],
            isMobile: [1, "isMobile"]
        },
        features: [qs],
        attrs: GK,
        decls: 4,
        vars: 1,
        consts: [["popUp", ""], ["id", "priceChart", 1, "price-chart", "d-flex", "flex-column", "justify-content-end", "w-100", "cud", 3, "triggers", "ngbPopover"], [1, "priceChart_centerline"], [1, "progress"], [1, "candlestick", 3, "ngStyle"], ["ng", "", 1, "candlestick-shadow"], [1, "candlestick-realbody"], [1, "mb-1", "fw-bold", "text-end"]],
        template: function(r, s) {
            if (r & 1 && (at(0, WK, 5, 13, "div", 1),
            me(1, "div", 2),
            at(2, $K, 20, 12, "ng-template", null, 0, hc)),
            r & 2) {
                let o;
                tt(((o = s.symbol()) == null ? null : o.totalNumberOfSharesTraded) > 0 ? 0 : -1)
            }
        },
        dependencies: [Fv, Uv],
        encapsulation: 2,
        changeDetection: 0
    });
    let e = t;
    return e
}
)();
function jK(e, t) {
    if (e & 1 && (H(0, "li", 10),
    oe(1),
    W()),
    e & 2) {
        let n = t.$implicit;
        Q(),
        Zn(" ", n, " ")
    }
}
function qK(e, t) {
    if (e & 1 && (H(0, "div", 1)(1, "ul", 9),
    us(2, jK, 2, 1, "li", 10, ls),
    W()()),
    e & 2) {
        let n, i = Te(2);
        Q(2),
        hs((n = i.integratedGroupType()) == null ? null : n.headers)
    }
}
function zK(e, t) {
    if (e & 1 && (H(0, "span", 11),
    oe(1),
    W()),
    e & 2) {
        let n = Te(3);
        Q(),
        Pn(n.symbolName())
    }
}
function XK(e, t) {
    if (e & 1) {
        let n = cn();
        H(0, "div", 2)(1, "div"),
        oe(2, " \u0633\u0627\u0639\u062A \u0645\u062C\u0627\u0632 \u062B\u0628\u062A \u0633\u0641\u0627\u0631\u0634\u0627\u062A "),
        at(3, zK, 2, 1, "span", 11),
        W(),
        H(4, "svg-icon", 12),
        Qe("click", function() {
            yt(n);
            let r = Te(2);
            return bt(r.handleClose())
        }),
        W()()
    }
    if (e & 2) {
        let n = Te(2);
        Q(3),
        tt(n.symbolName() ? 3 : -1),
        Q(),
        ye("iconName", n.icons == null ? null : n.icons.Close)
    }
}
function KK(e, t) {
    if (e & 1 && (H(0, "div", 4)(1, "span", 13),
    oe(2, "|"),
    W(),
    me(3, "hr", 14),
    H(4, "span", 15),
    oe(5),
    W(),
    me(6, "hr", 14),
    W()),
    e & 2) {
        let n = t.$implicit;
        ye("ngClass", n == null ? null : n.classes),
        Q(5),
        Pn(n == null ? null : n.text)
    }
}
function YK(e, t) {
    if (e & 1 && (H(0, "div", 5),
    oe(1),
    W()),
    e & 2) {
        let n = t.$implicit;
        ye("ngClass", n == null ? null : n.classes),
        Q(),
        Zn(" ", n == null ? null : n.value, " ")
    }
}
function QK(e, t) {
    if (e & 1 && me(0, "div", 7),
    e & 2) {
        let n = t.$implicit;
        ye("ngClass", n)
    }
}
function JK(e, t) {
    if (e & 1 && (H(0, "div", 0),
    at(1, qK, 4, 0, "div", 1)(2, XK, 5, 2, "div", 2),
    H(3, "div", 3)(4, "div"),
    us(5, KK, 7, 2, "div", 4, ls),
    W(),
    H(7, "div"),
    us(8, YK, 2, 2, "div", 5, ls),
    W(),
    H(10, "div", 6),
    us(11, QK, 1, 1, "div", 7, ls),
    W(),
    H(13, "div")(14, "div")(15, "span", 8),
    oe(16, "\u0631\u0648\u0632\u0647\u0627\u06CC \u0647\u0641\u062A\u0647:"),
    W(),
    H(17, "span"),
    oe(18),
    W()()()()()),
    e & 2) {
        let n, i, r, s, o = Te();
        Q(),
        tt(o.showHeaders() ? 1 : -1),
        Q(),
        tt(!o.showHeaders() && o.showCloseButton() ? 2 : -1),
        Q(),
        ye("ngClass", o.showHeaders() ? "p-2 p-md-3" : "p-2"),
        Q(),
        mr("d-flex align-items-center justify-content-between text-center text-muted " + (o.showCompactSize() ? "small" : "")),
        Q(),
        hs((n = o.integratedGroupType()) == null ? null : n.titles),
        Q(2),
        mr("d-flex " + (o.showCompactSize() ? "small" : "")),
        Q(),
        hs((i = o.integratedGroupType()) == null ? null : i.times),
        Q(2),
        mr("d-flex " + (o.showCompactSize() ? "mb-1 small" : "mb-3")),
        Q(),
        hs((r = o.integratedGroupType()) == null ? null : r.progress),
        Q(2),
        mr("d-flex justify-content-between align-items-center " + (o.showCompactSize() ? "small" : "")),
        Q(5),
        Pn((s = o.integratedGroupType()) == null ? null : s.weekText)
    }
}
var UP = ( () => {
    let t = class t {
        constructor() {
            this.icons = $t,
            this.integratedGroupType = oc.required(),
            this.symbolGroup = Ee(),
            this.symbolIsin = Ee(),
            this.showHeaders = Ee(!1),
            this.showCloseButton = oc(!0),
            this.symbolGroupChangeStatus = Ee(),
            this.showCompactSize = Ee(!1),
            this.show = oc(!1),
            this.symbolName = oc(""),
            this.closeChange = Wt()
        }
        handleClose() {
            this.closeChange.emit(!0)
        }
    }
    ;
    t.\u0275fac = function(r) {
        return new (r || t)
    }
    ,
    t.\u0275cmp = Ye({
        type: t,
        selectors: [["symbol-group-market-time-item"]],
        inputs: {
            integratedGroupType: [1, "integratedGroupType"],
            symbolGroup: [1, "symbolGroup"],
            symbolIsin: [1, "symbolIsin"],
            showHeaders: [1, "showHeaders"],
            showCloseButton: [1, "showCloseButton"],
            symbolGroupChangeStatus: [1, "symbolGroupChangeStatus"],
            showCompactSize: [1, "showCompactSize"],
            show: [1, "show"],
            symbolName: [1, "symbolName"]
        },
        outputs: {
            integratedGroupType: "integratedGroupTypeChange",
            showCloseButton: "showCloseButtonChange",
            show: "showChange",
            symbolName: "symbolNameChange",
            closeChange: "closeChange"
        },
        decls: 1,
        vars: 1,
        consts: [[1, "bg-principal-2x-dark-mobile", "bg-principal-7x", "card", "mb-2", "shadow-sm"], [1, "bg-principal-2x", "bg-principal-4x-dark", "card-header", "p-0", "overflow-hidden"], [1, "card-header", "d-flex", "justify-content-between", "align-items-center", "pe-3", "bg-principal-4x-dark"], [1, "card-body", 3, "ngClass"], [1, "d-flex", "align-items-center", "justify-content-center", "text-center", "integrated-group-item", "small", 3, "ngClass"], [1, "p-0", 3, "ngClass"], [2, "height", "5px"], [1, "h-100", 3, "ngClass"], [1, "fw-bold"], [1, "list-group", "list-group-flush", "p-0", "m-0", 2, "--bs-list-group-bg", "transparent"], [1, "list-group-item", "px-2", "px-md-3", "border-principal-3x-dark-mobile", "border-principal-6x-dark"], [1, "text-primary"], ["width", "20", "height", "20", 1, "text-muted", "cup", 3, "click", "iconName"], [1, "opacity-5"], [1, "flex-fill"], [1, "text-center", "px-2"]],
        template: function(r, s) {
            r & 1 && at(0, JK, 19, 12, "div", 0),
            r & 2 && tt(s.show() ? 0 : -1)
        },
        dependencies: [rr, Fn],
        styles: [`.integrated-group-item:last-child:after{content:"|";display:inline-block;color:#787c85;opacity:.5}
/*# sourceMappingURL=symbol-group-market-time-item.style-SOL3J6CD.css.map */
`],
        encapsulation: 2,
        changeDetection: 0
    });
    let e = t;
    return e
}
)();
function ZK(e, t) {
    if (e & 1 && me(0, "symbol-group-market-time-item", 5),
    e & 2) {
        let n = t.$implicit;
        ye("showHeaders", !0)("integratedGroupType", n)("show", !0)
    }
}
var HP = ( () => {
    let t = class t {
        constructor(i) {
            this.modalService = i,
            this.GroupTypeConstants = Lo
        }
        handleClose() {
            this.modalService.dismissAll()
        }
    }
    ;
    t.\u0275fac = function(r) {
        return new (r || t)(Pt(Jc))
    }
    ,
    t.\u0275cmp = Ye({
        type: t,
        selectors: [["symbol-group-market-time-list"]],
        decls: 8,
        vars: 0,
        consts: [["data-cy", "symbol-group-market-time-list-header", 1, "modal-header", "align-items-center"], [1, "modal-title", "fw-bold"], ["type", "button", "aria-label", "Close", 1, "btn-close", "ms-auto", "me-0", "p-0", "cup", 3, "click"], ["aria-hidden", "true"], ["data-cy", "symbol-group-market-time-list-detail", 1, "modal-body", "bg-principal-3x-dark-mobile"], [3, "showHeaders", "integratedGroupType", "show"]],
        template: function(r, s) {
            r & 1 && (H(0, "div", 0)(1, "span", 1),
            oe(2, "\u0633\u0627\u0639\u062A \u0645\u062C\u0627\u0632 \u062B\u0628\u062A \u0633\u0641\u0627\u0631\u0634\u0627\u062A"),
            W(),
            H(3, "button", 2),
            Qe("click", function() {
                return s.handleClose()
            }),
            me(4, "span", 3),
            W()(),
            H(5, "div", 4),
            us(6, ZK, 1, 3, "symbol-group-market-time-item", 5, ls),
            W()),
            r & 2 && (Q(6),
            hs(s.GroupTypeConstants.IntegratedGroupTypes))
        },
        dependencies: [UP],
        encapsulation: 2,
        changeDetection: 0
    });
    let e = t;
    return e
}
)();
function eY(e, t) {
    e & 1 && (H(0, "span", 7),
    oe(1, "\u062F\u0631 \u062D\u0627\u0644 \u0628\u0627\u0631\u06AF\u0630\u0627\u0631\u06CC ..."),
    W())
}
function tY(e, t) {
    e & 1 && (H(0, "span", 8),
    oe(1, "\u062F\u0631 \u062D\u0627\u0644 \u0628\u0627\u0631\u06AF\u0630\u0627\u0631\u06CC..."),
    W())
}
function nY(e, t) {
    if (e & 1 && (H(0, "div", 0),
    me(1, "div", 1),
    H(2, "div", 2),
    me(3, "svg-icon", 3)(4, "div", 4),
    H(5, "div", 5),
    me(6, "div", 6),
    at(7, eY, 2, 0, "span", 7)(8, tY, 2, 0, "span", 8),
    W()(),
    me(9, "svg-icon", 9),
    W()),
    e & 2) {
        let n = Te();
        Q(3),
        ye("iconName", n.icons.LogoDarkLight),
        Q(4),
        tt(n.isMobile() ? 8 : 7),
        Q(2),
        ye("iconName", n.icons.Mofidlogo)
    }
}
var y7e = ( () => {
    let t = class t {
        constructor(i) {
            this.authService = i,
            this.startupService = z(yh),
            this.icons = $t,
            this.isMobile = Ee(!0),
            this.showLoading = wt(!0),
            this.isSecondaryAuth = this.startupService.authenticationType === Ts.Secondary
        }
        ngOnInit() {
            setTimeout( () => {
                this.showLoading.set(!1)
            }
            , 500),
            this.isSecondaryAuth || setTimeout( () => {
                this.authService.waitingForLogin && (this.authService.waitingForLogin = !1,
                this.authService.setLoginError(xr.General))
            }
            , 1e4)
        }
    }
    ;
    t.\u0275fac = function(r) {
        return new (r || t)(Pt(Dr))
    }
    ,
    t.\u0275cmp = Ye({
        type: t,
        selectors: [["waiting-for-login"]],
        inputs: {
            isMobile: [1, "isMobile"]
        },
        decls: 1,
        vars: 1,
        consts: [[1, "d-flex", "justify-content-between", "align-items-center", "position-fixed", "full-offset", "bg-principal", "p-2", "flex-column", 2, "z-index", "1000"], [1, "mt-5"], [1, "text-center", "mt-2", "d-flex", "flex-column", "gap-3"], ["height", "80", 1, "mb-1", 3, "iconName"], ["dir", "ltr", 1, "d-flex", "align-items-center", "justify-content-center", "p-1"], [1, "w-100", "d-flex", "flex-column", "justify-center", "align-items-center"], [1, "spinner", "spinner-border"], [1, "w-100", "mt-3", 2, "z-index", "103"], [1, "w-100", "mt-3"], ["width", "150", 1, "mb-4", 3, "iconName"]],
        template: function(r, s) {
            r & 1 && at(0, nY, 10, 3, "div", 0),
            r & 2 && tt(!s.isSecondaryAuth && s.authService.waitingForLogin || s.showLoading() ? 0 : -1)
        },
        dependencies: [Fn],
        encapsulation: 2
    });
    let e = t;
    return e
}
)();
var iY = H5("~s")
  , rY = {
    mainWidth: 500,
    mainHeight: 150,
    width: 0,
    barWidth: 10,
    height: 0,
    margin: {
        top: 10,
        right: 70,
        bottom: 10,
        left: 15
    }
}
  , E7e = ( () => {
    let t = class t {
        constructor() {
            this.isMobile = Ee(!1),
            this.chartId = Ee.required(),
            this.items = Ee.required(),
            this.barThickness = Ee(),
            this.barColor = Ee(),
            this.loadingMode = Ee(!1),
            this.showAllDates = Ee(!1),
            this.height = Ee(),
            this.barWidth = Ee(void 0),
            this.dimension = C({}, rY),
            this.rectBarItems = [],
            this.showStartEndLabel = () => {
                let i = this.xScale.domain()
                  , r = Math.round(i.length / 4) + 1;
                if (this.label.selectAll(".date-text").remove(),
                this.showAllDates())
                    for (let s = 0; s <= i.length - 1; s++)
                        this.showDate(i[s]);
                else {
                    for (let s = 0; s < 3; s++)
                        this.showDate(i[s * r]);
                    this.showDate(i[i.length - 1])
                }
            }
            ,
            this.mouseMove = i => {
                if (!this.rectBarItems.length)
                    return;
                let r = i.x;
                if (r < 50)
                    return;
                this.focus.style("display", null);
                let s = this.rectBarItems.map(a => a.x).reduce( (a, c) => Math.abs(c - r) < Math.abs(a - r) ? c : a)
                  , o = this.rectBarItems.find(a => a.x === s);
                this.showLabel(o.date, o.value)
            }
        }
        ngOnChanges(i) {
            let {firstChange: r=void 0, currentValue: s=void 0} = i?.items ?? {};
            r || this.purifyItems(s)
        }
        ngAfterViewInit() {
            this.rootDOM = document.getElementById(this.chartId()),
            this.calculateDimension(),
            this.purifyItems(),
            this.observeResizing()
        }
        calculateDimension() {
            let {mainWidth: i, mainHeight: r, margin: s} = this.dimension
              , {top: o, right: a, bottom: c, left: l} = s;
            this.dimension.mainWidth = this.rootDOM.clientWidth,
            this.dimension.width = i - l - a,
            this.dimension.height = r - o - c,
            this.dimension.barWidth = this.barWidth() ?? (this.isMobile() ? 6 : 10)
        }
        purifyItems(i) {
            let s = (i || this.items())?.map(o => ({
                date: o.date,
                value: o.val
            }));
            this.generateChart(s)
        }
        observeResizing() {
            new ResizeObserver( () => {
                if (!this.rootDOM)
                    return;
                this.calculateDimension();
                let r = this.items()?.map(s => ({
                    date: s.date,
                    value: s.val
                }));
                this.generateChart(r)
            }
            ).observe(this.rootDOM)
        }
        generateChart(i) {
            this.rectBarItems = [];
            let r = i.length ? Kv(i, (s, o) => +s.date?.replaceAll("/", "") - +o.date?.replaceAll("/", "")) : [];
            this.removeChartElements(),
            this.svgDOM = gl(`#${this.chartId()}`).style("max-height", this.dimension.mainWidth + "px").style("height", "auto").append("svg").attr("id", "barChartSvg").attr("width", "100%").attr("height", this.height() ? this.height() : this.dimension.mainHeight),
            this.createYGroup(i),
            this.createXGroup(r),
            this.createPositiveGroup(i),
            gc(i, s => +s.value) < 0 && this.createNegativeGroup(i),
            this.label = this.svgDOM.append("g").attr("class", "label").style("font-family", "IRANSansX"),
            this.focus = this.svgDOM.append("g").attr("class", "focus").style("font-family", "IRANSansX"),
            i.length && (this.showStartEndLabel(),
            this.generateRectBarData(),
            this.createFocus())
        }
        removeChartElements() {
            this.focus?.remove(),
            this.label?.remove(),
            this.positiveBarGroup?.remove(),
            this.negativeBarGroup?.remove(),
            this.yGroup?.remove(),
            this.svgDOM?.remove()
        }
        createYGroup(i) {
            this.yScale = G5().range([this.dimension.height, this.dimension.margin.top]),
            this.yScale.domain([gc(i, s => +s.value) > 0 ? 0 : gc(i, s => +s.value), Nh(i, s => +s.value)]),
            this.yGroup = this.svgDOM.append("g").attr("class", "axis axis--y").attr("font-size", 10).style("font-family", "IRANSansX").attr("font-weight", "400");
            let r = U5(this.yScale).ticks(5).tickFormat(s => this.formatAbbreviation(s));
            this.yGroup.call(r).call(s => s.select(".domain").remove()).call(s => s.selectAll(".tick line").attr("x1", this.dimension.margin.left + 40).attr("x2", this.dimension.margin.left + 40 + this.dimension.mainWidth - this.dimension.margin.right).attr("opacity", "1").attr("stroke-width", "1px").attr("stroke-opacity", .1)).call(s => s.selectAll(".tick text").style("direction", "ltr").attr("opacity", "1").attr("x", this.dimension.margin.left + 20))
        }
        createXGroup(i) {
            this.xScale = Yv().range([0, this.dimension.width]),
            this.xScale.domain(i.map(r => r.date))
        }
        createPositiveGroup(i) {
            this.positiveBarGroup = this.svgDOM.append("g"),
            this.positiveBarGroup.selectAll(".bar").data(i.filter(r => r.value >= 0)).enter().append("rect").attr("class", "bar").attr("rx", 3).attr("ry", 3).attr("x", r => this.xScale(r.date) + this.dimension.margin.left + 50).attr("y", r => this.yScale(r.value)).attr("width", this.barThickness() ? this.barThickness() : this.dimension.barWidth).attr("fill", this.barColor() ? this.barColor() : gc(i, r => +r.value) < 0 ? "#1bbf89" : "#366184").attr("height", r => Math.abs(this.yScale(0) - this.yScale(+(r?.value ?? .1))))
        }
        createNegativeGroup(i) {
            this.negativeBarGroup = this.svgDOM.append("g"),
            this.negativeBarGroup.selectAll(".bar").data(i.filter(r => r.value < 0)).enter().append("rect").attr("class", "bar").attr("rx", 3).attr("ry", 3).attr("x", r => this.xScale(r.date) + this.dimension.margin.left + 50).attr("y", () => this.yScale(0)).attr("width", this.barThickness() ? this.barThickness() : this.dimension.barWidth).attr("height", r => Math.abs(this.yScale(0) - this.yScale(-r.value))).attr("fill", "#db524b")
        }
        generateRectBarData() {
            this.svgDOM.selectAll(".bar")?._groups?.[0]?.forEach(r => {
                this.rectBarItems.push(ve(C({}, r?.__data__), {
                    x: r?.getClientRects()?.[0]?.x
                }))
            }
            )
        }
        createFocus() {
            this.dimension.width <= 0 || (this.showAllDates() || (this.focus.append("rect").attr("id", "rect-date-text").attr("width", 70).attr("height", 16).attr("rx", 3).attr("fill", "#a3bce6").attr("y", 8),
            this.focus.append("text").attr("id", "date-text").attr("text-anchor", "middle").attr("fill", "black").attr("font-size", 10)),
            this.focus.append("rect").attr("id", "rect-value-text").attr("width", 70).attr("height", 16).attr("rx", 3).attr("fill", "#a3bce6").attr("y", -4),
            this.focus.append("line").attr("id", "vertical-line").attr("stroke", "#666").attr("stroke-width", 1).attr("stroke-opacity", .7).attr("stroke-dasharray", "3,3").attr("y1", -this.dimension.height).attr("y2", -10),
            this.focus.append("text").attr("id", "value-text").attr("text-anchor", "middle").attr("fill", "black").attr("font-size", 10).style("direction", "ltr"),
            this.svgDOM.append("rect").attr("class", "zoom").attr("fill", "none").attr("pointer-events", "all").attr("width", this.dimension.width + 50).attr("height", this.dimension.height).attr("transform", "translate(" + this.dimension.margin.left + "," + this.dimension.margin.top + ")").on("pointerup", () => {
                this.focus.style("display", "none"),
                this.label.style("display", null)
            }
            ).on("pointerout", () => {
                this.focus.style("display", "none"),
                this.label.style("display", null)
            }
            ).on("pointermove", this.mouseMove.bind(this)),
            this.focus.style("display", "none"))
        }
        formatAbbreviation(i) {
            let r = Nh(this.items(), c => c.val)
              , s = gc(this.items(), c => c.val)
              , o = Number.parseFloat(r) - Number.parseFloat(s);
            if (this.items().length > 1 && o <= 100)
                return i;
            let a = iY(i);
            switch (a[a.length - 1]) {
            case "k":
                return a.slice(0, -1) + "K";
            case "m":
                return a.slice(0, -1) + "M";
            case "g":
            case "G":
                return a.slice(0, -1) + "B";
            default:
                return a
            }
        }
        showDate(i) {
            +this.xScale(i) >= 0 && this.label.append("text").attr("class", "date-text").attr("text-anchor", "middle").attr("fill", "currentColor").attr("font-size", 10).attr("transform", "translate(" + (+this.xScale(i) + this.dimension.margin.left + 50) + "," + (this.dimension.height + this.dimension.margin.bottom + (this.showAllDates() ? 10 : 5)) + ")" + (this.showAllDates() ? "rotate(330)" : "")).text(i)
        }
        showLabel(i, r) {
            let s = 0;
            this.isMobile() && this.rectBarItems[this.rectBarItems.length - 1].date === i && (s = -10),
            this.focus.select("#rect-date-text").attr("x", +this.xScale(i) + this.dimension.margin.left + s + 17),
            this.focus.select("#rect-value-text").attr("x", +this.xScale(i) + this.dimension.margin.left + s + 17),
            this.focus.select("#date-text").attr("transform", "translate(" + (+this.xScale(i) + this.dimension.margin.left + s + 52) + ",20)").text(i),
            this.focus.select("#vertical-line").attr("transform", "translate(" + (+this.xScale(i) + this.dimension.margin.left + (this.isMobile() ? 53 : 55)) + "," + (this.dimension.height + this.dimension.margin.bottom + 5) + ")"),
            this.focus.select("#value-text").attr("transform", "translate(" + (+this.xScale(i) + this.dimension.margin.left + s + 52) + ",10)").text(qb(r))
        }
    }
    ;
    t.\u0275fac = function(r) {
        return new (r || t)
    }
    ,
    t.\u0275cmp = Ye({
        type: t,
        selectors: [["bar-chart"]],
        inputs: {
            isMobile: [1, "isMobile"],
            chartId: [1, "chartId"],
            items: [1, "items"],
            barThickness: [1, "barThickness"],
            barColor: [1, "barColor"],
            loadingMode: [1, "loadingMode"],
            showAllDates: [1, "showAllDates"],
            height: [1, "height"],
            barWidth: [1, "barWidth"]
        },
        features: [qs],
        decls: 1,
        vars: 1,
        consts: [[1, "w-100", "rounded", "mb-1", "position-relative", "z-2", "pt-3", 2, "min-height", "130px", 3, "id"]],
        template: function(r, s) {
            r & 1 && me(0, "div", 0),
            r & 2 && ye("id", s.chartId())
        },
        encapsulation: 2,
        changeDetection: 0
    });
    let e = t;
    return e
}
)();
var sY = function(e) {
    return e.IndividualBuyPower = "individualbuypower",
    e.NetIndividual = "netindividual",
    e.PerCapita = "percapita",
    e
}(sY || {});
function oY(e, t) {
    if (e & 1 && me(0, "svg-icon", 1),
    e & 2) {
        let n = Te();
        mr("icon " + n.clockClass()),
        ye("title", n.tooltip())("iconName", n.icon())
    }
}
var GP = ( () => {
    let t = class t {
        constructor() {
            this.clockClass = Ee(),
            this.tooltip = Ee(),
            this.icon = Ee($t.Clock)
        }
    }
    ;
    t.\u0275fac = function(r) {
        return new (r || t)
    }
    ,
    t.\u0275cmp = Ye({
        type: t,
        selectors: [["clock-icon"]],
        inputs: {
            clockClass: [1, "clockClass"],
            tooltip: [1, "tooltip"],
            icon: [1, "icon"]
        },
        decls: 1,
        vars: 1,
        consts: [["data-cy", "clock-state-class", "width", "20", "height", "20", 3, "title", "iconName", "class"], ["data-cy", "clock-state-class", "width", "20", "height", "20", 3, "title", "iconName"]],
        template: function(r, s) {
            r & 1 && at(0, oY, 1, 4, "svg-icon", 0),
            r & 2 && tt(s.icon() ? 0 : -1)
        },
        dependencies: [Fn],
        encapsulation: 2,
        changeDetection: 0
    });
    let e = t;
    return e
}
)();
var VP = ( () => {
    let t = class t {
        constructor() {
            this.clock = Ee()
        }
    }
    ;
    t.\u0275fac = function(r) {
        return new (r || t)
    }
    ,
    t.\u0275cmp = Ye({
        type: t,
        selectors: [["clock"]],
        inputs: {
            clock: [1, "clock"]
        },
        decls: 2,
        vars: 1,
        consts: [["id", "easy-clock-id", 1, "fw-bold", "ss03"]],
        template: function(r, s) {
            r & 1 && (H(0, "span", 0),
            oe(1),
            W()),
            r & 2 && (Q(),
            Pn(s.clock()))
        },
        encapsulation: 2,
        changeDetection: 0
    });
    let e = t;
    return e
}
)();
function aY(e, t) {
    if (e & 1 && me(0, "clock", 0),
    e & 2) {
        let n = Te();
        ye("clock", n.clock())
    }
}
function cY(e, t) {
    if (e & 1 && me(0, "clock-icon", 1),
    e & 2) {
        let n = Te();
        ye("clockClass", n.clockClass())("tooltip", n.tooltip())("icon", n.icon())
    }
}
var Dp = ( () => {
    let t = class t {
        onClick() {
            this.clickable() && this.handleOpen()
        }
        constructor(i, r) {
            this.modalService = i,
            this.timeService = r,
            this.clickable = Ee(!0),
            this.showClockText = Ee(!0),
            this.showClockIcon = Ee(!0),
            this.clockClass = Ee.required(),
            this.tooltip = Ee.required(),
            this.icon = Ee.required(),
            this.clockChange = Wt(),
            this.clock = wt("")
        }
        ngOnInit() {
            this.getClock()
        }
        ngOnDestroy() {
            this.sub && this.sub.unsubscribe()
        }
        handleOpen() {
            this.modalService.open(HP, {
                scrollable: !0
            })
        }
        handleClock(i) {
            this.clockChange.emit(i)
        }
        getClock() {
            this.sub = this.timeService.serverTimeObs$.subscribe(i => {
                this.clock.set(i),
                this.clockChange.emit(i)
            }
            )
        }
    }
    ;
    t.\u0275fac = function(r) {
        return new (r || t)(Pt(Jc),Pt(Ap))
    }
    ,
    t.\u0275cmp = Ye({
        type: t,
        selectors: [["clock-management"]],
        hostBindings: function(r, s) {
            r & 1 && Qe("click", function() {
                return s.onClick()
            })
        },
        inputs: {
            clickable: [1, "clickable"],
            showClockText: [1, "showClockText"],
            showClockIcon: [1, "showClockIcon"],
            clockClass: [1, "clockClass"],
            tooltip: [1, "tooltip"],
            icon: [1, "icon"]
        },
        outputs: {
            clockChange: "clockChange"
        },
        decls: 2,
        vars: 2,
        consts: [[3, "clock"], [3, "clockClass", "tooltip", "icon"]],
        template: function(r, s) {
            r & 1 && at(0, aY, 1, 1, "clock", 0)(1, cY, 1, 3, "clock-icon", 1),
            r & 2 && (tt(s.showClockText() ? 0 : -1),
            Q(),
            tt(s.showClockIcon() ? 1 : -1))
        },
        dependencies: [VP, GP],
        encapsulation: 2,
        changeDetection: 0
    });
    let e = t;
    return e
}
)();
var e9e = ( () => {
    let t = class t {
        constructor(i) {
            this.timeService = i,
            this.clockComponent = sc(Dp),
            this.clockChange = Wt(),
            this.clock = Ee(),
            this.showClockText = Ee(!0),
            this.showClockIcon = Ee(!0),
            this.clockClass = wt(""),
            this.iconName = wt($t.Clock),
            this.tooltip = wt("")
        }
        onClockChange(i) {
            this.clockChange.emit(i);
            let r = this.timeService.isMarketOpenSub.getValue();
            r !== null && (r ? (this.clockClass.set("text-success"),
            this.tooltip.set("\u0628\u0627\u0632\u0627\u0631 \u0628\u0627\u0632 \u0627\u0633\u062A"),
            this.iconName.set($t.Clock)) : (this.clockClass.set("text-danger"),
            this.tooltip.set("\u0628\u0627\u0632\u0627\u0631 \u0628\u0633\u062A\u0647 \u0627\u0633\u062A"),
            this.iconName.set($t.ClockError)))
        }
        openClockModal() {
            this.clockComponent().handleOpen()
        }
        handleOpen() {
            this.clockComponent().handleOpen()
        }
    }
    ;
    t.\u0275fac = function(r) {
        return new (r || t)(Pt(Ap))
    }
    ,
    t.\u0275cmp = Ye({
        type: t,
        selectors: [["app-clock"]],
        viewQuery: function(r, s) {
            r & 1 && cc(s.clockComponent, Dp, 5),
            r & 2 && lc()
        },
        inputs: {
            clock: [1, "clock"],
            showClockText: [1, "showClockText"],
            showClockIcon: [1, "showClockIcon"]
        },
        outputs: {
            clockChange: "clockChange"
        },
        decls: 1,
        vars: 5,
        consts: [[3, "clockChange", "tooltip", "clockClass", "showClockIcon", "showClockText", "icon"]],
        template: function(r, s) {
            r & 1 && (H(0, "clock-management", 0),
            Qe("clockChange", function(a) {
                return s.onClockChange(a)
            }),
            W()),
            r & 2 && ye("tooltip", s.tooltip())("clockClass", s.clockClass())("showClockIcon", s.showClockIcon())("showClockText", s.showClockText())("icon", s.iconName())
        },
        dependencies: [Dp],
        encapsulation: 2,
        changeDetection: 0
    });
    let e = t;
    return e
}
)();
var lY = (e, t) => ({
    "notify-top": e,
    "notify-bottom-offset": t
});
function uY(e, t) {
    if (e & 1 && (H(0, "small", 7),
    oe(1),
    W()),
    e & 2) {
        let n = Te().$implicit
          , i = Te(2);
        Q(),
        Zn("(", i.notifications()[n].count, ")")
    }
}
function hY(e, t) {
    if (e & 1 && (H(0, "span", 8),
    oe(1),
    me(2, "svg-icon", 9),
    W()),
    e & 2) {
        let n, i = Te().$implicit, r = Te(2);
        Q(),
        Zn(" ", (n = (n = r.notifications()[i]) == null ? null : n.detailText) !== null && n !== void 0 ? n : "\u062C\u0632\u0626\u06CC\u0627\u062A", " "),
        Q(),
        ye("iconName", r.icons.ChevronLeft)
    }
}
function dY(e, t) {
    if (e & 1) {
        let n = cn();
        H(0, "div", 4),
        Qe("click", function() {
            let r = yt(n).$implicit
              , s = Te(2);
            return bt(s.onNotifyClick(r))
        }),
        H(1, "span", 5),
        me(2, "svg-icon", 6),
        oe(3),
        W(),
        at(4, uY, 2, 1, "small", 7)(5, hY, 3, 2, "span", 8),
        W()
    }
    if (e & 2) {
        let n = t.$implicit
          , i = Te(2);
        ye("ngClass", i.notifications()[n].classes),
        Q(2),
        ye("iconName", i.notifications()[n].icon),
        Q(),
        Zn(" ", i.notifications()[n].text, " "),
        Q(),
        tt(i.notifications()[n].showCount ? 4 : -1),
        Q(),
        tt(i.notifications()[n].extra ? 5 : -1)
    }
}
function fY(e, t) {
    if (e & 1 && (H(0, "div", 1),
    ha(1, "async"),
    us(2, dY, 6, 5, "div", 3, ls),
    W()),
    e & 2) {
        let n = Te();
        ye("ngClass", l4(3, lY, da(1, 1, n.notifyService.notifyOrderForm$), n.isStockDetailsAvailable())),
        Q(2),
        hs(n.Object.keys(n.notifications()))
    }
}
function pY(e, t) {
    if (e & 1 && (H(0, "small", 7),
    oe(1),
    W()),
    e & 2) {
        let n = Te().$implicit
          , i = Te(2);
        Q(),
        Zn("(", i.notifications()[n].count, ")")
    }
}
function gY(e, t) {
    if (e & 1 && (H(0, "span", 8),
    oe(1),
    me(2, "svg-icon", 9),
    W()),
    e & 2) {
        let n, i = Te().$implicit, r = Te(2);
        Q(),
        Zn(" ", (n = (n = r.notifications()[i]) == null ? null : n.detailText) !== null && n !== void 0 ? n : "\u062C\u0632\u0626\u06CC\u0627\u062A", " "),
        Q(),
        ye("iconName", r.icons.ChevronLeft)
    }
}
function mY(e, t) {
    if (e & 1) {
        let n = cn();
        H(0, "div", 11, 0),
        Qe("click", function() {
            let r = yt(n).$implicit
              , s = Te(2);
            return bt(s.onNotifyClick(r))
        })("mouseover", function() {
            yt(n);
            let r = Te(2);
            return bt(r.onMouseOver())
        })("mouseout", function(r) {
            yt(n);
            let s = uc(1)
              , o = Te(2);
            return bt(o.onMouseOut(r, s))
        }),
        me(2, "svg-icon", 6),
        H(3, "span", 12),
        oe(4),
        W(),
        at(5, pY, 2, 1, "small", 7)(6, gY, 3, 2, "span", 8),
        W()
    }
    if (e & 2) {
        let n = t.$implicit
          , i = Te(2);
        ye("ngClass", i.notifications()[n].classes),
        Q(2),
        ye("iconName", i.notifications()[n].icon),
        Q(2),
        Pn(i.notifications()[n].text),
        Q(),
        tt(i.notifications()[n].showCount ? 5 : -1),
        Q(),
        tt(i.notifications()[n].extra ? 6 : -1)
    }
}
function vY(e, t) {
    if (e & 1 && (H(0, "div", 2),
    us(1, mY, 7, 5, "div", 10, ls),
    W()),
    e & 2) {
        let n = Te();
        Q(),
        hs(n.Object.keys(n.notifications()))
    }
}
var WP = "notify__item--show";
var m9e = ( () => {
    let t = class t {
        get showNotifTime() {
            return this.isMobile() ? 3e3 : 5e3
        }
        constructor(i, r, s) {
            this.notifyService = i,
            this.sidePanelServiceService = r,
            this.router = s,
            this.icons = $t,
            this.isMobile = Ee(!0),
            this.Object = Object,
            this.notifications = wt({}),
            this.notifMouseFocus = !1,
            this.counter = 0,
            this.isStockDetailsAvailable = wi(this.notifyService.isStockDetailsAvailable$),
            i.notify$.subscribe(o => this.handleNotification(o))
        }
        handleNotification(i) {
            let r = this.counter++;
            this.checkDuplicateMessages(i.text) || this.showFlow(i, r).pipe(Lt(1)).subscribe()
        }
        checkDuplicateMessages(i) {
            let r = !1;
            return this.Object.keys(this.notifications()).some(s => {
                if (this.notifications()[s].text === i)
                    return this.notifications.update(a => {
                        let c = C({}, a);
                        return c[s].count++,
                        c
                    }
                    ),
                    r = !0,
                    !0
            }
            ),
            r
        }
        showFlow(i, r) {
            let s = `${r}`;
            this.notifications.update(a => {
                let c = C({}, a);
                return c[s] = {
                    count: 1,
                    text: i.text,
                    classes: [i.class],
                    icon: i.icon,
                    showCount: i.showCount,
                    extra: i.extra,
                    detailText: i.detailText
                },
                c
            }
            );
            let o = i.extra ? 2e3 : 0;
            return Be(this.notifications()[s]).pipe(ss(200), ui(a => (this.showNotif(s, a.text),
            Be(this.notifications()[s]).pipe(ss(this.showNotifTime + o), ss(((this.notifications()[s]?.count ?? 1) - 1) * 300), ui( () => this.removeNotification(s))))))
        }
        removeNotification(i) {
            return this.notifMouseFocus ? Be(null) : (this.removeNotifClass(i),
            Be(this.notifications()[i]).pipe(ss(200), Ge( () => this.removeNotif(i))))
        }
        waitForDuplicatedNotif(i) {
            let r = 1
              , s = Be(i).pipe(ss(2e3));
            for (; r < this.notifications()[i].count; )
                s = s.pipe(ss(2e3)),
                r++;
            return s
        }
        showNotif(i, r) {
            this.notifications()[i] && this.notifications.update(s => {
                let o = C({}, s);
                return o[i].classes.push(WP),
                o[i].classes.push(o[i].extra ? "cup" : ""),
                o[i].text = r,
                o
            }
            )
        }
        removeNotif(i) {
            this.notifications()[i] && (this.counter--,
            this.notifications.update(r => {
                let s = C({}, r);
                return delete s[i],
                s
            }
            ))
        }
        removeNotifClass(i) {
            if (!this.notifications()[i])
                return;
            let r = this.notifications()[i].classes.findIndex(s => s === WP);
            r > -1 && this.notifications.update(s => {
                let o = C({}, s);
                return o[i].classes.splice(r, 1),
                o
            }
            )
        }
        onMouseOver() {
            this.notifMouseFocus = !0
        }
        onMouseOut(i, r) {
            let s = i.toElement || i.relatedTarget;
            s?.parentNode === r || s === r || (this.notifMouseFocus = !1,
            setTimeout( () => {
                let o = this.counter;
                for (; o >= 0; )
                    this.notifications()[`${o}`] && this.removeNotification(`${o}`).subscribe(),
                    o--
            }
            , 2e3))
        }
        onNotifyClick(i) {
            if (typeof this.notifications()[i].extra == "string")
                if (this.isMobile())
                    this.router.navigateByUrl(this.notifications()[i].extra.toString());
                else {
                    let r = Wb(this.notifications()[i].extra.toString().substring(1), this.notifications()[i]?.detailText);
                    this.sidePanelServiceService.openSidePanelFromRoute(r)
                }
            else
                typeof this.notifications()[i].extra == "function" && this.notifications()[i].extra()
        }
    }
    ;
    t.\u0275fac = function(r) {
        return new (r || t)(Pt(Us),Pt(uE),Pt(Ui))
    }
    ,
    t.\u0275cmp = Ye({
        type: t,
        selectors: [["app-notify"]],
        inputs: {
            isMobile: [1, "isMobile"]
        },
        decls: 2,
        vars: 2,
        consts: [["parent", ""], [1, "notify", "d-flex", "flex-column", "justify-content-end", 3, "ngClass"], [1, "notify", "d-flex", "flex-column", "justify-content-end"], ["data-cy", "notify-class", 1, "d-flex", "justify-content-between", "align-items-center", "notify__item", "rounded", "p-1", 3, "ngClass"], ["data-cy", "notify-class", 1, "d-flex", "justify-content-between", "align-items-center", "notify__item", "rounded", "p-1", 3, "click", "ngClass"], ["data-cy", "notify-message", 1, "d-flex", "align-items-center"], ["width", "20", "height", "20", 1, "px-2", "py-1", 3, "iconName"], [1, "me-1"], [1, "text-nowrap", "ms-1"], ["width", "20", "height", "20", 1, "", 3, "iconName"], ["data-cy", "notify-class", 1, "d-flex", "justify-content-between", "align-items-center", "notify__item", "rounded", "p-2", 3, "ngClass"], ["data-cy", "notify-class", 1, "d-flex", "justify-content-between", "align-items-center", "notify__item", "rounded", "p-2", 3, "click", "mouseover", "mouseout", "ngClass"], ["data-cy", "notify-message", 1, "flex-grow-1"]],
        template: function(r, s) {
            r & 1 && at(0, fY, 4, 6, "div", 1)(1, vY, 3, 0, "div", 2),
            r & 2 && (tt(s.isMobile() ? 0 : -1),
            Q(),
            tt(s.isMobile() ? -1 : 1))
        },
        dependencies: [rr, Bv, Fn],
        encapsulation: 2,
        changeDetection: 0
    });
    let e = t;
    return e
}
)();
function _Y(e, t) {
    e & 1 && (H(0, "div", 13),
    oe(1, "\u0644\u06CC\u0646\u06A9 \u0647\u0627\u06CC \u06A9\u0645\u06A9\u06CC \u0628\u0631\u0648\u0632 \u0631\u0633\u0627\u0646\u06CC :"),
    W())
}
function yY(e, t) {
    if (e & 1) {
        let n = cn();
        H(0, "div", 16),
        Qe("click", function() {
            let r = yt(n).$implicit
              , s = Te(2);
            return bt(s.downloadBrowserLinkClickHandler(r.link))
        }),
        me(1, "img", 17),
        H(2, "span", 18),
        oe(3),
        W()()
    }
    if (e & 2) {
        let n = t.$implicit;
        Q(),
        ye("title", n.linkTitle)("ngSrc", n.icon),
        Q(2),
        Pn(n.linkTitle)
    }
}
function bY(e, t) {
    if (e & 1) {
        let n = cn();
        me(0, "div", 0),
        H(1, "div", 1)(2, "div", 2)(3, "div", 3),
        me(4, "svg-icon", 4),
        W(),
        H(5, "svg-icon", 5),
        Qe("click", function() {
            yt(n);
            let r = Te();
            return bt(r.checkBrowserVersionIsOld.set(!1))
        }),
        W(),
        H(6, "div", 6),
        oe(7, "\u0646\u0633\u062E\u0647 \u0645\u0631\u0648\u0631\u06AF\u0631 \u0634\u0645\u0627 \u0642\u062F\u06CC\u0645\u06CC \u0627\u0633\u062A!"),
        W(),
        H(8, "div", 7)(9, "strong", 8),
        oe(10, "\u06A9\u0627\u0631\u0628\u0631 \u06AF\u0631\u0627\u0645\u06CC!"),
        W(),
        H(11, "p", 9),
        oe(12, "\u062C\u0647\u062A \u06A9\u0633\u0628 \u062A\u062C\u0631\u0628\u0647 \u0628\u0647\u062A\u0631 \u062F\u0631 \u0627\u0633\u062A\u0641\u0627\u062F\u0647 \u0627\u0632 \u0627\u06CC\u0632\u06CC \u062A\u0631\u06CC\u062F\u0631 \u0645\u0631\u0648\u0631\u06AF\u0631 \u062E\u0648\u062F \u0631\u0627 \u0628\u0631\u0648\u0632 \u0646\u0645\u0627\u06CC\u06CC\u062F."),
        W(),
        H(13, "a", 10),
        me(14, "svg-icon", 11),
        oe(15, " \u0631\u0627\u0647\u0646\u0645\u0627\u06CC \u0628\u0631\u0648\u0632 \u0631\u0633\u0627\u0646\u06CC \u0645\u0631\u0648\u0631\u06AF\u0631 "),
        me(16, "svg-icon", 12),
        W(),
        at(17, _Y, 2, 0, "div", 13),
        W(),
        H(18, "div", 14),
        us(19, yY, 4, 3, "div", 15, ls),
        W()()()
    }
    if (e & 2) {
        let n, i = Te();
        Q(4),
        ye("iconName", i.icons.InfoBox),
        Q(),
        ye("iconName", i.icons.Close),
        Q(9),
        ye("iconName", i.icons.QuestionBox),
        Q(2),
        ye("iconName", i.icons.ChevronLeft),
        Q(),
        tt((n = i.helpLinks()) != null && n.length ? 17 : -1),
        Q(2),
        hs(i.helpLinks())
    }
}
var R9e = ( () => {
    let t = class t {
        ngOnInit() {
            this.userDeviceService.deviceType$.pipe(mt(i => i !== yn.Unknown)).subscribe(i => {
                if (this.checkBrowserVersionIsOld.set(!this.userDeviceService.isValidBrowserVersion(i)),
                this.checkBrowserVersionIsOld()) {
                    let r = Qb.filter(s => this.userDeviceService.browser.includes(s.browserName)).flatMap(s => s.linksInfo);
                    this.getLInkList(i, r)
                }
            }
            )
        }
        getLInkList(i, r) {
            this.userDeviceService.isAndroid ? this.helpLinks.set(r.filter(s => s.os === "android")) : this.userDeviceService.isiOS ? this.helpLinks.set(r.filter(s => s.os === "ios")) : i === yn.Desktop && this.helpLinks.set(r.filter(s => s.os === "desktop"))
        }
        downloadBrowserLinkClickHandler(i) {
            window.open(i, "_blank")
        }
        constructor(i) {
            this.userDeviceService = i,
            this.icons = $t,
            this.checkBrowserVersionIsOld = wt(!1),
            this.helpLinks = wt([])
        }
    }
    ;
    t.\u0275fac = function(r) {
        return new (r || t)(Pt(hr))
    }
    ,
    t.\u0275cmp = Ye({
        type: t,
        selectors: [["user-warning-modal"]],
        decls: 1,
        vars: 1,
        consts: [[1, "overlay", "active", 2, "right", "0", "z-index", "10001"], [1, "position-fixed", "full-offset", "d-flex", "align-items-center", "justify-content-center", 2, "z-index", "10001"], [1, "bg-principal", "m-4", "p-5", "rounded", "shadow-lg", "text-dark", "position-relative", 2, "min-width", "380px"], [1, "text-center"], ["width", "48", "height", "48", 1, "text-global", 3, "iconName"], ["width", "24", "height", "24", 1, "cup", "text-secondary", "position-absolute", "end-0", "top-0", "p-3", 3, "click", "iconName"], [1, "text-warning", "h6", "text-center"], [1, "text-secondary"], [1, "me-2", "d-block"], [1, "m-0"], ["href", "https://learning.emofid.com/how-to-clear-cache", "target", "_blank", 1, "text-body", "d-flex", "align-items-center", "rounded", "py-1", "px-3", "bg-principal-3x", "bg-principal-4x-dark", "my-2", 2, "gap", "0.5rem"], ["width", "24", "height", "24", 1, "text-secondary", 3, "iconName"], ["width", "24", "height", "24", 1, "text-secondary", "ms-auto", 3, "iconName"], [1, "text-secondary", "mt-2", "text-muted", "text-center"], [1, "d-flex", "justify-content-center", "mt-4", 2, "gap", "1.5rem"], [1, "text-center", "cup", "text-body", "d-flex", "flex-column", "align-items-center", 2, "gap", "0.5rem"], [1, "text-center", "cup", "text-body", "d-flex", "flex-column", "align-items-center", 2, "gap", "0.5rem", 3, "click"], ["width", "24px", 1, "flex-grow-1", 3, "title", "ngSrc"], [1, "d-block"]],
        template: function(r, s) {
            r & 1 && at(0, bY, 21, 5),
            r & 2 && tt(s.checkBrowserVersionIsOld() ? 0 : -1)
        },
        dependencies: [Fn],
        encapsulation: 2,
        changeDetection: 0
    });
    let e = t;
    return e
}
)();
var Np = e => ({
    "position-absolute": e
});
function SY(e, t) {
    e & 1 && (H(0, "div", 19),
    oe(1, "\u062E\u0637\u0627 \u062F\u0631 \u0628\u0631\u0648\u0632 \u0631\u0633\u0627\u0646\u06CC \u0644\u062D\u0638\u0647\u200C\u0627\u06CC \u0642\u06CC\u0645\u062A\u200C\u0647\u0627:"),
    W(),
    H(2, "ol", 20)(3, "li"),
    oe(4, "\u062F\u0633\u062A\u0631\u0633\u06CC \u0648 \u0633\u0631\u0639\u062A \u0627\u06CC\u0646\u062A\u0631\u0646\u062A \u062E\u0648\u062F \u0631\u0627 \u0628\u0631\u0631\u0633\u06CC \u0646\u0645\u0627\u06CC\u06CC\u062F."),
    W(),
    H(5, "li"),
    oe(6, "\u0641\u06CC\u0644\u062A\u0631 \u0634\u06A9\u0646 \u062E\u0648\u062F \u0631\u0627 \u062E\u0627\u0645\u0648\u0634 \u06A9\u0646\u06CC\u062F."),
    W(),
    H(7, "li"),
    oe(8, " \u0646\u0631\u0645\u200C\u0627\u0641\u0632\u0627\u0631 \u0631\u0627 \u0627\u0632 \u0645\u0646\u0648\u06CC \u0633\u0627\u06CC\u0631 "),
    dl(),
    H(9, "svg", 21),
    me(10, "use", 22),
    W(),
    oe(11, " \u0631\u0627\u0647\u200C\u0627\u0646\u062F\u0627\u0632\u06CC \u0645\u062C\u062F\u062F \u06A9\u0646\u06CC\u062F. "),
    W()())
}
function xY(e, t) {
    if (e & 1 && (H(0, "div", 12),
    dl(),
    H(1, "svg", 15),
    me(2, "use", 16),
    W(),
    oe(3),
    H(4, "svg", 17),
    me(5, "use", 18),
    W(),
    at(6, SY, 12, 0, "ng-template", null, 0, hc),
    W()),
    e & 2) {
        let n = uc(7)
          , i = Te(2);
        ye("ngClass", Dn(3, Np, !i.isMobile()))("ngbPopover", n),
        Q(3),
        Zn(" ", i.barMessage(), " ")
    }
}
function wY(e, t) {
    if (e & 1 && (H(0, "div", 13),
    dl(),
    H(1, "svg", 21),
    me(2, "use", 23),
    W(),
    oe(3),
    W()),
    e & 2) {
        let n = Te(2);
        ye("ngClass", Dn(2, Np, !n.isMobile())),
        Q(3),
        Zn(" ", n.barMessage(), " ")
    }
}
function CY(e, t) {
    if (e & 1 && (H(0, "div", 14),
    dl(),
    H(1, "svg", 21),
    me(2, "use", 24),
    W(),
    oe(3),
    W()),
    e & 2) {
        let n = Te(2);
        ye("ngClass", Dn(2, Np, !n.isMobile())),
        Q(3),
        Zn(" ", n.barMessage(), " ")
    }
}
function EY(e, t) {
    if (e & 1 && at(0, xY, 8, 5, "div", 12)(1, wY, 4, 4, "div", 13)(2, CY, 4, 4, "div", 14),
    e & 2) {
        let n = Te();
        tt(n.lsStatus() === n.connectionState.Disconnected || n.lsStatus() === n.connectionState.NotConnected ? 0 : -1),
        Q(),
        tt(n.lsStatus() === n.connectionState.Connecting ? 1 : -1),
        Q(),
        tt(n.lsStatus() === n.connectionState.Connected ? 2 : -1)
    }
}
function TY(e, t) {
    if (e & 1 && (H(0, "div", 11),
    dl(),
    H(1, "svg", 21),
    me(2, "use", 16),
    W(),
    oe(3),
    W()),
    e & 2) {
        let n = Te();
        ye("ngClass", Dn(2, Np, !n.isMobile())),
        Q(3),
        Zn(" ", n.barMessage(), " ")
    }
}
var W9e = ( () => {
    let t = class t {
        get connectionState() {
            return Rt
        }
        constructor(i, r) {
            this.lsService = i,
            this.internetConnectionService = r,
            this.isMobile = Ee.required(),
            this.lsStatus = wt(Rt.Unknown),
            this.showInternetConnectionBar = wt(!1),
            this.barMessage = wt(""),
            this.subs = [],
            this.lsBarBeginningWaitPassed = !1,
            this.lsConnectionInitialized = !1
        }
        ngOnInit() {
            this.subscribeToInternetConnection(),
            this.subscribeToLsChangeState()
        }
        subscribeToLsChangeState() {
            this.checkIfLsCouldConnectAtStartup();
            let i = this.lsService.connectionState$.pipe(Yp(1)).subscribe(r => {
                if (this.lsStatus.set(r),
                this.lsBarBeginningWaitPassed)
                    switch (r) {
                    case Rt.Connected:
                        this.lsConnectionInitialized ? (this.barMessage.set("\u0627\u0631\u062A\u0628\u0627\u0637 \u0628\u0631\u0642\u0631\u0627\u0631 \u0634\u062F."),
                        li(2e3).subscribe( () => {
                            this.barMessage.set("")
                        }
                        )) : (this.lsConnectionInitialized = !0,
                        this.barMessage.set(""));
                        break;
                    case Rt.NotConnected:
                    case Rt.Disconnected:
                        this.barMessage.set("\u0645\u0645\u06A9\u0646 \u0627\u0633\u062A \u0627\u0637\u0644\u0627\u0639\u0627\u062A \u0642\u06CC\u0645\u062A\u06CC \u0628\u0627\u0632\u0627\u0631 \u0628\u0631\u0648\u0632 \u0646\u0628\u0627\u0634\u062F.");
                        break;
                    case Rt.Connecting:
                        this.barMessage.set("\u062F\u0631 \u062D\u0627\u0644 \u0627\u062A\u0635\u0627\u0644...");
                        break
                    }
            }
            );
            this.subs.push(i)
        }
        checkIfLsCouldConnectAtStartup() {
            li(5e3).subscribe( () => {
                this.lsBarBeginningWaitPassed = !0,
                this.lsStatus() === Rt.Disconnected && this.barMessage.set("\u0645\u0645\u06A9\u0646 \u0627\u0633\u062A \u0627\u0637\u0644\u0627\u0639\u0627\u062A \u0642\u06CC\u0645\u062A\u06CC \u0628\u0627\u0632\u0627\u0631 \u0628\u0631\u0648\u0632 \u0646\u0628\u0627\u0634\u062F.")
            }
            )
        }
        subscribeToInternetConnection() {
            this.internetConnectionService.networkStatus$.subscribe(i => {
                this.showInternetConnectionBar.set(!i),
                i ? this.barMessage.set("") : this.barMessage.set("\u0627\u062A\u0635\u0627\u0644 \u0627\u06CC\u0646\u062A\u0631\u0646\u062A \u062E\u0648\u062F \u0631\u0627 \u0628\u0631\u0631\u0633\u06CC \u06A9\u0646\u06CC\u062F.")
            }
            )
        }
        ngOnDestroy() {
            this.subs.forEach(i => i.unsubscribe())
        }
    }
    ;
    t.\u0275fac = function(r) {
        return new (r || t)(Pt(Jl),Pt(V2))
    }
    ,
    t.\u0275cmp = Ye({
        type: t,
        selectors: [["connection-state"]],
        inputs: {
            isMobile: [1, "isMobile"]
        },
        decls: 17,
        vars: 2,
        consts: [["description", ""], [1, "d-none"], ["id", "ls-not-connect", "width", "24", "height", "24", "viewBox", "0 0 24 24", "fill", "none", "xmlns", "http://www.w3.org/2000/svg"], ["fill-rule", "evenodd", "clip-rule", "evenodd", "d", "M22.7071 2.70711C23.0976 2.31658 23.0976 1.68342 22.7071 1.29289C22.3166 0.902369 21.6834 0.902369 21.2929 1.29289L19.5 3.08579L17.7071 1.29289C17.3166 0.902369 16.6834 0.902369 16.2929 1.29289C15.9024 1.68342 15.9024 2.31658 16.2929 2.70711L18.0858 4.5L16.2929 6.29289C15.9024 6.68342 15.9024 7.31658 16.2929 7.70711C16.6834 8.09763 17.3166 8.09763 17.7071 7.70711L19.5 5.91421L21.2929 7.70711C21.6834 8.09763 22.3166 8.09763 22.7071 7.70711C23.0976 7.31658 23.0976 6.68342 22.7071 6.29289L20.9142 4.5L22.7071 2.70711ZM19.9833 12.0262C19.9995 11.7893 20 11.4796 20 11C20 10.4477 20.4477 10 21 10C21.5523 10 22 10.4477 22 11V11.032C22 11.4706 22 11.8491 21.9787 12.1624C21.9561 12.4922 21.9066 12.8221 21.7716 13.1481C21.4672 13.8831 20.8831 14.4672 20.1481 14.7716C19.8221 14.9066 19.4922 14.9561 19.1624 14.9787C18.8491 15 18.4707 15 18.032 15H18.032H18H13V16.0082C13.0476 16.0105 13.0938 16.0133 13.1382 16.0169C13.3668 16.0356 13.6366 16.0797 13.908 16.218C14.2843 16.4097 14.5903 16.7157 14.782 17.092C14.9203 17.3634 14.9644 17.6332 14.9831 17.8618C14.9867 17.9062 14.9895 17.9524 14.9918 18H21C21.5523 18 22 18.4477 22 19C22 19.5523 21.5523 20 21 20H14.9918C14.9895 20.0476 14.9867 20.0938 14.9831 20.1382C14.9644 20.3668 14.9203 20.6366 14.782 20.908C14.5903 21.2843 14.2843 21.5903 13.908 21.782C13.6366 21.9203 13.3668 21.9644 13.1382 21.9831C12.9301 22.0001 12.6843 22 12.4319 22L12.4 22H11.6L11.5681 22C11.3157 22 11.0699 22.0001 10.8618 21.9831C10.6332 21.9644 10.3634 21.9203 10.092 21.782C9.7157 21.5903 9.40974 21.2843 9.21799 20.908C9.07969 20.6366 9.03562 20.3668 9.01695 20.1382C9.01332 20.0938 9.01046 20.0476 9.00821 20H3C2.44772 20 2 19.5523 2 19C2 18.4477 2.44772 18 3 18H9.00821C9.01046 17.9524 9.01332 17.9062 9.01695 17.8618C9.03562 17.6332 9.07969 17.3634 9.21799 17.092C9.40974 16.7157 9.7157 16.4097 10.092 16.218C10.3634 16.0797 10.6332 16.0356 10.8618 16.0169C10.9062 16.0133 10.9524 16.0105 11 16.0082V15H6.2H6.16148H6.16145C5.6343 15 5.17954 15 4.80497 14.9694C4.40963 14.9371 4.01641 14.8658 3.63803 14.673C3.07354 14.3854 2.6146 13.9265 2.32698 13.362C2.13419 12.9836 2.06287 12.5904 2.03057 12.195C1.99997 11.8205 1.99998 11.3657 2 10.8386V10.8386V10.8V8.2V8.16143V8.16142C1.99998 7.63428 1.99997 7.17953 2.03057 6.80497C2.06287 6.40963 2.13419 6.01641 2.32698 5.63803C2.6146 5.07354 3.07354 4.6146 3.63803 4.32698C4.01641 4.13419 4.40963 4.06287 4.80497 4.03057C5.17954 3.99996 5.6343 3.99998 6.16144 4H6.16145H6.16145H6.16145H6.16146L6.2 4H13.5C14.0523 4 14.5 4.44771 14.5 5C14.5 5.55228 14.0523 6 13.5 6H6.2C5.62345 6 5.25118 6.00078 4.96784 6.02393C4.69618 6.04612 4.59546 6.0838 4.54601 6.10899C4.35785 6.20487 4.20487 6.35785 4.109 6.54601C4.0838 6.59545 4.04613 6.69617 4.02393 6.96783C4.00078 7.25117 4 7.62345 4 8.2V10.8C4 11.3766 4.00078 11.7488 4.02393 12.0322C4.04613 12.3038 4.0838 12.4045 4.109 12.454C4.20487 12.6422 4.35785 12.7951 4.54601 12.891C4.59546 12.9162 4.69618 12.9539 4.96784 12.9761C5.25118 12.9992 5.62345 13 6.2 13H11.999H12H12.001L18 13C18.4796 13 18.7893 12.9995 19.0262 12.9833C19.2542 12.9677 19.3411 12.9411 19.3827 12.9239C19.6277 12.8224 19.8224 12.6277 19.9239 12.3827C19.9411 12.3411 19.9677 12.2542 19.9833 12.0262ZM11.0115 18.0114L11.0103 18.0246C11.0008 18.1412 11 18.3035 11 18.6V19V19.4C11 19.6965 11.0008 19.8588 11.0103 19.9754L11.0115 19.9886L11.0246 19.9897C11.1412 19.9992 11.3035 20 11.6 20H12.4C12.6965 20 12.8588 19.9992 12.9754 19.9897L12.9886 19.9886L12.9897 19.9754C12.9992 19.8588 13 19.6965 13 19.4V19V18.6C13 18.3035 12.9992 18.1412 12.9897 18.0246L12.9886 18.0114L12.9754 18.0103C12.8588 18.0008 12.6965 18 12.4 18H12H11.6C11.3035 18 11.1412 18.0008 11.0246 18.0103L11.0115 18.0114ZM6 9C6 8.73478 6.10536 8.48043 6.2929 8.29289C6.48043 8.10536 6.73479 8 7 8H8C8.26522 8 8.51957 8.10536 8.70711 8.29289C8.89465 8.48043 9 8.73478 9 9V10C9 10.5523 8.55229 11 8 11H7C6.44772 11 6 10.5523 6 10V9Z", "fill", "currentColor"], ["id", "ls-connect", "width", "24", "height", "24", "viewBox", "0 0 24 24", "fill", "none", "xmlns", "http://www.w3.org/2000/svg"], ["fill-rule", "evenodd", "clip-rule", "evenodd", "d", "M17.3544 3.28473C18.3375 2.78272 19.5705 2.94479 20.3913 3.76556C21.4121 4.78636 21.4121 6.44139 20.3913 7.46218C19.3705 8.48297 17.7154 8.48297 16.6947 7.46218L16.4142 7.18174H17.2124C17.7646 7.18174 18.2124 6.73402 18.2124 6.18174C18.2124 5.62945 17.7646 5.18174 17.2124 5.18174L14 5.18174C13.4477 5.18174 13 5.62945 13 6.18174L13 9.39409C13 9.94638 13.4477 10.3941 14 10.3941C14.5523 10.3941 15 9.94638 15 9.3941L15 8.59595L15.2804 8.87639C17.0823 10.6782 20.0036 10.6782 21.8055 8.87639C23.6073 7.07455 23.6073 4.15319 21.8055 2.35135C20.3537 0.899578 18.1774 0.618766 16.4448 1.50354C15.9529 1.75472 15.7578 2.35707 16.009 2.84893C16.2602 3.34079 16.8625 3.53591 17.3544 3.28473ZM6.2 3.99996L6.16146 3.99996H6.16145C5.63431 3.99994 5.17954 3.99993 4.80497 4.03053C4.40963 4.06283 4.01641 4.13415 3.63803 4.32694L3.63803 4.32694C3.07354 4.61456 2.6146 5.07351 2.32698 5.63799C2.13419 6.01637 2.06287 6.40959 2.03057 6.80494C1.99997 7.17951 1.99998 7.63427 2 8.16142V8.16142V8.19996V10.8V10.8385C1.99998 11.3657 1.99997 11.8204 2.03057 12.195C2.06287 12.5903 2.13419 12.9836 2.32698 13.3619C2.6146 13.9264 3.07354 14.3854 3.63803 14.673C4.01641 14.8658 4.40963 14.9371 4.80497 14.9694C5.17954 15 5.6343 15 6.16145 15H6.16148H6.2H11V16.0082C10.9524 16.0104 10.9062 16.0133 10.8618 16.0169C10.6332 16.0356 10.3634 16.0797 10.092 16.218C9.7157 16.4097 9.40974 16.7157 9.21799 17.092C9.07969 17.3634 9.03562 17.6331 9.01695 17.8617C9.01332 17.9062 9.01046 17.9524 9.00822 18H3C2.44772 18 2 18.4477 2 19C2 19.5523 2.44772 20 3 20H9.00822C9.01046 20.0476 9.01332 20.0937 9.01695 20.1382C9.03562 20.3668 9.07969 20.6365 9.21799 20.908C9.40974 21.2843 9.7157 21.5902 10.092 21.782C10.3634 21.9203 10.6332 21.9643 10.8618 21.983C11.0699 22 11.3157 22 11.568 22H11.5681H11.5681H11.5681L11.6 22H12.4L12.4319 22H12.4319H12.432H12.432C12.6843 22 12.9301 22 13.1382 21.983C13.3668 21.9643 13.6366 21.9203 13.908 21.782C14.2843 21.5902 14.5903 21.2843 14.782 20.908C14.9203 20.6365 14.9644 20.3668 14.9831 20.1382C14.9867 20.0937 14.9895 20.0476 14.9918 20H21C21.5523 20 22 19.5523 22 19C22 18.4477 21.5523 18 21 18H14.9918C14.9895 17.9524 14.9867 17.9062 14.9831 17.8617C14.9644 17.6331 14.9203 17.3634 14.782 17.092C14.5903 16.7157 14.2843 16.4097 13.908 16.218C13.6366 16.0797 13.3668 16.0356 13.1382 16.0169C13.0938 16.0133 13.0476 16.0104 13 16.0082V15H17.8H17.8386H17.8386C18.3657 15 18.8205 15 19.195 14.9694C19.5904 14.9371 19.9836 14.8658 20.362 14.673C20.9265 14.3854 21.3854 13.9264 21.673 13.3619C21.9238 12.8698 21.7281 12.2677 21.236 12.0169C20.7439 11.7662 20.1417 11.9619 19.891 12.454C19.7951 12.6421 19.6422 12.7951 19.454 12.891C19.4045 12.9162 19.3038 12.9538 19.0322 12.976C18.7488 12.9992 18.3766 13 17.8 13L6.2 13C5.62345 13 5.25117 12.9992 4.96784 12.976C4.69617 12.9538 4.59545 12.9162 4.54601 12.891C4.35785 12.7951 4.20487 12.6421 4.109 12.454L3.27871 12.877L4.109 12.454C4.0838 12.4045 4.04612 12.3038 4.02393 12.0321C4.00078 11.7488 4 11.3765 4 10.8V8.19996C4 7.62341 4.00078 7.25114 4.02393 6.9678C4.04612 6.69614 4.0838 6.59542 4.109 6.54597L4.109 6.54597C4.20487 6.35781 4.35785 6.20483 4.54601 6.10896C4.59545 6.08376 4.69617 6.04609 4.96784 6.02389C5.25117 6.00074 5.62345 5.99996 6.2 5.99996L10.5 5.99996C11.0523 5.99996 11.5 5.55225 11.5 4.99996C11.5 4.44768 11.0523 3.99996 10.5 3.99996L6.2 3.99996ZM11.0103 18.0246L11.0115 18.0114L11.0246 18.0103C11.1412 18.0007 11.3035 18 11.6 18H12H12.4C12.6965 18 12.8588 18.0007 12.9754 18.0103L12.9886 18.0114L12.9897 18.0246C12.9992 18.1412 13 18.3034 13 18.6V19V19.4C13 19.6965 12.9992 19.8588 12.9897 19.9753L12.9886 19.9885L12.9754 19.9897C12.8588 19.9992 12.6965 20 12.4 20H11.6C11.3035 20 11.1412 19.9992 11.0246 19.9897L11.0115 19.9885L11.0103 19.9753C11.0008 19.8588 11 19.6965 11 19.4V19V18.6C11 18.3034 11.0008 18.1412 11.0103 18.0246ZM6.2929 8.29287C6.10536 8.4804 6 8.73476 6 8.99997V9.99997C6 10.5523 6.44772 11 7 11H8C8.55229 11 9 10.5523 9 9.99997V8.99997C9 8.73476 8.89465 8.4804 8.70711 8.29287C8.51957 8.10533 8.26522 7.99997 8 7.99997H7C6.73479 7.99997 6.48043 8.10533 6.2929 8.29287Z", "fill", "currentColor"], ["id", "ls-connecting", "width", "24", "height", "24", "viewBox", "0 0 24 24", "fill", "none", "xmlns", "http://www.w3.org/2000/svg"], ["id", "question-box", "width", "24", "height", "24", "viewBox", "0 0 24 24", "fill", "none", "xmlns", "http://www.w3.org/2000/svg"], ["fill-rule", "evenodd", "clip-rule", "evenodd", "d", "M10.9562 2H11H13H13.0438C14.4068 1.99999 15.4908 1.99999 16.3654 2.07144C17.261 2.14462 18.0247 2.29768 18.7239 2.65396C19.8529 3.2292 20.7708 4.14708 21.346 5.27606C21.7023 5.9753 21.8554 6.73898 21.9286 7.63458C22 8.50914 22 9.59313 22 10.9561V10.9562V11V13.0001V13.0439V13.044C22 14.407 22 15.491 21.9286 16.3655C21.8554 17.2611 21.7023 18.0248 21.346 18.7241C20.7708 19.853 19.8529 20.7709 18.7239 21.3462C18.0247 21.7024 17.261 21.8555 16.3654 21.9287C15.4909 22.0001 14.4069 22.0001 13.0439 22.0001H13.0438H13H11H10.9562H10.9561C9.59313 22.0001 8.50914 22.0001 7.63458 21.9287C6.73898 21.8555 5.9753 21.7024 5.27606 21.3462C4.14708 20.7709 3.2292 19.853 2.65396 18.7241C2.29768 18.0248 2.14462 17.2611 2.07144 16.3655C1.99999 15.491 1.99999 14.4069 2 13.0439V13.0001V11V10.9562C1.99999 9.5932 1.99999 8.50917 2.07144 7.63458C2.14462 6.73898 2.29768 5.9753 2.65396 5.27606C3.2292 4.14708 4.14708 3.2292 5.27606 2.65396C5.9753 2.29768 6.73898 2.14462 7.63458 2.07144C8.50917 1.99999 9.5932 1.99999 10.9562 2ZM7.79744 4.0648C7.02552 4.12787 6.55435 4.24729 6.18404 4.43597C5.43139 4.81947 4.81947 5.43139 4.43597 6.18404C4.24729 6.55435 4.12787 7.02552 4.0648 7.79744C4.00078 8.58104 4 9.58337 4 11V13.0001C4 14.4168 4.00078 15.4191 4.0648 16.2027C4.12787 16.9746 4.24729 17.4458 4.43597 17.8161C4.81947 18.5687 5.43139 19.1807 6.18404 19.5641C6.55435 19.7528 7.02552 19.8723 7.79744 19.9353C8.58104 19.9993 9.58337 20.0001 11 20.0001H13C14.4166 20.0001 15.419 19.9993 16.2026 19.9353C16.9745 19.8723 17.4457 19.7528 17.816 19.5641C18.5686 19.1807 19.1805 18.5687 19.564 17.8161C19.7527 17.4458 19.8721 16.9746 19.9352 16.2027C19.9992 15.4191 20 14.4168 20 13.0001V11C20 9.58337 19.9992 8.58104 19.9352 7.79744C19.8721 7.02552 19.7527 6.55435 19.564 6.18404C19.1805 5.43139 18.5686 4.81947 17.816 4.43597C17.4457 4.24729 16.9745 4.12787 16.2026 4.0648C15.419 4.00078 14.4166 4 13 4H11C9.58337 4 8.58104 4.00078 7.79744 4.0648ZM14 16.4999C14 15.9477 13.5523 15.4999 13 15.4999H12C11.4477 15.4999 11 15.9477 11 16.4999V17.4999C11 18.0522 11.4477 18.4999 12 18.4999H13C13.5523 18.4999 14 18.0522 14 17.4999V16.4999ZM10.5 9.5C10.5 8.39543 11.3954 7.5 12.5 7.5C13.3693 7.5 14.1114 8.0551 14.3865 8.83325C14.5705 9.35396 15.1418 9.62689 15.6625 9.44284C16.1833 9.25879 16.4562 8.68747 16.2721 8.16675C15.7235 6.61451 14.2432 5.5 12.5 5.5C10.2909 5.5 8.5 7.29086 8.5 9.5C8.5 11.0881 9.40692 11.9643 10.1525 12.5484L10.1695 12.5617L10.1871 12.5743L11.5001 13.5141C11.5076 14.0599 11.9524 14.5 12.5 14.5C13.0523 14.5 13.5 14.0523 13.5 13.5C13.5 12.8636 13.193 12.2662 12.6754 11.8958L11.3693 10.961C10.7945 10.5082 10.5 10.1483 10.5 9.5Z", "fill", "currentColor"], ["id", "dots-grid", "width", "24", "height", "24", "viewBox", "0 0 24 24", "fill", "none", "xmlns", "http://www.w3.org/2000/svg"], ["fill-rule", "evenodd", "clip-rule", "evenodd", "d", "M11.8 3.00001L11.7769 3.00001C11.6578 2.99996 11.5155 2.99991 11.3902 3.01015C11.245 3.02201 11.037 3.05245 10.819 3.1635C10.5368 3.30731 10.3073 3.53678 10.1635 3.81903C10.0525 4.03697 10.022 4.24496 10.0101 4.39018C9.9999 4.5155 9.99996 4.65776 10 4.77687L10 4.80001L10 5.20001L10 5.22315C9.99996 5.34227 9.99991 5.48452 10.0101 5.60984C10.022 5.75506 10.0525 5.96305 10.1635 6.181C10.3073 6.46324 10.5368 6.69271 10.819 6.83652C11.037 6.94757 11.245 6.97801 11.3902 6.98988C11.5155 7.00012 11.6578 7.00006 11.7769 7.00002L11.8 7.00001L12.2 7.00001L12.2232 7.00002H12.2232C12.3423 7.00006 12.4845 7.00012 12.6098 6.98988C12.7551 6.97801 12.9631 6.94757 13.181 6.83652C13.4632 6.69271 13.6927 6.46324 13.8365 6.181C13.9476 5.96305 13.978 5.75506 13.9899 5.60984C14.0001 5.48452 14.0001 5.34226 14 5.22314L14 5.20001V4.80001L14 4.77688C14.0001 4.65777 14.0001 4.5155 13.9899 4.39018C13.978 4.24496 13.9476 4.03697 13.8365 3.81903C13.6927 3.53678 13.4632 3.30731 13.181 3.1635C12.9631 3.05245 12.7551 3.02201 12.6098 3.01015C12.4845 2.99991 12.3423 2.99996 12.2231 3.00001L12.2 3.00001L11.8 3.00001ZM4.00001 3.00001C3.44773 3.00001 3.00001 3.44773 3.00001 4.00001V5.00001C3.00001 5.5523 3.44773 6.00001 4.00001 6.00001H5.00001C5.5523 6.00001 6.00001 5.5523 6.00001 5.00001V4.00001C6.00001 3.44773 5.5523 3.00001 5.00001 3.00001H4.00001ZM19 3.00001C18.4477 3.00001 18 3.44773 18 4.00001V5.00001C18 5.5523 18.4477 6.00001 19 6.00001H20C20.5523 6.00001 21 5.5523 21 5.00001V4.00001C21 3.44773 20.5523 3.00001 20 3.00001H19ZM11.3 9.50001L11.2769 9.50001C11.1578 9.49996 11.0155 9.49991 10.8902 9.51015C10.745 9.52201 10.537 9.55245 10.319 9.6635C10.0368 9.80731 9.80731 10.0368 9.6635 10.319C9.55245 10.537 9.52201 10.745 9.51015 10.8902C9.49991 11.0155 9.49996 11.1578 9.50001 11.2769L9.50001 11.3V12.7L9.50001 12.7232C9.49996 12.8423 9.49991 12.9845 9.51015 13.1098C9.52201 13.2551 9.55245 13.4631 9.6635 13.681C9.80731 13.9632 10.0368 14.1927 10.319 14.3365C10.537 14.4476 10.745 14.478 10.8902 14.4899C11.0155 14.5001 11.1577 14.5001 11.2769 14.5H11.2769L11.3 14.5H12.7L12.7231 14.5H12.7232C12.8423 14.5001 12.9845 14.5001 13.1098 14.4899C13.2551 14.478 13.4631 14.4476 13.681 14.3365C13.9632 14.1927 14.1927 13.9632 14.3365 13.681C14.4476 13.4631 14.478 13.2551 14.4899 13.1098C14.5001 12.9845 14.5001 12.8423 14.5 12.7232V12.7231L14.5 12.7V11.3L14.5 11.2769V11.2769C14.5001 11.1577 14.5001 11.0155 14.4899 10.8902C14.478 10.745 14.4476 10.537 14.3365 10.319C14.1927 10.0368 13.9632 9.80731 13.681 9.6635C13.4631 9.55245 13.2551 9.52201 13.1098 9.51015C12.9845 9.49991 12.8423 9.49996 12.7232 9.50001L12.7 9.50001H11.3ZM18.8 10L18.7769 10C18.6578 9.99996 18.5155 9.99991 18.3902 10.0101C18.245 10.022 18.037 10.0525 17.819 10.1635C17.5368 10.3073 17.3073 10.5368 17.1635 10.819C17.0525 11.037 17.022 11.245 17.0101 11.3902C16.9999 11.5155 17 11.6578 17 11.7769L17 11.8V12.2L17 12.2231C17 12.3423 16.9999 12.4845 17.0101 12.6098C17.022 12.7551 17.0525 12.9631 17.1635 13.181C17.3073 13.4632 17.5368 13.6927 17.819 13.8365C18.037 13.9476 18.245 13.978 18.3902 13.9899C18.5155 14.0001 18.6578 14.0001 18.7769 14L18.8 14H19.2L19.2231 14C19.3423 14.0001 19.4845 14.0001 19.6098 13.9899C19.7551 13.978 19.9631 13.9476 20.181 13.8365C20.4632 13.6927 20.6927 13.4632 20.8365 13.181C20.9476 12.9631 20.978 12.7551 20.9899 12.6098C21.0001 12.4846 21.0001 12.3424 21 12.2233V12.2232L21 12.2V11.8L21 11.7769V11.7768C21.0001 11.6577 21.0001 11.5155 20.9899 11.3902C20.978 11.245 20.9476 11.037 20.8365 10.819C20.6927 10.5368 20.4632 10.3073 20.181 10.1635C19.9631 10.0525 19.7551 10.022 19.6098 10.0101C19.4845 9.99991 19.3423 9.99996 19.2232 10L19.2 10H18.8ZM4.80001 10L4.77687 10C4.65776 9.99996 4.5155 9.99991 4.39018 10.0101C4.24496 10.022 4.03697 10.0525 3.81903 10.1635C3.53678 10.3073 3.30731 10.5368 3.1635 10.819C3.05245 11.037 3.02201 11.245 3.01015 11.3902C2.99991 11.5155 2.99996 11.6578 3.00001 11.7769L3.00001 11.8V12.2L3.00001 12.2232C2.99996 12.3423 2.99991 12.4845 3.01015 12.6098C3.02201 12.7551 3.05245 12.9631 3.1635 13.181C3.30731 13.4632 3.53678 13.6927 3.81903 13.8365C4.03697 13.9476 4.24496 13.978 4.39018 13.9899C4.5155 14.0001 4.65775 14.0001 4.77686 14H4.77688L4.80001 14H5.20001L5.22314 14H5.22316C5.34228 14.0001 5.48453 14.0001 5.60984 13.9899C5.75506 13.978 5.96305 13.9476 6.181 13.8365C6.46324 13.6927 6.69271 13.4632 6.83652 13.181C6.94757 12.9631 6.97801 12.7551 6.98988 12.6098C7.00012 12.4845 7.00006 12.3423 7.00002 12.2232V12.2232L7.00001 12.2V11.8L7.00002 11.7769V11.7769C7.00006 11.6577 7.00012 11.5155 6.98988 11.3902C6.97801 11.245 6.94757 11.037 6.83652 10.819C6.69271 10.5368 6.46324 10.3073 6.181 10.1635C5.96305 10.0525 5.75506 10.022 5.60984 10.0101C5.48452 9.99991 5.34227 9.99996 5.22315 10L5.20001 10H4.80001ZM11.7769 17C11.6578 17 11.5155 16.9999 11.3902 17.0101C11.245 17.022 11.037 17.0525 10.819 17.1635C10.5368 17.3073 10.3073 17.5368 10.1635 17.819C10.0525 18.037 10.022 18.245 10.0101 18.3902C9.99991 18.5155 9.99996 18.6578 10 18.7769L10 18.8V19.2L10 19.2232C9.99996 19.3423 9.99991 19.4845 10.0101 19.6098C10.022 19.7551 10.0525 19.9631 10.1635 20.181C10.3073 20.4632 10.5368 20.6927 10.819 20.8365C11.037 20.9476 11.245 20.978 11.3902 20.9899C11.5155 21.0001 11.6577 21.0001 11.7768 21H11.7769L11.8 21H12.2L12.2232 21H12.2233C12.3424 21.0001 12.4846 21.0001 12.6098 20.9899C12.7551 20.978 12.9631 20.9476 13.181 20.8365C13.4632 20.6927 13.6927 20.4632 13.8365 20.181C13.9476 19.9631 13.978 19.7551 13.9899 19.6098C14.0001 19.4845 14.0001 19.3423 14 19.2232V19.2231L14 19.2V18.8L14 18.7769V18.7769C14.0001 18.6577 14.0001 18.5155 13.9899 18.3902C13.978 18.245 13.9476 18.037 13.8365 17.819C13.6927 17.5368 13.4632 17.3073 13.181 17.1635C12.9631 17.0525 12.7551 17.022 12.6098 17.0101C12.4845 16.9999 12.3423 17 12.2231 17L12.2 17H11.8L11.7769 17ZM4.00001 18C3.44773 18 3.00001 18.4477 3.00001 19V20C3.00001 20.5523 3.44773 21 4.00001 21H5.00001C5.5523 21 6.00001 20.5523 6.00001 20V19C6.00001 18.4477 5.5523 18 5.00001 18H4.00001ZM19 18C18.4477 18 18 18.4477 18 19V20C18 20.5523 18.4477 21 19 21H20C20.5523 21 21 20.5523 21 20V19C21 18.4477 20.5523 18 20 18H19Z", "fill", "currentColor"], [1, "bg-danger", "text-light", "w-100", "py-1", "text-center", 2, "z-index", "1000", 3, "ngClass"], ["triggers", "click:blur", "popoverClass", "signal-increase-popover-width", 1, "bg-danger", "text-light", "w-100", "py-1", "text-center", "cup", 2, "z-index", "1000", 3, "ngClass", "ngbPopover"], [1, "bg-warning", "w-100", "py-1", "text-center", 2, "z-index", "1000", 3, "ngClass"], [1, "bg-success", "text-light", "w-100", "py-1", "text-center", 2, "z-index", "1000", 3, "ngClass"], ["width", "18", "height", "18", "viewBox", "0 0 24 24", "fill", "none", "xmlns", "http://www.w3.org/2000/svg"], ["href", "#ls-not-connect"], ["width", "18", "height", "18", "viewBox", "0 0 24 24", "xmlns", "http://www.w3.org/2000/svg", 1, "ms-1"], ["href", "#question-box"], [1, "mb-2"], [1, "ps-4", "mb-0"], ["width", "18", "height", "18", "viewBox", "0 0 24 24", "xmlns", "http://www.w3.org/2000/svg"], ["href", "#dots-grid"], ["href", "#ls-connecting"], ["href", "#ls-connect"]],
        template: function(r, s) {
            r & 1 && (dl(),
            H(0, "svg", 1)(1, "symbol", 2),
            me(2, "path", 3),
            W(),
            H(3, "symbol", 4),
            oe(4, " > "),
            me(5, "path", 5),
            W(),
            H(6, "symbol", 6),
            oe(7, " > "),
            me(8, "path", 5),
            W(),
            H(9, "symbol", 7),
            oe(10, " > "),
            me(11, "path", 8),
            W(),
            H(12, "symbol", 9),
            oe(13, " > "),
            me(14, "path", 10),
            W()(),
            at(15, EY, 3, 3)(16, TY, 4, 4, "div", 11)),
            r & 2 && (Q(15),
            tt(s.barMessage() && !s.showInternetConnectionBar() ? 15 : -1),
            Q(),
            tt(s.showInternetConnectionBar() ? 16 : -1))
        },
        dependencies: [rr, LE],
        styles: [`.signal-increase-popover-width{min-width:350px}
/*# sourceMappingURL=connection-state.style-IW4NV7EX.css.map */
`],
        encapsulation: 2,
        changeDetection: 0
    });
    let e = t;
    return e
}
)();
var OY = e => ({
    disabled: e
});
function PY(e, t) {
    if (e & 1) {
        let n = cn();
        H(0, "div", 4),
        Qe("click", function() {
            yt(n);
            let r = Te();
            return bt(r.allDeselected.emit(!0))
        }),
        me(1, "svg-icon", 6),
        H(2, "small", 3),
        oe(3, " \u0644\u063A\u0648 \u0627\u0646\u062A\u062E\u0627\u0628"),
        W()()
    }
    if (e & 2) {
        let n = Te();
        Q(),
        ye("iconName", n.icons.CheckBoxGroup)
    }
}
function MY(e, t) {
    if (e & 1) {
        let n = cn();
        H(0, "div", 4),
        Qe("click", function() {
            yt(n);
            let r = Te();
            return bt(r.allSelected.emit(!0))
        }),
        me(1, "svg-icon", 7),
        H(2, "small", 3),
        oe(3, " \u0627\u0646\u062A\u062E\u0627\u0628 \u0647\u0645\u0647"),
        W()()
    }
    if (e & 2) {
        let n = Te();
        Q(),
        ye("iconName", n.icons.CheckBoxGroup)
    }
}
function kY(e, t) {
    if (e & 1 && oe(0),
    e & 2) {
        let n = Te();
        Zn(" (", n.selectedCount(), ") ")
    }
}
var Q9e = ( () => {
    let t = class t extends za {
        constructor() {
            super(...arguments),
            this.icons = $t,
            this.allSelected = Wt(),
            this.allDeselected = Wt(),
            this.removeClicked = Wt(),
            this.taskbarClosed = Wt(),
            this.selectedCount = Ee(),
            this.allDataCount = Ee(),
            this.areAllSelected = W0( () => this.selectedCount() === this.allDataCount())
        }
        handleClose() {
            this.allDeselected.emit(!0),
            this.taskbarClosed.emit(!0)
        }
    }
    ;
    t.\u0275fac = ( () => {
        let i;
        return function(s) {
            return (i || (i = On(t)))(s || t)
        }
    }
    )(),
    t.\u0275cmp = Ye({
        type: t,
        selectors: [["multi-select-toolbar"]],
        inputs: {
            selectedCount: [1, "selectedCount"],
            allDataCount: [1, "allDataCount"]
        },
        outputs: {
            allSelected: "allSelected",
            allDeselected: "allDeselected",
            removeClicked: "removeClicked",
            taskbarClosed: "taskbarClosed"
        },
        features: [xo],
        decls: 12,
        vars: 10,
        consts: [[1, "text-center", "col", "p-0"], [1, "text-center", "col", "p-0", "flex-grow-1", 3, "click", "ngClass"], ["width", "24", "height", "24", 1, "px-2", "d-block", "text-primary", "cup", 3, "iconName"], [1, "fw-light"], [1, "text-center", "col", "p-0", 3, "click"], ["width", "24", "height", "24", 1, "text-body", "d-block", "text-opacity-50", "cup", 3, "iconName"], ["width", "24", "height", "24", 1, "d-block", "text-primary", 3, "iconName"], ["width", "24", "height", "24", 1, "d-block", "text-primary", "cup", 3, "iconName"]],
        template: function(r, s) {
            r & 1 && (H(0, "div"),
            at(1, PY, 4, 1, "div", 0)(2, MY, 4, 1, "div", 0),
            H(3, "div", 1),
            Qe("click", function() {
                return s.removeClicked.emit(!0)
            }),
            me(4, "svg-icon", 2),
            H(5, "small", 3),
            oe(6, " \u062D\u0630\u0641 "),
            at(7, kY, 1, 1),
            W()(),
            H(8, "div", 4),
            Qe("click", function() {
                return s.handleClose()
            }),
            me(9, "svg-icon", 5),
            H(10, "small", 3),
            oe(11, " \u0628\u0633\u062A\u0646 "),
            W()()()),
            r & 2 && (cs("shadow  toolbar p-2 d-flex justify-content-between align-items-center bg-principal-3x bg-principal-4x-dark  ", s.IsMobile() ? "rounded" : "mx-4 my-1 rounded-3", ""),
            Q(),
            tt(s.areAllSelected() ? 1 : 2),
            Q(2),
            ye("ngClass", Dn(8, OY, !s.selectedCount())),
            Q(),
            ye("iconName", s.icons.Delete),
            Q(3),
            tt(s.selectedCount() ? 7 : -1),
            Q(2),
            ye("iconName", s.icons.Close))
        },
        dependencies: [rr, Fn],
        encapsulation: 2,
        changeDetection: 0
    });
    let e = t;
    return e
}
)();
function AY(e, t) {
    if (e & 1) {
        let n = cn();
        H(0, "div", 0)(1, "div", 1)(2, "div", 2),
        me(3, "svg-icon", 3),
        W(),
        H(4, "div", 4)(5, "span", 5),
        oe(6),
        W()(),
        H(7, "p", 6),
        oe(8),
        W()(),
        H(9, "div", 7)(10, "button", 8),
        Qe("click", function() {
            yt(n);
            let r = Te();
            return bt(r.closeEvent.emit(!0))
        }),
        oe(11, " \u0627\u0646\u0635\u0631\u0627\u0641 "),
        W(),
        H(12, "button", 9),
        Qe("click", function() {
            yt(n);
            let r = Te();
            return r.confirmEvent.emit(!0),
            bt(r.closeModal())
        }),
        oe(13, " \u062A\u0627\u06CC\u06CC\u062F "),
        W()()()
    }
    if (e & 2) {
        let n = Te();
        Q(3),
        ye("iconName", n.icon()),
        Q(3),
        Zn(" ", n.title(), ""),
        Q(2),
        Pn(n.description())
    }
}
function IY(e, t) {
    if (e & 1) {
        let n = cn();
        H(0, "div", 4)(1, "span", 10),
        oe(2),
        W()(),
        H(3, "div", 11)(4, "div", 12)(5, "div", 13)(6, "div", 2),
        me(7, "svg-icon", 3),
        W(),
        H(8, "p", 14),
        oe(9),
        W()()()(),
        H(10, "div", 15),
        me(11, "div", 16),
        H(12, "div", 17),
        Qe("click", function() {
            yt(n);
            let r = Te();
            return bt(r.closeEvent.emit(!0))
        }),
        oe(13, "\u0627\u0646\u0635\u0631\u0627\u0641"),
        W(),
        H(14, "button", 18),
        Qe("click", function() {
            yt(n);
            let r = Te();
            return r.confirmEvent.emit(!0),
            bt(r.closeModal())
        }),
        oe(15, " \u062A\u0627\u06CC\u06CC\u062F "),
        W()()
    }
    if (e & 2) {
        let n = Te();
        Q(2),
        Zn(" ", n.title(), ""),
        Q(5),
        ye("iconName", n.icon()),
        Q(2),
        Pn(n.description())
    }
}
var sme = ( () => {
    let t = class t extends za {
        constructor() {
            super(...arguments),
            this.closeEvent = Wt(),
            this.confirmEvent = Wt(),
            this.icon = Ee(),
            this.title = Ee(),
            this.description = Ee()
        }
    }
    ;
    t.\u0275fac = ( () => {
        let i;
        return function(s) {
            return (i || (i = On(t)))(s || t)
        }
    }
    )(),
    t.\u0275cmp = Ye({
        type: t,
        selectors: [["action-confirm"]],
        inputs: {
            icon: [1, "icon"],
            title: [1, "title"],
            description: [1, "description"]
        },
        outputs: {
            closeEvent: "closeEvent",
            confirmEvent: "confirmEvent"
        },
        features: [xo],
        decls: 2,
        vars: 1,
        consts: [[1, "p-3", "text-center"], [1, "text-center", "align-items-center", "d-flex", "flex-column", "justify-content-center", "text-center"], [1, "rounded", "bg-danger", "bg-opacity-10", "d-inline-flex", "p-2", "mb-3"], ["width", "36", "height", "36", 1, "text-danger", 3, "iconName"], [1, "modal-header", "align-items-center", "d-flex", "justify-content-between"], [1, "fw-bold", "h6"], [1, "text-body-tertiary", "m-0"], [1, "d-flex", "gap-1", "mt-3"], ["type", "button", 1, "btn", "btn-outline-secondary", "flex-grow-1", 3, "click"], ["data-cy", "buy-transaction-cancel-confirm-btn", "type", "button", 1, "btn", "btn-danger", "flex-grow-1", 3, "click"], [1, "modal-title", "fw-bold"], [1, "modal-body", "py-4"], [1, "text-global"], [1, "text-center"], [1, "text-body", "fw-bold", "m-0"], [1, "modal-footer"], [1, "m-0", "d-flex", "gap-2"], ["type", "button", 1, "btn", "btn-outline-secondary", 3, "click"], ["data-cy", "buy-transaction-cancel-confirm-btn", "type", "button", 1, "btn", "btn-danger", 3, "click"]],
        template: function(r, s) {
            r & 1 && at(0, AY, 14, 3, "div", 0)(1, IY, 16, 3),
            r & 2 && tt(s.IsMobile() ? 0 : 1)
        },
        dependencies: [fc, Fn],
        encapsulation: 2,
        changeDetection: 0
    });
    let e = t;
    return e
}
)();
var Lme = ( () => {
    let t = class t {
        constructor() {
            this.authService = z(Dr),
            this.gtagService = z(ol),
            this.userService = z(Wr),
            this.error403Counter = 0,
            this.error401Counter = 0
        }
        intercept(i, r) {
            let s = this.authService.getToken();
            if (s) {
                let o = i.clone({
                    headers: i.headers.set("Authorization", "Bearer " + s).set("Accept-language", "fa")
                })
                  , a = new Date().getTime();
                return r.handle(o).pipe(Ge( () => {
                    this.gtagService.sendApiRequestType(i.url, {
                        method: i.method,
                        latency: +((new Date().getTime() - a) / 1e3).toFixed(1)
                    })
                }
                ), on(c => (c.status === 403 && (this.error403Counter++,
                this.error403Counter >= 2 && !this.userService.isGuestUser && !this.userService.isEasy2User && this.authService.logOutFromApp(),
                this.error403Counter >= 30 && (this.userService.isGuestUser || this.userService.isEasy2User) && this.authService.logOutFromApp()),
                c.status === 401 && (this.error401Counter++,
                this.error401Counter >= 2 && !this.userService.isGuestUser && !this.userService.isEasy2User && this.authService.logOutFromApp(),
                this.error401Counter >= 30 && (this.userService.isGuestUser || this.userService.isEasy2User) && this.authService.logOutFromApp()),
                Hr(c))))
            } else
                return r.handle(i)
        }
    }
    ;
    t.\u0275fac = function(r) {
        return new (r || t)
    }
    ,
    t.\u0275prov = re({
        token: t,
        factory: t.\u0275fac
    });
    let e = t;
    return e
}
)();
var Gme = ( () => {
    let t = class t {
        constructor(i, r) {
            this.versionService = i,
            this.userDeviceService = r,
            this.showNewVersionSub = new Ne(!1),
            this.showNewVersion$ = this.showNewVersionSub.asObservable(),
            this.desktopShowUpdate = !1,
            this.mobileShowUpdate = !1,
            this.desktopTitles = ["\u0628\u0631\u0648\u0632 \u0631\u0633\u0627\u0646\u06CC \u06F1\u06F4\u06F0\u06F3/\u06F0\u06F2/\u06F0\u06F4"],
            this.desktopUpdateLists = [[{
                title: "\u0645\u0641\u06CC\u062F \u06A9\u0627\u0631\u062A",
                changes: ["\u0627\u0641\u0632\u0627\u06CC\u0634 \u0633\u0642\u0641 \u0628\u0631\u062F\u0627\u0634\u062A \u0622\u0646\u06CC \u0628\u0647 \u06F2\u06F0\u06F0 \u0645\u06CC\u0644\u06CC\u0648\u0646 \u062A\u0648\u0645\u0627\u0646", "\u0627\u0636\u0627\u0641\u0647 \u0634\u062F\u0646 \u0642\u0627\u0628\u0644\u06CC\u062A \u0645\u0633\u062F\u0648\u062F \u0633\u0627\u0632\u06CC \u0645\u0641\u06CC\u062F \u06A9\u0627\u0631\u062A"]
            }]],
            this.mobileTitles = ["\u0628\u0631\u0648\u0632 \u0631\u0633\u0627\u0646\u06CC \u06F1\u06F4\u06F0\u06F3/\u06F0\u06F2/\u06F0\u06F4"],
            this.mobileUpdateLists = [[{
                title: "\u0645\u0641\u06CC\u062F \u06A9\u0627\u0631\u062A",
                changes: ["\u0627\u0641\u0632\u0627\u06CC\u0634 \u0633\u0642\u0641 \u0628\u0631\u062F\u0627\u0634\u062A \u0622\u0646\u06CC \u0628\u0647 \u06F2\u06F0\u06F0 \u0645\u06CC\u0644\u06CC\u0648\u0646 \u062A\u0648\u0645\u0627\u0646", "\u0627\u0636\u0627\u0641\u0647 \u0634\u062F\u0646 \u0642\u0627\u0628\u0644\u06CC\u062A \u0645\u0633\u062F\u0648\u062F \u0633\u0627\u0632\u06CC \u0645\u0641\u06CC\u062F \u06A9\u0627\u0631\u062A"]
            }]],
            this.userDeviceService.deviceType$.pipe(mt(s => s !== yn.Unknown)).subscribe(s => {
                this.detectAppNewVersion(s)
            }
            )
        }
        detectAppNewVersion(i) {
            (i === yn.Desktop && this.desktopShowUpdate || i === yn.Mobile && this.mobileShowUpdate) && this.versionService.isNewVersion() ? this.changeShowNewVersion(!0) : this.versionService.isNewVersion() && this.versionService.setCurrentVersion()
        }
        changeShowNewVersion(i) {
            this.showNewVersionSub.next(i)
        }
        closeReleaseNote() {
            this.changeShowNewVersion(!1),
            this.versionService.setCurrentVersion()
        }
    }
    ;
    t.\u0275fac = function(r) {
        return new (r || t)(xe(mT),xe(hr))
    }
    ,
    t.\u0275prov = re({
        token: t,
        factory: t.\u0275fac,
        providedIn: "root"
    });
    let e = t;
    return e
}
)();
var Wme = {
    config: {
        domain: "",
        client: "",
        version: "",
        token: ""
    },
    pathname(e) {
        return `${this.config.domain}/${encodeURIComponent(this.config.version)}/${e}?client=${encodeURIComponent(this.config.client)}`
    },
    getFetchOptions() {
        return {
            headers: {
                Authorization: `Bearer ${this.config.token}`
            },
            credentials: "same-origin"
        }
    },
    getAllCharts() {
        return ue(this, null, function*() {
            try {
                let e = yield fetch(`${this.pathname("charts")}`, this.getFetchOptions());
                if (!e.ok)
                    throw new Error(`Getting chart content response was not OK. Status: ${e.status}.`);
                let t = yield e.json();
                if (t.status !== "ok")
                    throw new Error("Get chart content request failed: " + t.message);
                return t.data
            } catch {}
        })
    },
    removeChart(e) {
        return ue(this, null, function*() {
            try {
                let t = yield fetch(`${this.pathname("charts")}&chart=${encodeURIComponent(e)}`, ve(C({}, this.getFetchOptions()), {
                    method: "DELETE"
                }));
                if (!t.ok)
                    throw new Error(`Remove chart response was not OK. Status: ${t.status}.`);
                let n = yield t.json();
                if (n.status !== "ok")
                    throw new Error("Remove drawing template request failed: " + n.message)
            } catch {}
        })
    },
    saveChart(n) {
        return ue(this, null, function*() {
            var i = n
              , {id: e} = i
              , t = tr(i, ["id"]);
            try {
                let r = new FormData;
                for (let c in t)
                    r.append(c, t[c]);
                let s = this.pathname("charts");
                e && (s += `&chart=${encodeURIComponent(e)}`);
                let o = yield fetch(s, ve(C({}, this.getFetchOptions()), {
                    method: "POST",
                    body: r
                }));
                if (!o.ok)
                    throw new Error(`Saving chart content response was not OK. Status: ${o.status}.`);
                let a = yield o.json();
                if (a.status !== "ok")
                    throw new Error("Saving chart content request failed: " + a.message);
                return (a.id ? a.id : e).toString()
            } catch {}
        })
    },
    getChartContent(e) {
        return ue(this, null, function*() {
            try {
                let t = yield fetch(`${this.pathname("charts")}&chart=${encodeURIComponent(e)}`, C({}, this.getFetchOptions()));
                if (!t.ok)
                    throw new Error(`Getting chart content response was not OK. Status: ${t.status}.`);
                let n = yield t.json();
                if (n.status !== "ok")
                    throw new Error("Get chart content request failed: " + n.message);
                return n.data.content
            } catch {}
        })
    },
    removeStudyTemplate(t) {
        return ue(this, arguments, function*({name: e}) {
            try {
                let n = yield fetch(`${this.pathname("study_templates")}&template=${encodeURIComponent(e)}`, ve(C({}, this.getFetchOptions()), {
                    method: "DELETE"
                }));
                if (!n.ok)
                    throw new Error(`Remove study template response was not OK. Status: ${n.status}.`);
                let i = yield n.json();
                if (i.status !== "ok")
                    throw new Error("Remove study template request failed: " + i.message)
            } catch {}
        })
    },
    getStudyTemplateContent(t) {
        return ue(this, arguments, function*({name: e}) {
            try {
                let n = yield fetch(`${this.pathname("study_templates")}&template=${encodeURIComponent(e)}`, C({}, this.getFetchOptions()));
                if (!n.ok)
                    throw new Error(`Get study template response was not OK. Status: ${n.status}.`);
                let i = yield n.json();
                if (i.status !== "ok")
                    throw new Error("Get study template request failed: " + i.message);
                return i.data.content
            } catch {}
        })
    },
    saveStudyTemplate(n) {
        return ue(this, arguments, function*({content: e, name: t}) {
            try {
                let i = new FormData;
                i.append("name", t),
                i.append("content", e);
                let r = yield fetch(this.pathname("study_templates"), C({
                    method: "POST",
                    body: i
                }, this.getFetchOptions()));
                if (!r.ok)
                    throw new Error(`Save study template response was not OK. Status: ${r.status}.`);
                let s = yield r.json();
                return {
                    error: s.status === "ok" ? "" : s.status
                }
            } catch {}
        })
    },
    getAllStudyTemplates() {
        return ue(this, null, function*() {
            let e = t => t.map(n => ({
                is_default: !1,
                name: n.name
            }));
            try {
                let t = yield fetch(this.pathname("study_templates"), C({}, this.getFetchOptions()));
                if (!t.ok)
                    throw new Error(`Study templates list response was not OK. Status: ${t.status}.`);
                let n = yield t.json();
                if (n.status !== "ok")
                    throw new Error("Study templates list request failed: " + n.message);
                return e(n.data)
            } catch {}
        })
    },
    removeDrawingTemplate(e, t) {
        return ue(this, null, function*() {
            try {
                let n = yield fetch(`${this.pathname("drawing_templates")}&tool=${encodeURIComponent(e)}&name=${encodeURIComponent(t)}`, C({
                    method: "DELETE"
                }, this.getFetchOptions()));
                if (!n.ok)
                    throw new Error(`Remove drawing template response was not OK. Status: ${n.status}.`);
                let i = yield n.json();
                if (i.status !== "ok")
                    throw new Error("Remove drawing template request failed: " + i.message)
            } catch {}
        })
    },
    loadDrawingTemplate(e, t) {
        return ue(this, null, function*() {
            try {
                let n = yield fetch(`${this.pathname("drawing_templates")}&tool=${encodeURIComponent(e)}&name=${encodeURIComponent(t)}`, C({}, this.getFetchOptions()));
                if (!n.ok)
                    throw new Error(`Load drawing template response was not OK. Status: ${n.status}.`);
                let i = yield n.json();
                if (i.status !== "ok")
                    throw new Error("Drawing template request failed: " + i.message);
                return i.data.content
            } catch {}
        })
    },
    saveDrawingTemplate(e, t, n) {
        return ue(this, null, function*() {
            try {
                let i = new FormData;
                i.append("content", n);
                let r = yield fetch(`${this.pathname("drawing_templates")}&tool=${encodeURIComponent(e)}&name=${encodeURIComponent(t)}`, C({
                    method: "POST",
                    body: i
                }, this.getFetchOptions()));
                if (!r.ok)
                    throw new Error(`Save drawing template response was not OK. Status: ${r.status}.`);
                let s = yield r.json();
                if (s.status !== "ok")
                    throw new Error("Save drawing template request failed: " + s.message)
            } catch {}
        })
    },
    getDrawingTemplates(e) {
        return ue(this, null, function*() {
            try {
                let t = yield fetch(`${this.pathname("drawing_templates")}&tool=${encodeURIComponent(e)}`, C({}, this.getFetchOptions()));
                if (!t.ok)
                    throw new Error(`Get drawing templates response was not OK. Status: ${t.status}.`);
                let n = yield t.json();
                if (n.status !== "ok")
                    throw new Error("Drawing templates request failed: " + n.message);
                return n.data
            } catch {}
        })
    },
    getAllChartTemplates() {
        return ue(this, null, function*() {})
    },
    saveChartTemplate() {
        return ue(this, null, function*() {})
    },
    getChartTemplateContent() {
        return ue(this, null, function*() {})
    }
};
var Jme = ( () => {
    let t = class t {
        constructor() {
            this.notificationService = z(Us)
        }
        notifyInfo(i, r=0) {
            let s = li(r).subscribe( () => {
                this.notificationService.alert(i, ii.secondary)
            }
            );
            function o() {
                s.unsubscribe()
            }
            return {
                cancel: o
            }
        }
        notifyError(i) {
            this.notificationService.alert(i, ii.danger)
        }
        notifySuccess(i) {
            this.notificationService.alert(i, ii.success)
        }
        notifyWarning(i) {
            this.notificationService.alert(i, ii.warning)
        }
    }
    ;
    t.\u0275fac = function(r) {
        return new (r || t)
    }
    ,
    t.\u0275prov = re({
        token: t,
        factory: t.\u0275fac,
        providedIn: "root"
    });
    let e = t;
    return e
}
)();
var $P = function(e) {
    return e[e.none = 1] = "none",
    e[e.asc = 2] = "asc",
    e[e.decs = -1] = "decs",
    e
}($P || {})
  , t8e = ( () => {
    let t = class t {
        constructor(i) {
            this.localStorageService = i,
            this.getLocalSortStorage()
        }
        writeLocalSortStorage() {
            this.localStorageService.setItem(Vn.sortStore, JSON.stringify(this.sortObject))
        }
        getLocalSortStorage() {
            this.localStorageService.getItem(Vn.sortStore) || this.localStorageService.setItem(Vn.sortStore, "[]"),
            this.sortObject = JSON.parse(this.localStorageService.getItem(Vn.sortStore))
        }
        getLocationSort(i) {
            this.getLocalSortStorage();
            let r = this.sortObject.find(s => s.locationKey === i && s.sortDirection !== $P.none);
            return C({}, r)
        }
        setByKey(i) {
            if (this.getLocalSortStorage(),
            this.sortObject.length) {
                let r = this.sortObject.findIndex(s => s.locationKey === i.locationKey);
                r > -1 ? (this.sortObject[r].sortDirection = i.sortDirection,
                this.sortObject[r].field = i.field) : this.sortObject.push(C({}, i))
            } else
                this.sortObject.push(C({}, i));
            this.writeLocalSortStorage()
        }
    }
    ;
    t.\u0275fac = function(r) {
        return new (r || t)(xe(Tc))
    }
    ,
    t.\u0275prov = re({
        token: t,
        factory: t.\u0275fac,
        providedIn: "root"
    });
    let e = t;
    return e
}
)();
var jP = 1 * 1024 * 1024
  , qP = 512
  , RY = 1
  , DY = .7
  , s8e = ( () => {
    let t = class t {
        compress(i) {
            let r = i.type || "image/jpeg"
              , s = new FileReader;
            return s.readAsDataURL(i),
            bo.create(o => {
                s.onload = a => {
                    let c = this.createImage(a)
                      , l = c.width > c.height ? c.width : c.height
                      , u = l > qP ? qP / l : RY
                      , h = i.size > jP ? jP / i.size : DY;
                    c.onload = () => {
                        let d = document.createElement("canvas");
                        d.width = c.width * u,
                        d.height = c.height * u;
                        let f = d.getContext("2d");
                        f.drawImage(c, 0, 0, d.width, d.height),
                        f.canvas.toBlob(g => {
                            o.next(new File([g],i.name,{
                                type: r,
                                lastModified: Date.now()
                            }))
                        }
                        , r, h)
                    }
                }
                ,
                s.onerror = a => o.error(a)
            }
            )
        }
        createImage(i) {
            let r = i.target.result
              , s = new Image;
            return s.src = r,
            s
        }
    }
    ;
    t.\u0275fac = function(r) {
        return new (r || t)
    }
    ,
    t.\u0275prov = re({
        token: t,
        factory: t.\u0275fac,
        providedIn: "root"
    });
    let e = t;
    return e
}
)();
var zP = ( () => {
    let t = class t {
        sendMessage(i, r) {
            let s = new BroadcastChannel(i.toString());
            s.postMessage({
                type: i,
                payload: r
            }),
            s.close()
        }
        subscribeToMessage(i, r) {
            let s = new BroadcastChannel(i.toString());
            return s.onmessage = o => {
                r(o.data.payload)
            }
            ,
            () => {
                s.close()
            }
        }
    }
    ;
    t.\u0275fac = function(r) {
        return new (r || t)
    }
    ,
    t.\u0275prov = re({
        token: t,
        factory: t.\u0275fac,
        providedIn: "root"
    });
    let e = t;
    return e
}
)();
var XP = ( () => {
    let t = class t {
        constructor() {
            this._workers = {}
        }
        get isWebWorkerSupported() {
            return typeof Worker < "u"
        }
        initializeWorker(i, r) {
            if (this._workers[i])
                throw new Error("This worker is already initialized!");
            this._workers[i] = r
        }
        isWorkerAvailable(i) {
            return !!this._workers[i]
        }
        startProcess(i) {
            if (!this.isWebWorkerSupported)
                throw new Error("Web worker not supported!");
            let r = i.pScope;
            if (!this._workers[r])
                throw new Error(`No worker available for provided scope: "${r}"`);
            if (typeof i.command.onMessageCallBack == "function") {
                let s = ({data: o}) => {
                    typeof i.command.onMessageCallBack == "function" && o?.pId === i.pId && i.command.onMessageCallBack(o)
                }
                ;
                this._workers[r].addEventListener("message", s),
                i.listenUntil?.pipe(Lt(1)).subscribe( () => {
                    this._workers[r]?.removeEventListener("message", s)
                }
                )
            }
            this._workers[r].postMessage({
                pId: i.pId,
                command: i.command.title,
                data: i.command.data
            })
        }
    }
    ;
    t.\u0275fac = function(r) {
        return new (r || t)
    }
    ,
    t.\u0275prov = re({
        token: t,
        factory: t.\u0275fac,
        providedIn: "root"
    });
    let e = t;
    return e
}
)();
var k8 = {};
function NY(e, t) {
    if (k8[e] = (k8[e] || 0) + 1,
    typeof t == "function")
        return O8(e, (...i) => ve(C({}, t(...i)), {
            type: e
        }));
    switch (t ? t._as : "empty") {
    case "empty":
        return O8(e, () => ({
            type: e
        }));
    case "props":
        return O8(e, i => ve(C({}, i), {
            type: e
        }));
    default:
        throw new Error("Unexpected config.")
    }
}
function FY() {
    return {
        _as: "props",
        _p: void 0
    }
}
function O8(e, t) {
    return Object.defineProperty(t, "type", {
        value: e,
        writable: !1
    })
}
function LY(e) {
    return e.charAt(0).toUpperCase() + e.substring(1)
}
function BY(e) {
    return e.charAt(0).toLowerCase() + e.substring(1)
}
function UY(e, t) {
    if (e == null)
        throw new Error(`${t} must be defined.`)
}
function v8e(e) {
    let {source: t, events: n} = e;
    return Object.keys(n).reduce( (i, r) => ve(C({}, i), {
        [HY(r)]: NY(GY(t, r), n[r])
    }), {})
}
function _8e() {
    return FY()
}
function HY(e) {
    return e.trim().split(" ").map( (t, n) => n === 0 ? BY(t) : LY(t)).join("")
}
function GY(e, t) {
    return `[${e}] ${t}`
}
var uM = "@ngrx/store/init"
  , xh = ( () => {
    let t = class t extends Ne {
        constructor() {
            super({
                type: uM
            })
        }
        next(i) {
            if (typeof i == "function")
                throw new TypeError(`
        Dispatch expected an object, instead it received a function.
        If you're using the createAction function, make sure to invoke the function
        before dispatching the action. For example, someAction should be someAction().`);
            if (typeof i > "u")
                throw new TypeError("Actions must be objects");
            if (typeof i.type > "u")
                throw new TypeError("Actions must have a type property");
            super.next(i)
        }
        complete() {}
        ngOnDestroy() {
            super.complete()
        }
    }
    ;
    t.\u0275fac = function(r) {
        return new (r || t)
    }
    ,
    t.\u0275prov = re({
        token: t,
        factory: t.\u0275fac
    });
    let e = t;
    return e
}
)()
  , VY = [xh]
  , hM = new Ze("@ngrx/store Internal Root Guard")
  , KP = new Ze("@ngrx/store Internal Initial State")
  , D8 = new Ze("@ngrx/store Initial State")
  , dM = new Ze("@ngrx/store Reducer Factory")
  , YP = new Ze("@ngrx/store Internal Reducer Factory Provider")
  , fM = new Ze("@ngrx/store Initial Reducers")
  , P8 = new Ze("@ngrx/store Internal Initial Reducers")
  , QP = new Ze("@ngrx/store Store Features")
  , JP = new Ze("@ngrx/store Internal Store Reducers")
  , M8 = new Ze("@ngrx/store Internal Feature Reducers")
  , ZP = new Ze("@ngrx/store Internal Feature Configs")
  , pM = new Ze("@ngrx/store Internal Store Features")
  , eM = new Ze("@ngrx/store Internal Feature Reducers Token")
  , gM = new Ze("@ngrx/store Feature Reducers")
  , tM = new Ze("@ngrx/store User Provided Meta Reducers")
  , Fp = new Ze("@ngrx/store Meta Reducers")
  , nM = new Ze("@ngrx/store Internal Resolved Meta Reducers")
  , iM = new Ze("@ngrx/store User Runtime Checks Config")
  , rM = new Ze("@ngrx/store Internal User Runtime Checks Config")
  , u5 = new Ze("@ngrx/store Internal Runtime Checks")
  , N8 = new Ze("@ngrx/store Check if Action types are unique")
  , y8e = new Ze("@ngrx/store Root Store Provider")
  , b8e = new Ze("@ngrx/store Feature State Provider");
function F8(e, t={}) {
    let n = Object.keys(e)
      , i = {};
    for (let s = 0; s < n.length; s++) {
        let o = n[s];
        typeof e[o] == "function" && (i[o] = e[o])
    }
    let r = Object.keys(i);
    return function(o, a) {
        o = o === void 0 ? t : o;
        let c = !1
          , l = {};
        for (let u = 0; u < r.length; u++) {
            let h = r[u]
              , d = i[h]
              , f = o[h]
              , g = d(f, a);
            l[h] = g,
            c = c || g !== f
        }
        return c ? l : o
    }
}
function WY(e, t) {
    return Object.keys(e).filter(n => n !== t).reduce( (n, i) => Object.assign(n, {
        [i]: e[i]
    }), {})
}
function mM(...e) {
    return function(t) {
        if (e.length === 0)
            return t;
        let n = e[e.length - 1];
        return e.slice(0, -1).reduceRight( (r, s) => s(r), n(t))
    }
}
function vM(e, t) {
    return Array.isArray(t) && t.length > 0 && (e = mM.apply(null, [...t, e])),
    (n, i) => {
        let r = e(n);
        return (s, o) => (s = s === void 0 ? i : s,
        r(s, o))
    }
}
function $Y(e) {
    let t = Array.isArray(e) && e.length > 0 ? mM(...e) : n => n;
    return (n, i) => (n = t(n),
    (r, s) => (r = r === void 0 ? i : r,
    n(r, s)))
}
var h5 = class extends bo {
}
  , Lp = class extends xh {
}
  , jY = "@ngrx/store/update-reducers"
  , Bp = ( () => {
    let t = class t extends Ne {
        get currentReducers() {
            return this.reducers
        }
        constructor(i, r, s, o) {
            super(o(s, r)),
            this.dispatcher = i,
            this.initialState = r,
            this.reducers = s,
            this.reducerFactory = o
        }
        addFeature(i) {
            this.addFeatures([i])
        }
        addFeatures(i) {
            let r = i.reduce( (s, {reducers: o, reducerFactory: a, metaReducers: c, initialState: l, key: u}) => {
                let h = typeof o == "function" ? $Y(c)(o, l) : vM(a, c)(o, l);
                return s[u] = h,
                s
            }
            , {});
            this.addReducers(r)
        }
        removeFeature(i) {
            this.removeFeatures([i])
        }
        removeFeatures(i) {
            this.removeReducers(i.map(r => r.key))
        }
        addReducer(i, r) {
            this.addReducers({
                [i]: r
            })
        }
        addReducers(i) {
            this.reducers = C(C({}, this.reducers), i),
            this.updateReducers(Object.keys(i))
        }
        removeReducer(i) {
            this.removeReducers([i])
        }
        removeReducers(i) {
            i.forEach(r => {
                this.reducers = WY(this.reducers, r)
            }
            ),
            this.updateReducers(i)
        }
        updateReducers(i) {
            this.next(this.reducerFactory(this.reducers, this.initialState)),
            this.dispatcher.next({
                type: jY,
                features: i
            })
        }
        ngOnDestroy() {
            this.complete()
        }
    }
    ;
    t.\u0275fac = function(r) {
        return new (r || t)(xe(Lp),xe(D8),xe(fM),xe(dM))
    }
    ,
    t.\u0275prov = re({
        token: t,
        factory: t.\u0275fac
    });
    let e = t;
    return e
}
)()
  , qY = [Bp, {
    provide: h5,
    useExisting: Bp
}, {
    provide: Lp,
    useExisting: xh
}]
  , L8 = ( () => {
    let t = class t extends lt {
        ngOnDestroy() {
            this.complete()
        }
    }
    ;
    t.\u0275fac = ( () => {
        let i;
        return function(s) {
            return (i || (i = On(t)))(s || t)
        }
    }
    )(),
    t.\u0275prov = re({
        token: t,
        factory: t.\u0275fac
    });
    let e = t;
    return e
}
)()
  , zY = [L8]
  , Up = class extends bo {
}
  , sM = ( () => {
    let t = class t extends Ne {
        constructor(i, r, s, o) {
            super(o);
            let c = i.pipe(Q8(Y8)).pipe(L0(r))
              , l = {
                state: o
            }
              , u = c.pipe(F0(XY, l));
            this.stateSubscription = u.subscribe( ({state: h, action: d}) => {
                this.next(h),
                s.next(d)
            }
            ),
            this.state = wi(this, {
                manualCleanup: !0,
                requireSync: !0
            })
        }
        ngOnDestroy() {
            this.stateSubscription.unsubscribe(),
            this.complete()
        }
    }
    ;
    t.INIT = uM,
    t.\u0275fac = function(r) {
        return new (r || t)(xe(xh),xe(h5),xe(L8),xe(D8))
    }
    ,
    t.\u0275prov = re({
        token: t,
        factory: t.\u0275fac
    });
    let e = t;
    return e
}
)();
function XY(e={
    state: void 0
}, [t,n]) {
    let {state: i} = e;
    return {
        state: n(i, t),
        action: t
    }
}
var KY = [sM, {
    provide: Up,
    useExisting: sM
}]
  , B8 = ( () => {
    let t = class t extends bo {
        constructor(i, r, s, o) {
            super(),
            this.actionsObserver = r,
            this.reducerManager = s,
            this.injector = o,
            this.source = i,
            this.state = i.state
        }
        select(i, ...r) {
            return QY.call(null, i, ...r)(this)
        }
        selectSignal(i, r) {
            return W0( () => i(this.state()), r)
        }
        lift(i) {
            let r = new t(this,this.actionsObserver,this.reducerManager);
            return r.operator = i,
            r
        }
        dispatch(i, r) {
            if (typeof i == "function")
                return this.processDispatchFn(i, r);
            this.actionsObserver.next(i)
        }
        next(i) {
            this.actionsObserver.next(i)
        }
        error(i) {
            this.actionsObserver.error(i)
        }
        complete() {
            this.actionsObserver.complete()
        }
        addReducer(i, r) {
            this.reducerManager.addReducer(i, r)
        }
        removeReducer(i) {
            this.reducerManager.removeReducer(i)
        }
        processDispatchFn(i, r) {
            UY(this.injector, "Store Injector");
            let s = r?.injector ?? JY() ?? this.injector;
            return M5( () => {
                let o = i();
                Pv( () => this.dispatch(o))
            }
            , {
                injector: s
            })
        }
    }
    ;
    t.\u0275fac = function(r) {
        return new (r || t)(xe(Up),xe(xh),xe(Bp),xe(an))
    }
    ,
    t.\u0275prov = re({
        token: t,
        factory: t.\u0275fac
    });
    let e = t;
    return e
}
)()
  , YY = [B8];
function QY(e, t, ...n) {
    return function(r) {
        let s;
        if (typeof e == "string") {
            let o = [t, ...n].filter(Boolean);
            s = r.pipe(rv(e, ...o))
        } else if (typeof e == "function")
            s = r.pipe($e(o => e(o, t)));
        else
            throw new TypeError(`Unexpected type '${typeof e}' in select operator, expected 'string' or 'function'`);
        return s.pipe(D0())
    }
}
function JY() {
    try {
        return z(an)
    } catch {
        return
    }
}
var U8 = "https://ngrx.io/guide/store/configuration/runtime-checks";
function oM(e) {
    return e === void 0
}
function aM(e) {
    return e === null
}
function _M(e) {
    return Array.isArray(e)
}
function ZY(e) {
    return typeof e == "string"
}
function eQ(e) {
    return typeof e == "boolean"
}
function tQ(e) {
    return typeof e == "number"
}
function yM(e) {
    return typeof e == "object" && e !== null
}
function nQ(e) {
    return yM(e) && !_M(e)
}
function iQ(e) {
    if (!nQ(e))
        return !1;
    let t = Object.getPrototypeOf(e);
    return t === Object.prototype || t === null
}
function A8(e) {
    return typeof e == "function"
}
function rQ(e) {
    return A8(e) && e.hasOwnProperty("\u0275cmp")
}
function sQ(e, t) {
    return Object.prototype.hasOwnProperty.call(e, t)
}
function cM(e, t) {
    return e === t
}
function oQ(e, t, n) {
    for (let i = 0; i < e.length; i++)
        if (!n(e[i], t[i]))
            return !0;
    return !1
}
function bM(e, t=cM, n=cM) {
    let i = null, r = null, s;
    function o() {
        i = null,
        r = null
    }
    function a(u=void 0) {
        s = {
            result: u
        }
    }
    function c() {
        s = void 0
    }
    function l() {
        if (s !== void 0)
            return s.result;
        if (!i)
            return r = e.apply(null, arguments),
            i = arguments,
            r;
        if (!oQ(arguments, i, t))
            return r;
        let u = e.apply(null, arguments);
        return i = arguments,
        n(r, u) ? r : (r = u,
        u)
    }
    return {
        memoized: l,
        reset: o,
        setResult: a,
        clearResult: c
    }
}
function S8e(...e) {
    return cQ(bM)(...e)
}
function aQ(e, t, n, i) {
    if (n === void 0) {
        let s = t.map(o => o(e));
        return i.memoized.apply(null, s)
    }
    let r = t.map(s => s(e, n));
    return i.memoized.apply(null, [...r, n])
}
function cQ(e, t={
    stateFn: aQ
}) {
    return function(...n) {
        let i = n;
        if (Array.isArray(i[0])) {
            let[u,...h] = i;
            i = [...u, ...h]
        } else
            i.length === 1 && lQ(i[0]) && (i = uQ(i[0]));
        let r = i.slice(0, i.length - 1)
          , s = i[i.length - 1]
          , o = r.filter(u => u.release && typeof u.release == "function")
          , a = e(function(...u) {
            return s.apply(null, u)
        })
          , c = bM(function(u, h) {
            return t.stateFn.apply(null, [u, r, h, a])
        });
        function l() {
            c.reset(),
            a.reset(),
            o.forEach(u => u.release())
        }
        return Object.assign(c.memoized, {
            release: l,
            projector: a.memoized,
            setResult: c.setResult,
            clearResult: c.clearResult
        })
    }
}
function lQ(e) {
    return !!e && typeof e == "object" && Object.values(e).every(t => typeof t == "function")
}
function uQ(e) {
    let t = Object.values(e)
      , n = Object.keys(e)
      , i = (...r) => n.reduce( (s, o, a) => ve(C({}, s), {
        [o]: r[a]
    }), {});
    return [...t, i]
}
function hQ(e) {
    return e instanceof Ze ? z(e) : e
}
function dQ(e, t) {
    return t.map( (n, i) => {
        if (e[i]instanceof Ze) {
            let r = z(e[i]);
            return {
                key: n.key,
                reducerFactory: r.reducerFactory ? r.reducerFactory : F8,
                metaReducers: r.metaReducers ? r.metaReducers : [],
                initialState: r.initialState
            }
        }
        return n
    }
    )
}
function fQ(e) {
    return e.map(t => t instanceof Ze ? z(t) : t)
}
function SM(e) {
    return typeof e == "function" ? e() : e
}
function pQ(e, t) {
    return e.concat(t)
}
function gQ() {
    if (z(B8, {
        optional: !0,
        skipSelf: !0
    }))
        throw new TypeError("The root Store has been provided more than once. Feature modules should provide feature states instead.");
    return "guarded"
}
function mQ(e, t) {
    return function(n, i) {
        let r = t.action(i) ? I8(i) : i
          , s = e(n, r);
        return t.state() ? I8(s) : s
    }
}
function I8(e) {
    Object.freeze(e);
    let t = A8(e);
    return Object.getOwnPropertyNames(e).forEach(n => {
        if (!n.startsWith("\u0275") && sQ(e, n) && (!t || n !== "caller" && n !== "callee" && n !== "arguments")) {
            let i = e[n];
            (yM(i) || A8(i)) && !Object.isFrozen(i) && I8(i)
        }
    }
    ),
    e
}
function vQ(e, t) {
    return function(n, i) {
        if (t.action(i)) {
            let s = R8(i);
            lM(s, "action")
        }
        let r = e(n, i);
        if (t.state()) {
            let s = R8(r);
            lM(s, "state")
        }
        return r
    }
}
function R8(e, t=[]) {
    return (oM(e) || aM(e)) && t.length === 0 ? {
        path: ["root"],
        value: e
    } : Object.keys(e).reduce( (i, r) => {
        if (i)
            return i;
        let s = e[r];
        return rQ(s) ? i : oM(s) || aM(s) || tQ(s) || eQ(s) || ZY(s) || _M(s) ? !1 : iQ(s) ? R8(s, [...t, r]) : {
            path: [...t, r],
            value: s
        }
    }
    , !1)
}
function lM(e, t) {
    if (e === !1)
        return;
    let n = e.path.join(".")
      , i = new Error(`Detected unserializable ${t} at "${n}". ${U8}#strict${t}serializability`);
    throw i.value = e.value,
    i.unserializablePath = n,
    i
}
function _Q(e, t) {
    return function(n, i) {
        if (t.action(i) && !Rn.isInAngularZone())
            throw new Error(`Action '${i.type}' running outside NgZone. ${U8}#strictactionwithinngzone`);
        return e(n, i)
    }
}
function yQ(e) {
    return Ev() ? C({
        strictStateSerializability: !1,
        strictActionSerializability: !1,
        strictStateImmutability: !0,
        strictActionImmutability: !0,
        strictActionWithinNgZone: !1,
        strictActionTypeUniqueness: !1
    }, e) : {
        strictStateSerializability: !1,
        strictActionSerializability: !1,
        strictStateImmutability: !1,
        strictActionImmutability: !1,
        strictActionWithinNgZone: !1,
        strictActionTypeUniqueness: !1
    }
}
function bQ({strictActionSerializability: e, strictStateSerializability: t}) {
    return n => e || t ? vQ(n, {
        action: i => e && !H8(i),
        state: () => t
    }) : n
}
function SQ({strictActionImmutability: e, strictStateImmutability: t}) {
    return n => e || t ? mQ(n, {
        action: i => e && !H8(i),
        state: () => t
    }) : n
}
function H8(e) {
    return e.type.startsWith("@ngrx")
}
function xQ({strictActionWithinNgZone: e}) {
    return t => e ? _Q(t, {
        action: n => e && !H8(n)
    }) : t
}
function wQ(e) {
    return [{
        provide: rM,
        useValue: e
    }, {
        provide: iM,
        useFactory: CQ,
        deps: [rM]
    }, {
        provide: u5,
        deps: [iM],
        useFactory: yQ
    }, {
        provide: Fp,
        multi: !0,
        deps: [u5],
        useFactory: SQ
    }, {
        provide: Fp,
        multi: !0,
        deps: [u5],
        useFactory: bQ
    }, {
        provide: Fp,
        multi: !0,
        deps: [u5],
        useFactory: xQ
    }]
}
function xM() {
    return [{
        provide: N8,
        multi: !0,
        deps: [u5],
        useFactory: EQ
    }]
}
function CQ(e) {
    return e
}
function EQ(e) {
    if (!e.strictActionTypeUniqueness)
        return;
    let t = Object.entries(k8).filter( ([,n]) => n > 1).map( ([n]) => n);
    if (t.length)
        throw new Error(`Action types are registered more than once, ${t.map(n => `"${n}"`).join(", ")}. ${U8}#strictactiontypeuniqueness`)
}
function TQ(e={}, t={}) {
    return [{
        provide: hM,
        useFactory: gQ
    }, {
        provide: KP,
        useValue: t.initialState
    }, {
        provide: D8,
        useFactory: SM,
        deps: [KP]
    }, {
        provide: P8,
        useValue: e
    }, {
        provide: JP,
        useExisting: e instanceof Ze ? e : P8
    }, {
        provide: fM,
        deps: [P8, [new Jp(JP)]],
        useFactory: hQ
    }, {
        provide: tM,
        useValue: t.metaReducers ? t.metaReducers : []
    }, {
        provide: nM,
        deps: [Fp, tM],
        useFactory: pQ
    }, {
        provide: YP,
        useValue: t.reducerFactory ? t.reducerFactory : F8
    }, {
        provide: dM,
        deps: [YP, nM],
        useFactory: vM
    }, VY, qY, zY, KY, YY, wQ(t.runtimeChecks), xM()]
}
function OQ(e, t, n={}) {
    return [{
        provide: ZP,
        multi: !0,
        useValue: e instanceof Object ? {} : n
    }, {
        provide: QP,
        multi: !0,
        useValue: {
            key: e instanceof Object ? e.name : e,
            reducerFactory: !(n instanceof Ze) && n.reducerFactory ? n.reducerFactory : F8,
            metaReducers: !(n instanceof Ze) && n.metaReducers ? n.metaReducers : [],
            initialState: !(n instanceof Ze) && n.initialState ? n.initialState : void 0
        }
    }, {
        provide: pM,
        deps: [ZP, QP],
        useFactory: dQ
    }, {
        provide: M8,
        multi: !0,
        useValue: e instanceof Object ? e.reducer : t
    }, {
        provide: eM,
        multi: !0,
        useExisting: t instanceof Ze ? t : M8
    }, {
        provide: gM,
        multi: !0,
        deps: [M8, [new Jp(eM)]],
        useFactory: fQ
    }, xM()]
}
var wM = ( () => {
    let t = class t {
        constructor(i, r, s, o, a, c) {}
    }
    ;
    t.\u0275fac = function(r) {
        return new (r || t)(xe(xh),xe(h5),xe(L8),xe(B8),xe(hM, 8),xe(N8, 8))
    }
    ,
    t.\u0275mod = ir({
        type: t
    }),
    t.\u0275inj = nr({});
    let e = t;
    return e
}
)()
  , PQ = ( () => {
    let t = class t {
        constructor(i, r, s, o, a) {
            this.features = i,
            this.featureReducers = r,
            this.reducerManager = s;
            let c = i.map( (l, u) => {
                let d = r.shift()[u];
                return ve(C({}, l), {
                    reducers: d,
                    initialState: SM(l.initialState)
                })
            }
            );
            s.addFeatures(c)
        }
        ngOnDestroy() {
            this.reducerManager.removeFeatures(this.features)
        }
    }
    ;
    t.\u0275fac = function(r) {
        return new (r || t)(xe(pM),xe(gM),xe(Bp),xe(wM),xe(N8, 8))
    }
    ,
    t.\u0275mod = ir({
        type: t
    }),
    t.\u0275inj = nr({});
    let e = t;
    return e
}
)()
  , x8e = ( () => {
    let t = class t {
        static forRoot(i, r) {
            return {
                ngModule: wM,
                providers: [...TQ(i, r)]
            }
        }
        static forFeature(i, r, s={}) {
            return {
                ngModule: PQ,
                providers: [...OQ(i, r, s)]
            }
        }
    }
    ;
    t.\u0275fac = function(r) {
        return new (r || t)
    }
    ,
    t.\u0275mod = ir({
        type: t
    }),
    t.\u0275inj = nr({});
    let e = t;
    return e
}
)();
function w8e(...e) {
    let t = e.pop()
      , n = e.map(i => i.type);
    return {
        reducer: t,
        types: n
    }
}
function C8e(e, ...t) {
    let n = new Map;
    for (let i of t)
        for (let r of i.types) {
            let s = n.get(r);
            if (s) {
                let o = (a, c) => i.reducer(s(a, c), c);
                n.set(r, o)
            } else
                n.set(r, i.reducer)
        }
    return function(i=e, r) {
        let s = n.get(r.type);
        return s ? s(i, r) : i
    }
}
var F8e = ( () => {
    let t = class t extends gn {
        constructor(i) {
            super(),
            this.accountService = i,
            this.initializeResult = !1,
            this.firstTimeLsConnect = !1,
            this.connectionState = Rt.Disconnected,
            this.connectionStateSubject = new Ne(this.connectionState),
            this.connectionState$ = this.connectionStateSubject.asObservable(),
            this.lsConnectedSubject = new Ne(this.firstTimeLsConnect),
            this.lsConnected$ = this.lsConnectedSubject.asObservable(),
            Zf(this.unsubscribeAllAndDisconnect)
        }
        start() {
            this.lsClient = new G3(this.environment.setting.marketSheetLsUrl[0],"lsadapter-conf");
            let i = this.accountService?.userAccountInfo?.value?.customerIsin;
            this.environment.setting.lsUrl.includes("stage") && (i === "11290080931413" || i === "11290069635676" ? i = "11290937779334" : (i === "11290011810777" || i === "11290222222220") && (i = "11290859862836")),
            this.lsClient.connectionDetails.setUser(i),
            this.lsClient.connectionOptions.setCookieHandlingRequired(!0),
            this.lsClient.connectionOptions.setEarlyWSOpenEnabled(!1),
            this.lsClient.connectionDetails.setPassword("xxxxx"),
            this.lsClient.connect(),
            this.lsClient.addListener({
                onServerError: r => {
                    this.changeConnectionState(Rt.NotConnected),
                    this.environment.env !== Yt.PROD && console.log(r)
                }
                ,
                onStatusChange: r => {
                    try {
                        let s = r.split(":");
                        s.length > 0 && (s[0] === "CONNECTED" ? this.changeConnectionState(Rt.Connected) : s[0] === "CONNECTING" ? this.changeConnectionState(Rt.Connecting) : s[0] === "DISCONNECTED" ? this.changeConnectionState(Rt.Disconnected) : this.changeConnectionState(Rt.Unknown))
                    } catch (s) {
                        console.log(s),
                        this.changeConnectionState(Rt.Unknown)
                    }
                }
            }),
            this.initializeResult = !0
        }
        changeConnectionState(i) {
            this.connectionState = i,
            this.connectionStateSubject.next(i),
            !this.firstTimeLsConnect && i === Rt.Connected && (this.firstTimeLsConnect = !0,
            this.lsConnectedSubject.next(!0))
        }
        ngOnDestroy() {
            this.disconnect()
        }
        unsubscribeAllAndDisconnect() {
            try {
                this?.unsubscribeAll(),
                this?.disconnect()
            } catch (i) {
                console.log(i)
            }
        }
        disconnect() {
            this.lsClient?.disconnect()
        }
        subscribeToLsOnLsConnection(i) {
            return this.lsConnected$.subscribe(s => {
                s && i.call(null)
            }
            )
        }
        subscribeToLsBySchema(i, r) {
            let s = this.getSubscriptionModelBySchema(i, r);
            return this.subscriptionToItems(s, r)
        }
        getSubscriptionModelBySchema(i, r) {
            let s = ti.LsSchemasTopic.find(a => a.schema === i)?.topic;
            return {
                mode: ti.RawModeSchemas.indexOf(i) > -1 ? Ol.Raw : Ol.Merge,
                adapterName: ti.LsAdapterName.find(a => a.topic === ti.LsSchemasTopic.find(c => c.schema === i)?.topic)?.value,
                schema: this.getSchema(ti.LsSchemas.find(a => a.type === i)?.schema),
                isSnapshot: ti.SnapshotSchemas.indexOf(i) > -1 ? xa.Yes : xa.No,
                items: [s + (r ? ":" + r : "")],
                changeType: ti.FullModeChangeSchemas.indexOf(i) > -1 ? Sa.Full : Sa.Field
            }
        }
        getSchema(i) {
            return Object.keys(i).map(r => i[r])
        }
        subscriptionToItems(i, r) {
            let s = new Bc(i.mode,i.items,i.schema);
            s.setDataAdapter(i.adapterName),
            s.setRequestedSnapshot(i.isSnapshot);
            let o = new lt
              , a = o.asObservable();
            return s.addListener({
                onItemUpdate: c => {
                    try {
                        if (i.changeType === Sa.Field)
                            c.forEachChangedField( (l, u, h) => {
                                let d = {
                                    inst: r ?? "",
                                    name: l,
                                    pos: u,
                                    val: h
                                };
                                o.next(d)
                            }
                            );
                        else {
                            let l = {};
                            i.schema.forEach(h => {
                                l[h] = c.getValue(h)
                            }
                            );
                            let u = {
                                inst: r ?? "",
                                name: "",
                                pos: 0,
                                val: l
                            };
                            o.next(u)
                        }
                    } catch (l) {
                        console.log(l)
                    }
                }
            }),
            this.lsClient.subscribe(s),
            a
        }
        unsubscribeAll() {
            try {
                this.lsClient?.getSubscriptions()?.forEach(r => {
                    r?.unsubscribe()
                }
                )
            } catch (i) {
                console.log(i)
            }
        }
        unsubscribeSchema(i, r) {
            let s = this.getSchema(ti.LsSchemas.find(a => a.type === i).schema)
              , o = !1;
            return r ? o = this.unsubscribeItem(r, i, s) : o = this.unsubscribe(i, s),
            o
        }
        unsubscribeSymbolByDynamicSchema(i, r) {
            let s = !1;
            return s = this.unsubscribeItem(i, null, r),
            s
        }
        unsubscribeItem(i, r, s) {
            if (!this.initializeResult)
                return !1;
            if (!i || !r)
                return;
            let o = ti.LsSchemasTopic.find(l => l.schema === r).topic + ":" + i
              , a = this.lsClient?.getSubscriptions()
              , c = !1;
            return a.forEach(l => {
                let u = l.getItems()
                  , h = l.getFields();
                if (u[0] === o && this.isEqual(h, s))
                    try {
                        this.lsClient.unsubscribe(l),
                        c = !0
                    } catch {
                        c = !1
                    }
            }
            ),
            c
        }
        unsubscribe(i, r) {
            if (!this.initializeResult)
                return !1;
            if (!i)
                return;
            let s = this.lsClient?.getSubscriptions()
              , o = !1;
            return s.forEach(a => {
                let c = a.getFields();
                if (this.isEqual(c, r))
                    try {
                        this.lsClient.unsubscribe(a),
                        o = !0
                    } catch {
                        o = !1
                    }
            }
            ),
            o
        }
        isEqual(i, r) {
            if (i.length !== r.length)
                return !1;
            for (let s of i) {
                let o = s;
                if (!r.includes(o))
                    return !1
            }
            return !0
        }
        logSubs() {
            let i = this.lsClient?.getSubscriptions();
            console.log("@@@@ current ls subscriptions", i)
        }
    }
    ;
    t.\u0275fac = function(r) {
        return new (r || t)(xe(mo))
    }
    ,
    t.\u0275prov = re({
        token: t,
        factory: t.\u0275fac,
        providedIn: "root"
    });
    let e = t;
    return e
}
)();
var X8e = ( () => {
    let t = class t {
        constructor() {
            this.environment = z(xn),
            this.accountService = z(mo),
            this.gtagService = z(ol),
            this.easyWorker = z(XP),
            this.unleashService = z(YE),
            this.lsService = z(Jl),
            this.unsubscribe_all = new lt,
            Zf(this.lsService.unsubscribeAllAndDisconnect),
            this.environment.env !== Yt.PROD && setInterval( () => {}
            , 1e4),
            this.lsService.connectionState$.pipe(In(this.unsubscribe_all)).subscribe(i => {
                let r = "";
                switch (i) {
                case Rt.Connected:
                    r = "Connected";
                    break;
                case Rt.Connecting:
                    r = "Connecting";
                    break;
                case Rt.Disconnected:
                    r = "Disconnected";
                    break;
                default:
                    r = "Unknown";
                    break
                }
                this.gtagService.sendGtagEvent("network_connectivity", "network_status", r)
            }
            )
        }
        start() {
            let i = this.accountService?.userAccountInfo?.value?.customerIsin;
            this.environment.setting.lsUrl.includes("stage") && (i === "11290080931413" || i === "11290069635676" ? i = "11290937779334" : (i === "11290011810777" || i === "11290222222220") && (i = "11290859862836")),
            nc(this.unleashService.isFeatureEnabledStartsWithServerResponse$("web-worker"), li(1e3)).pipe(Lt(1)).subscribe(r => {
                this.lsService.setConfig({
                    customerIsin: i,
                    lsUrl: this.environment.setting.lsUrl,
                    webWorkerFeatureToggle: r === !0,
                    workerService: this.easyWorker
                }),
                this.lsService.start()
            }
            )
        }
        ngOnDestroy() {
            this.lsService.onDestroy(),
            this.unsubscribe_all.next()
        }
    }
    ;
    t.\u0275fac = function(r) {
        return new (r || t)
    }
    ,
    t.\u0275prov = re({
        token: t,
        factory: t.\u0275fac,
        providedIn: "root"
    });
    let e = t;
    return e
}
)();
var Dr = ( () => {
    let t = class t extends gn {
        constructor() {
            if (super(),
            this.accountService = z(mo),
            this.broadcastService = z(zP),
            this.localStorage = z(Tc),
            this.startupService = z(yh),
            this.notifyService = z(Us),
            this.internetConnectivity = z(V2),
            this.userService = z(Wr),
            this.userDeviceService = z(hr),
            this.router = z(Ui),
            this.gtagService = z(ol),
            this.settings = fT(this.environment),
            this.manager = new dT(this.settings),
            this.waitingForLogin = !0,
            this.checkUserFailedSub = new lt,
            this.checkLoginSuccessSub = new Ne(xr.None),
            this.checkUserFailed$ = this.checkUserFailedSub.asObservable(),
            this.checkLoginSuccess$ = this.checkLoginSuccessSub.asObservable(),
            this.deviceUniqueId = Ml(),
            this._oidcUserKey = "oidc-user",
            this.logoutFromAppSubject = new lt,
            this.logoutFromApp$ = this.logoutFromAppSubject.asObservable(),
            this.broadcastService.subscribeToMessage(G2.Logout, i => {
                i !== this.deviceUniqueId && setTimeout( () => {
                    this.logout()
                }
                , 200)
            }
            ),
            this.internetConnectivity.networkStatus$.pipe(Lt(1), Ge(i => {
                i || this.checkLoginSuccessSub.next(xr.InternetIsDisconnected)
            }
            )).subscribe(),
            this.startupService.authenticationType !== Ts.Secondary)
                this.manager.getUser().then(i => {
                    this.user = i,
                    this.accountService.setUserAccountInfo(this.accessToken),
                    this.isAuthorizedUser(),
                    i && this.isLoggedIn() ? this.userChecked() : i && this.userExpired && this.logOutFromApp()
                }
                ),
                this.manager.events.addUserLoaded(i => {
                    if (this.user = i,
                    this.accountService.setUserAccountInfo(this.accessToken),
                    this.localStorage.getItem(Vn.loggedIn) || this.localStorage.setItem(Vn.loggedIn, "true"),
                    sessionStorage.removeItem(Vn.isGuestUser),
                    this.isAuthorizedUser(),
                    this.isLoggedIn()) {
                        this.sameLogin();
                        let s = this.localStorage.getItem("redirect-after-login");
                        s || (s = "/");
                        let o = s.split("?")[1];
                        o && (s = s.split("?")[0]);
                        let a = new URLSearchParams(o)
                          , c = {};
                        a.forEach( (l, u) => {
                            c[u] = l
                        }
                        ),
                        this.router.navigate([s], {
                            queryParams: c
                        })
                    }
                }
                );
            else {
                let i = JSON.parse(sessionStorage.getItem(this._oidcUserKey));
                i && (this.user = i,
                this.accountService.setUserAccountInfo(this.accessToken),
                this.isAuthorizedUser(),
                i && this.isLoggedIn() ? this.userChecked() : i && this.userExpired && this.logout())
            }
        }
        get getUser() {
            return this.startupService.authenticationType !== Ts.Secondary ? this.manager.getUser() : Promise.resolve(this.user)
        }
        get easyApiUrl() {
            return this.mtsPath + this.apiUrls.easy
        }
        get userExpired() {
            let i = this.user?.expires_at ? this.user?.expires_at - Date.now() / 1e3 : void 0;
            return i !== void 0 ? i <= 0 : !0
        }
        get accessToken() {
            let i = this.getToken();
            return i ? N2(i) : null
        }
        isLoggedIn() {
            return this.user !== null && !this.userExpired
        }
        sameLogin() {
            this.userDeviceService.UserDeviceInfo$.pipe(Jn(i => !!i), Ge(i => {
                let r = this.localStorage.getItem(Vn.uuid);
                return r ? this.msgSenderUniqId = r : (this.msgSenderUniqId = Ml(),
                this.localStorage.setItem(Vn.uuid, this.msgSenderUniqId)),
                this.httpService.post(`${this.easyApiUrl}account/same-login`, {
                    body: C({
                        uuid: this.msgSenderUniqId
                    }, i),
                    dontCheckSameLogin: !0,
                    maxRetryAttempts: 3
                }).pipe(Ge( () => this.userChecked())).subscribe()
            }
            )).subscribe()
        }
        getToken() {
            return this.user !== null ? this.user?.access_token : null
        }
        startAuthentication() {
            return this.waitingForLogin = !0,
            this.startupService.authenticationType === Ts.Secondary ? this.router.navigateByUrl("/login").then( () => Promise.resolve()) : this.manager.signinRedirect()
        }
        logout() {
            sessionStorage.removeItem(Vn.isGuestUser),
            this.logoutOms().pipe(gr( () => {
                this.startupService.authenticationType === Ts.Secondary ? (sessionStorage.removeItem(this._oidcUserKey),
                window.location.href = this.environment.appUrl + "/login") : this.user && this.isLoggedIn() ? this.logOutFromApp() : window.location.href = this.environment.appUrl
            }
            )).subscribe()
        }
        logOutFromApp() {
            this.userService.userUnChecked(),
            this.logoutFromAppSubject.next(!0),
            this.localStorage.removeItem(Vn.loggedIn),
            this.logOutOtherTabsAfterLogOut(),
            this.manager.signoutRedirect().then( () => {
                this.manager.removeUser()
            }
            )
        }
        completeAuthentication() {
            return this.manager.signinRedirectCallback().then( () => {
                this.gtagService.sendGtagEvent("redirect-to-app")
            }
            ).catch(i => {
                let r = xr.General;
                this.logOutFromApp(),
                (`${i}`.indexOf("iat is in the future") >= 0 || `${i}`.indexOf("exp is in the past") >= 0) && (r = xr.DateError),
                this.checkLoginSuccessSub.next(r)
            }
            )
        }
        setLoginError(i) {
            this.checkLoginSuccessSub.next(i)
        }
        redirectToSignIn() {
            this.manager.signinRedirect()
        }
        loginForPasswordGrantType(i) {
            this.localStorage.removeItem(Vn.loggedIn),
            sessionStorage.removeItem(Vn.isGuestUser),
            sessionStorage.removeItem(this._oidcUserKey);
            let r = {
                headers: new Wv().set("Content-Type", "application/x-www-form-urlencoded")
            }
              , s = new URLSearchParams;
            return s.set("username", i.username),
            s.set("password", i.password),
            s.set("grant_type", "password"),
            s.set("client_id", this.environment.oidcSettings.client_id),
            this.httpService.post(this.environment.oidcSettings.authority + "/connect/token", {
                body: s.toString(),
                options: r,
                dontCheckSameLogin: !0
            }).pipe($e(o => (o.expires_at || (o.expires_at = Math.trunc(Date.now() / 1e3 + o.expires_in)),
            o)), Ge(o => {
                sessionStorage.setItem(this._oidcUserKey, JSON.stringify(o)),
                this.user = o,
                this.accountService.setUserAccountInfo(this.accessToken),
                this.localStorage.getItem(Vn.loggedIn) || this.localStorage.setItem(Vn.loggedIn, "true");
                let c = this.localStorage.getItem("redirect-after-login");
                c || (c = "/"),
                this.router.navigate([c]),
                this.isAuthorizedUser(),
                this.sameLogin()
            }
            ), on(o => {
                throw o?.error?.error === "invalid_grant" && this.notifyService.alert(o?.error?.error_description, ii.danger, !1),
                o(o)
            }
            ))
        }
        redirectToLoginPage() {
            window.location.href = this.environment.appUrl
        }
        userChecked() {
            this.userService.getValue() || (this.userService.userChecked(),
            this.checkUserFailedSub.next(!1),
            this.waitingForLogin = !1)
        }
        logoutOms() {
            return this.httpService.post(`${this.easyApiUrl}account/logout`, null)
        }
        isAuthorizedUser() {
            return this.accessToken && (this.accessToken.contract || (this.setLoginError(xr.GuestUser),
            this.userService.isGuestUser = !0),
            this.accessToken.contract && this.accessToken.contract.lastIndexOf("OmsMofid_1.0") < 0 && (this.setLoginError(xr.Easy2User),
            this.userService.isGuestUser = !0,
            this.userService.isEasy2User = !0),
            !this.hasClaim(n3.EContract2) && this.isForceContract2() && this.setLoginError(xr.ForceContract2),
            this.hasClaim(n3.OptionSellOnline) && this.setLoginError(xr.OnlineOptionUser)),
            null
        }
        isForceContract2() {
            return this.accessToken?.isforce_contract === "true"
        }
        hasClaim(i) {
            return this.accessToken?.contract?.includes(i)
        }
        logOutOtherTabsAfterLogOut() {
            this.broadcastService.sendMessage(G2.Logout, this.deviceUniqueId)
        }
    }
    ;
    t.\u0275fac = function(r) {
        return new (r || t)
    }
    ,
    t.\u0275prov = re({
        token: t,
        factory: t.\u0275fac,
        providedIn: "root"
    });
    let e = t;
    return e
}
)();
var a_e = ( () => {
    let t = class t {
        transform(i) {
            return i ? Qf(i) : null
        }
    }
    ;
    t.\u0275fac = function(r) {
        return new (r || t)
    }
    ,
    t.\u0275pipe = ac({
        name: "eDigit",
        type: t,
        pure: !0
    });
    let e = t;
    return e
}
)();
var CM = p5(o_());
var u_e = ( () => {
    let t = class t {
        transform(i, r) {
            if (i && Sr.isValidDate(i)) {
                let s = (0,
                CM.default)(new Date(i))
                  , o = s.locale("fa").format("YYYY/MM/DD");
                return r === "time" && (o = `${s.locale("en").format("HH:mm:ss")} ${o}`),
                r === "justTime" && (o = `${s.locale("en").format("HH:mm:ss")}`),
                r === "justTime-3.5" && (o = `${s.add(-3, "hours").add(-30, "minutes").locale("en").format("hh:mm:ss")}`),
                o
            }
            return null
        }
    }
    ;
    t.\u0275fac = function(r) {
        return new (r || t)
    }
    ,
    t.\u0275pipe = ac({
        name: "jdate",
        type: t,
        pure: !0
    });
    let e = t;
    return e
}
)();
var f_e = ( () => {
    let t = class t {
        transform(i, r=!0) {
            return i && Sr.isValidDate(i) ? Sr.getJDateLongString(i, r) : null
        }
    }
    ;
    t.\u0275fac = function(r) {
        return new (r || t)
    }
    ,
    t.\u0275pipe = ac({
        name: "jdateLong",
        type: t,
        pure: !0
    });
    let e = t;
    return e
}
)();
var m_e = ( () => {
    let t = class t {
        transform(i, r, s) {
            let o = r ? " " + i.toString().slice(-8, -3) : ""
              , a = s ? Sr.getPersianDayOfWeek(i) + " " : ""
              , c = Sr.getPersianMonth(i)
              , l = Sr.getJDate(new Date(i))
              , u = Sr.getJDate(new Date)
              , h = l.substring(l.lastIndexOf("/") + 1)
              , d = l.substring(0, 4)
              , f = u.substring(0, 4)
              , g = d !== f ? " " + d : "";
            return `${a}${h} ${c}${g}${o}`
        }
    }
    ;
    t.\u0275fac = function(r) {
        return new (r || t)
    }
    ,
    t.\u0275pipe = ac({
        name: "stringDate",
        type: t,
        pure: !0
    });
    let e = t;
    return e
}
)();
function w_e(e) {
    e = e.trim(),
    e = e === "\u063A\u067E\u0622\u0630\u0631" ? "\u063A\u067E\u0627\u0630\u0631" : e,
    window.open(`https://codal.ir/ReportList.aspx?search&Symbol=${e}`, "_blank")
}
function O_e(e, t, n) {
    return t === 0 || !t || !n || n === 0 ? 0 : e > 0 && t > 0 ? Math.round((e - t) / t * 1e4) / 100 : 0
}
function P_e(e, t, n, i, r, s, o, a=1) {
    let c = 0;
    if (e || t || n)
        r === hu || i === 0 ? c = e : i === 2 ? c = t : i === 1 && (c = o ? t : e);
    else
        return 0;
    return s * c * a * (1 - (n ?? 0))
}
function M_e(e, t, n, i, r) {
    if (e == t3.Buy)
        return t * (1 + i) / (1 - r);
    if (e == t3.Sell)
        return n * (1 + r) / (1 + i)
}
var I_e = ( () => {
    let t = class t extends I6 {
        constructor() {
            super(),
            this.overrides = {
                swipe: {
                    velocity: .1,
                    threshold: 1
                },
                press: {
                    time: 500
                }
            },
            this.options = {
                touchAction: "pan-y"
            }
        }
    }
    ;
    t.\u0275fac = function(r) {
        return new (r || t)
    }
    ,
    t.\u0275prov = re({
        token: t,
        factory: t.\u0275fac,
        providedIn: "root"
    });
    let e = t;
    return e
}
)();
var EM = class {
    getSource(t) {
        return (n, i) => this.loadData(t, n, i, t?.length).pipe($e(r => r))
    }
    constructor(t, n) {
        this._offset$ = new Ne(0),
        this.loading$ = new Ne(!1),
        this.hasMore$ = new Ne(!0),
        this.remainingCount$ = new Ne(0),
        this.totalCount$ = new Ne(0);
        let i = this.getSource(t);
        this._limit$ = new Ne(n || 10),
        this._dataSource$ = ll(this._offset$, this._limit$).pipe(Ge( () => this.loading$.next(!0)), Vt( ([r,s]) => i(r, s).pipe($e( ({data: o, totalElement: a}) => ({
            offset: r,
            data: o,
            totalElement: a,
            limit: s
        })))), Ge( ({totalElement: r, offset: s, limit: o}) => {
            this.hasMore$.next(r > s + o),
            this.remainingCount$.next(Math.max(r - s - o, 0)),
            this.totalCount$.next(r)
        }
        ), F0( (r, s) => s.offset == 0 ? s.data : [...r, ...s.data], []), Ge( () => this.loading$.next(!1)))
    }
    subscribe(t, n, i) {
        return this._dataSource$.subscribe(...arguments)
    }
    reload() {
        this._offset$.next(0)
    }
    loadMore() {
        this.loading$.getValue() || this._offset$.next(this._offset$.getValue() + this._limit$.getValue())
    }
    loadData(t, n, i, r) {
        return new bo(s => {
            s.next({
                data: this.getIndexedArray(i, n, t, r),
                totalElement: r
            })
        }
        )
    }
    getIndexedArray(t, n, i, r) {
        return t = Math.min(n + t, r) - n,
        t <= 0 ? [] : i.slice(n, n + t)
    }
}
;
var d5 = class {
    and(t) {
        return new Hp(this,t)
    }
    andNot(t) {
        return new G8(this,t)
    }
    or(t) {
        return new Gp(this,t)
    }
    orNot(t) {
        return new V8(this,t)
    }
    not() {
        return new W8(this)
    }
}
  , Hp = class extends d5 {
    constructor(t, n) {
        super(),
        this.left = t,
        this.right = n
    }
    isSatisfiedBy(t) {
        return this.left.isSatisfiedBy(t) && this.right.isSatisfiedBy(t)
    }
    toString() {
        return "(" + this.left.toString() + " and " + this.right.toString() + ")"
    }
}
  , G8 = class extends Hp {
    isSatisfiedBy(t) {
        return super.isSatisfiedBy(t) !== !0
    }
    toString() {
        return "not " + super.toString()
    }
}
  , Gp = class extends d5 {
    constructor(t, n) {
        super(),
        this.left = t,
        this.right = n
    }
    isSatisfiedBy(t) {
        return this.left.isSatisfiedBy(t) || this.right.isSatisfiedBy(t)
    }
    toString() {
        return "(" + this.left.toString() + " or " + this.right.toString() + ")"
    }
}
  , V8 = class extends Gp {
    isSatisfiedBy(t) {
        return super.isSatisfiedBy(t) !== !0
    }
    toString() {
        return "not " + super.toString()
    }
}
  , W8 = class extends d5 {
    constructor(t) {
        super(),
        this.other = t
    }
    isSatisfiedBy(t) {
        return !this.other.isSatisfiedBy(t)
    }
    toString() {
        return "(not " + this.other.toString() + ")"
    }
}
;
export {wl as a, xf as b, Cf as c, Ly as d, dse as e, fse as f, k6 as g, pse as h, Ro as i, No as j, FR as k, Ui as l, Dse as m, Nse as n, qD as o, zD as p, Fse as q, Kse as r, gu as s, Jf as t, vg as u, Xb as v, lae as w, uae as x, dae as y, pi as z, Vb as A, gg as B, ei as C, toe as D, sN as E, kd as F, Wb as G, Sg as H, Dd as I, Nd as J, pN as K, y as L, $b as M, hu as N, Yf as O, Rt as P, K as Q, se as R, Soe as S, xoe as T, Ooe as U, Poe as V, aN as W, Moe as X, koe as Y, Aoe as Z, Ioe as _, Roe as $, Doe as aa, Noe as ba, lN as ca, du as da, qoe as ea, zoe as fa, Xoe as ga, uN as ha, Koe as ia, Yoe as ja, Qle as ka, Jle as la, Zle as ma, Qf as na, Joe as oa, Ml as pa, Zoe as qa, eae as ra, dN as sa, tae as ta, nae as ua, iae as va, rae as wa, n0e as xa, nE as ya, Sr as za, mae as Aa, vae as Ba, _ae as Ca, yae as Da, bae as Ea, Sae as Fa, a0e as Ga, u0e as Ha, Oae as Ia, wc as Ja, Pae as Ka, Mae as La, d0e as Ma, f0e as Na, iE as Oa, m0e as Pa, y2 as Qa, b0e as Ra, rE as Sa, sE as Ta, oE as Ua, Iae as Va, Jb as Wa, Zb as Xa, wa as Ya, Rae as Za, Yt as _a, pu as $a, xn as ab, vce as bb, a_e as cb, u_e as db, f_e as eb, m_e as fb, w_e as gb, Qt as hb, nt as ib, Bce as jb, Gce as kb, Vce as lb, gN as mb, mN as nb, Pz as ob, gT as pb, ii as qb, vN as rb, t3 as sb, E3e as tb, b0 as ub, T3e as vb, xg as wb, O_e as xb, P_e as yb, M_e as zb, XP as Ab, Ql as Bb, yn as Cb, I_e as Db, Fd as Eb, cle as Fb, EM as Gb, d5 as Hb, n3 as Ib, D2 as Jb, XE as Kb, Vn as Lb, Tc as Mb, Wr as Nb, i3 as Ob, gn as Pb, hr as Qb, w2e as Rb, mo as Sb, F2e as Tb, Qc as Ub, W9 as Vb, X2e as Wb, J2e as Xb, Nle as Yb, g4e as Zb, Jl as _b, $0e as $b, aE as ac, j0e as bc, q0e as cc, z0e as dc, cue as ec, cE as fc, dK as gc, w4e as hc, Us as ic, M4e as jc, V4e as kc, j4e as lc, Q4e as mc, pK as nc, Ap as oc, mue as pc, Lme as qc, Gme as rc, uE as sc, Wme as tc, RE as uc, q5e as vc, uq as wc, h9 as xc, z5e as yc, DE as zc, X5e as Ac, NE as Bc, LE as Cc, K5e as Dc, Y5e as Ec, Jc as Fc, YE as Gc, Jme as Hc, t8e as Ic, s8e as Jc, NY as Kc, FY as Lc, v8e as Mc, _8e as Nc, uM as Oc, xh as Pc, D8 as Qc, h5 as Rc, Lp as Sc, jY as Tc, L8 as Uc, Up as Vc, B8 as Wc, S8e as Xc, wM as Yc, PQ as Zc, x8e as _c, w8e as $c, C8e as ad, F8e as bd, X8e as cd, Dr as dd, ppe as ed, za as fd, Npe as gd, Lpe as hd, $pe as id, r4e as jd, p6e as kd, l5 as ld, k6e as md, B6e as nd, AP as od, sge as pd, lge as qd, T8 as rd, Oge as sd, Hge as td, Zge as ud, UP as vd, y7e as wd, E7e as xd, sY as yd, Dp as zd, e9e as Ad, m9e as Bd, R9e as Cd, W9e as Dd, Q9e as Ed, sme as Fd};
//# sourceMappingURL=chunk-V2EJXE5L.js.map
